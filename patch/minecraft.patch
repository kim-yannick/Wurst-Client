From 020d00d18ef674869046cdfa65fdb6809c58fb85 Mon Sep 17 00:00:00 2001
From: Alexander01998 <contact.wurstimperium@gmail.com>
Date: Wed, 28 Dec 2016 17:37:08 +0100
Subject: [PATCH] mod

---
 net/minecraft/block/Block.java                     |  33 +-
 net/minecraft/block/BlockBanner.java               |   2 +-
 net/minecraft/block/BlockBasePressurePlate.java    |   6 +-
 net/minecraft/block/BlockBeacon.java               |   4 +-
 net/minecraft/block/BlockBed.java                  |   6 +-
 net/minecraft/block/BlockBush.java                 |   4 +-
 net/minecraft/block/BlockCactus.java               |  14 +-
 net/minecraft/block/BlockCake.java                 |   2 +-
 net/minecraft/block/BlockCarpet.java               |   2 +-
 net/minecraft/block/BlockChest.java                |  46 +-
 net/minecraft/block/BlockCrops.java                |  16 +-
 net/minecraft/block/BlockDirt.java                 |   2 +-
 net/minecraft/block/BlockDispenser.java            |  10 +-
 net/minecraft/block/BlockDoor.java                 |  22 +-
 net/minecraft/block/BlockDoublePlant.java          |  34 +-
 net/minecraft/block/BlockDragonEgg.java            |   4 +-
 net/minecraft/block/BlockDynamicLiquid.java        |  26 +-
 net/minecraft/block/BlockEnderChest.java           |   2 +-
 net/minecraft/block/BlockFalling.java              |   6 +-
 net/minecraft/block/BlockFarmland.java             |   6 +-
 net/minecraft/block/BlockFence.java                |  18 +-
 net/minecraft/block/BlockFenceGate.java            |   4 +-
 net/minecraft/block/BlockFire.java                 |  44 +-
 net/minecraft/block/BlockFlowerPot.java            |   4 +-
 net/minecraft/block/BlockFurnace.java              |   8 +-
 net/minecraft/block/BlockGrass.java                |  14 +-
 net/minecraft/block/BlockIce.java                  |   2 +-
 net/minecraft/block/BlockLadder.java               |   2 +-
 net/minecraft/block/BlockLeaves.java               |   2 +-
 net/minecraft/block/BlockLever.java                |   6 +-
 net/minecraft/block/BlockLilyPad.java              |   2 +-
 net/minecraft/block/BlockLiquid.java               |  31 +-
 net/minecraft/block/BlockMushroom.java             |   2 +-
 net/minecraft/block/BlockMycelium.java             |  10 +-
 net/minecraft/block/BlockNetherWart.java           |   2 +-
 net/minecraft/block/BlockPane.java                 |  18 +-
 net/minecraft/block/BlockPistonBase.java           |   2 +-
 net/minecraft/block/BlockPortal.java               |  24 +-
 net/minecraft/block/BlockPumpkin.java              |   2 +-
 net/minecraft/block/BlockRailBase.java             |  94 ++--
 net/minecraft/block/BlockRailDetector.java         |   4 +-
 net/minecraft/block/BlockRailPowered.java          |   4 +-
 net/minecraft/block/BlockRedstoneDiode.java        |   4 +-
 net/minecraft/block/BlockRedstoneOre.java          |  12 +-
 net/minecraft/block/BlockRedstoneWire.java         |  26 +-
 net/minecraft/block/BlockReed.java                 |  12 +-
 net/minecraft/block/BlockSapling.java              |   2 +-
 net/minecraft/block/BlockSlab.java                 |   7 +-
 net/minecraft/block/BlockSnow.java                 |   2 +-
 net/minecraft/block/BlockSoulSand.java             |   6 +
 net/minecraft/block/BlockStairs.java               |  96 ++--
 net/minecraft/block/BlockStandingSign.java         |   2 +-
 net/minecraft/block/BlockStaticLiquid.java         |   4 +-
 net/minecraft/block/BlockStem.java                 |   4 +-
 net/minecraft/block/BlockTallGrass.java            |   2 +-
 net/minecraft/block/BlockTripWire.java             |   4 +-
 net/minecraft/block/BlockTripWireHook.java         |   4 +-
 net/minecraft/block/BlockVine.java                 |  18 +-
 net/minecraft/block/BlockWall.java                 |  10 +-
 net/minecraft/client/LoadingScreenRenderer.java    |  10 +-
 net/minecraft/client/Minecraft.java                | 574 +++++++++++++--------
 net/minecraft/client/audio/SoundManager.java       |   8 +-
 .../client/entity/AbstractClientPlayer.java        |  19 +-
 net/minecraft/client/entity/EntityPlayerSP.java    | 222 ++++++--
 net/minecraft/client/gui/FontRenderer.java         |  53 +-
 net/minecraft/client/gui/Gui.java                  |   8 +-
 net/minecraft/client/gui/GuiButton.java            |  96 ++--
 net/minecraft/client/gui/GuiButtonLanguage.java    |   1 +
 net/minecraft/client/gui/GuiButtonRealmsProxy.java |   1 +
 net/minecraft/client/gui/GuiChat.java              |   4 +-
 net/minecraft/client/gui/GuiCommandBlock.java      |   6 +-
 net/minecraft/client/gui/GuiConfirmOpenLink.java   |   2 +
 net/minecraft/client/gui/GuiControls.java          |   2 +
 net/minecraft/client/gui/GuiCreateFlatWorld.java   |   4 +-
 net/minecraft/client/gui/GuiCreateWorld.java       |   6 +-
 net/minecraft/client/gui/GuiCustomizeSkin.java     |   2 +
 .../client/gui/GuiCustomizeWorldScreen.java        |   5 +-
 net/minecraft/client/gui/GuiDisconnected.java      |  85 ++-
 net/minecraft/client/gui/GuiDownloadTerrain.java   |   2 +-
 net/minecraft/client/gui/GuiEnchantment.java       |  15 +-
 net/minecraft/client/gui/GuiErrorScreen.java       |   2 +
 net/minecraft/client/gui/GuiFlatPresets.java       |   6 +-
 net/minecraft/client/gui/GuiGameOver.java          |  23 +-
 net/minecraft/client/gui/GuiHopper.java            |   2 +-
 net/minecraft/client/gui/GuiIngame.java            |  86 +--
 net/minecraft/client/gui/GuiIngameMenu.java        |  55 +-
 net/minecraft/client/gui/GuiKeyBindingList.java    |   3 +
 net/minecraft/client/gui/GuiLanguage.java          |   3 +
 net/minecraft/client/gui/GuiListButton.java        |   1 +
 net/minecraft/client/gui/GuiListExtended.java      |   4 +
 net/minecraft/client/gui/GuiLockIconButton.java    |   1 +
 net/minecraft/client/gui/GuiMainMenu.java          |  71 ++-
 net/minecraft/client/gui/GuiMemoryErrorScreen.java |   4 +-
 net/minecraft/client/gui/GuiMerchant.java          |  16 +-
 net/minecraft/client/gui/GuiMultiplayer.java       | 136 +++--
 net/minecraft/client/gui/GuiNewChat.java           |  48 +-
 net/minecraft/client/gui/GuiOptionButton.java      |   1 +
 net/minecraft/client/gui/GuiOptionSlider.java      |   1 +
 net/minecraft/client/gui/GuiOptions.java           |  20 +-
 net/minecraft/client/gui/GuiOptionsRowList.java    |   3 +
 net/minecraft/client/gui/GuiOverlayDebug.java      |  32 +-
 net/minecraft/client/gui/GuiPageButtonList.java    |   3 +
 net/minecraft/client/gui/GuiPlayerTabOverlay.java  |  34 +-
 net/minecraft/client/gui/GuiRenameWorld.java       |   3 +
 net/minecraft/client/gui/GuiRepair.java            |   6 +-
 net/minecraft/client/gui/GuiScreen.java            |  22 +-
 net/minecraft/client/gui/GuiScreenAddServer.java   |   3 +
 net/minecraft/client/gui/GuiScreenBook.java        |  76 ++-
 .../client/gui/GuiScreenCustomizePresets.java      |   4 +
 net/minecraft/client/gui/GuiScreenDemo.java        |   3 +
 .../client/gui/GuiScreenOptionsSounds.java         |   2 +
 net/minecraft/client/gui/GuiScreenRealmsProxy.java |   5 +-
 .../client/gui/GuiScreenResourcePacks.java         |   4 +
 net/minecraft/client/gui/GuiScreenServerList.java  |  11 +
 net/minecraft/client/gui/GuiSelectWorld.java       |   6 +
 net/minecraft/client/gui/GuiShareToLan.java        |   8 +
 .../gui/GuiSimpleScrolledSelectionListProxy.java   |   6 +-
 net/minecraft/client/gui/GuiSleepMP.java           |   8 +-
 net/minecraft/client/gui/GuiSlider.java            |   1 +
 net/minecraft/client/gui/GuiSlot.java              |  26 +-
 net/minecraft/client/gui/GuiSnooper.java           |   3 +
 net/minecraft/client/gui/GuiSpectator.java         |   4 +-
 net/minecraft/client/gui/GuiTextField.java         |   6 +-
 net/minecraft/client/gui/GuiVideoSettings.java     |   2 +
 net/minecraft/client/gui/GuiWinGame.java           |  14 +-
 net/minecraft/client/gui/GuiYesNo.java             |   3 +
 net/minecraft/client/gui/ScaledResolution.java     |   8 +-
 net/minecraft/client/gui/ScreenChatOptions.java    |   2 +
 .../client/gui/ServerListEntryNormal.java          |  10 +-
 net/minecraft/client/gui/ServerSelectionList.java  |  13 +-
 .../client/gui/achievement/GuiAchievement.java     |   2 +-
 .../client/gui/achievement/GuiAchievements.java    |   8 +-
 net/minecraft/client/gui/achievement/GuiStats.java |  11 +-
 net/minecraft/client/gui/inventory/GuiBeacon.java  |   5 +-
 net/minecraft/client/gui/inventory/GuiChest.java   | 114 +++-
 .../client/gui/inventory/GuiContainer.java         |  76 +--
 .../client/gui/inventory/GuiContainerCreative.java |  65 +--
 .../client/gui/inventory/GuiEditSign.java          |  34 +-
 .../client/gui/inventory/GuiInventory.java         |  11 +-
 .../gui/inventory/GuiScreenHorseInventory.java     |   2 +-
 .../client/gui/spectator/PlayerMenuObject.java     |   2 +-
 .../gui/spectator/categories/TeleportToPlayer.java |   6 +-
 .../gui/spectator/categories/TeleportToTeam.java   |   8 +-
 .../client/gui/stream/GuiIngestServers.java        |   1 +
 .../client/gui/stream/GuiStreamOptions.java        |   1 +
 .../client/gui/stream/GuiStreamUnavailable.java    |   4 +
 .../client/gui/stream/GuiTwitchUserMode.java       |   2 +
 net/minecraft/client/main/Main.java                |  21 +-
 .../client/multiplayer/GuiConnecting.java          |   2 +
 .../client/multiplayer/PlayerControllerMP.java     | 158 +++---
 net/minecraft/client/multiplayer/ServerList.java   |  16 +-
 net/minecraft/client/multiplayer/WorldClient.java  |  16 +-
 .../client/network/NetHandlerLoginClient.java      |   5 +
 .../client/network/NetHandlerPlayClient.java       | 284 +++-------
 .../client/network/NetworkPlayerInfo.java          |  53 +-
 net/minecraft/client/network/OldServerPinger.java  |   4 +
 net/minecraft/client/particle/Barrier.java         |   2 +-
 net/minecraft/client/particle/EffectRenderer.java  |   2 +
 .../client/particle/EntityBreakingFX.java          |   2 +-
 net/minecraft/client/particle/EntityDiggingFX.java |   2 +-
 net/minecraft/client/particle/EntityFX.java        |   2 +-
 .../client/particle/EntityFireworkOverlayFX.java   |   2 +-
 .../client/particle/EntityFootStepFX.java          |   2 +-
 .../client/particle/EntityLargeExplodeFX.java      |   2 +-
 .../client/renderer/ActiveRenderInfo.java          |   2 +-
 .../client/renderer/BlockFluidRenderer.java        |  24 +-
 .../client/renderer/BlockModelRenderer.java        |  10 +-
 net/minecraft/client/renderer/EntityRenderer.java  | 153 +++---
 .../client/renderer/ImageBufferDownload.java       |   6 +-
 .../client/renderer/InventoryEffectRenderer.java   |  10 +-
 net/minecraft/client/renderer/ItemModelMesher.java |  15 +-
 net/minecraft/client/renderer/ItemRenderer.java    |  38 +-
 net/minecraft/client/renderer/RenderGlobal.java    |  60 ++-
 .../client/renderer/ThreadDownloadImageData.java   |   8 +-
 net/minecraft/client/renderer/WorldRenderer.java   |  80 +--
 .../client/renderer/chunk/ChunkRenderWorker.java   |   3 +
 net/minecraft/client/renderer/chunk/VisGraph.java  |   4 +-
 net/minecraft/client/renderer/entity/Render.java   |  59 ++-
 .../client/renderer/entity/RenderDragon.java       |   4 +-
 .../client/renderer/entity/RenderFallingBlock.java |   7 +-
 .../client/renderer/entity/RenderFish.java         |   4 +-
 .../client/renderer/entity/RenderGuardian.java     |   2 +-
 .../client/renderer/entity/RenderItem.java         |  44 +-
 .../renderer/entity/RenderLightningBolt.java       |   2 +-
 .../client/renderer/entity/RenderLiving.java       |   8 +-
 .../client/renderer/entity/RenderManager.java      |  21 +-
 .../client/renderer/entity/RenderPlayer.java       |   7 +-
 .../client/renderer/entity/RenderXPOrb.java        |   2 +-
 .../renderer/entity/RendererLivingEntity.java      |  22 +-
 .../entity/layers/LayerEnderDragonDeath.java       |   4 +-
 .../renderer/texture/TextureAtlasSprite.java       |   2 +
 .../client/renderer/texture/TextureClock.java      |   6 +-
 .../client/renderer/texture/TextureCompass.java    |   4 +-
 .../client/renderer/texture/TextureManager.java    |  11 +
 .../client/renderer/texture/TextureMap.java        |   3 +
 .../client/renderer/texture/TextureUtil.java       |   2 +-
 .../renderer/tileentity/RenderItemFrame.java       |   2 +-
 .../tileentity/TileEntityBeaconRenderer.java       |   4 +-
 .../tileentity/TileEntityEndPortalRenderer.java    |   2 +-
 .../tileentity/TileEntityPistonRenderer.java       |   2 +-
 .../tileentity/TileEntityRendererDispatcher.java   |   2 +
 .../tileentity/TileEntitySkullRenderer.java        |   4 +-
 .../client/resources/DefaultPlayerSkin.java        |  21 +-
 .../client/resources/DefaultResourcePack.java      |   4 +
 .../client/resources/FallbackResourceManager.java  |   5 +
 .../client/resources/ResourcePackListEntry.java    |   4 +-
 .../client/resources/ResourcePackRepository.java   |   6 +-
 net/minecraft/client/resources/SkinManager.java    |  34 +-
 net/minecraft/client/settings/GameSettings.java    |   7 +-
 net/minecraft/client/settings/KeyBinding.java      |   8 +-
 net/minecraft/client/shader/Framebuffer.java       |   2 +-
 net/minecraft/client/shader/Shader.java            |   2 +-
 .../client/stream/BroadcastController.java         |   4 +
 net/minecraft/command/CommandBlockData.java        |   2 +-
 net/minecraft/command/CommandClearInventory.java   |   2 +-
 net/minecraft/command/CommandEntityData.java       |   2 +-
 net/minecraft/command/CommandFill.java             |   2 +-
 net/minecraft/command/CommandGive.java             |   2 +-
 net/minecraft/command/CommandSpreadPlayers.java    |   4 +-
 net/minecraft/command/IEntitySelector.java         |   2 +-
 net/minecraft/command/PlayerSelector.java          |   2 +-
 .../command/common/CommandReplaceItem.java         |   2 +-
 .../command/server/CommandBlockLogic.java          |  10 +-
 .../command/server/CommandScoreboard.java          |   2 +-
 net/minecraft/command/server/CommandSetBlock.java  |   2 +-
 net/minecraft/command/server/CommandSummon.java    |   2 +-
 net/minecraft/command/server/CommandTestFor.java   |   2 +-
 .../command/server/CommandTestForBlock.java        |   2 +-
 net/minecraft/crash/CrashReport.java               |  19 +-
 net/minecraft/crash/CrashReportCategory.java       |   3 +
 net/minecraft/entity/DataWatcher.java              |  10 +
 net/minecraft/entity/Entity.java                   |  73 ++-
 net/minecraft/entity/EntityHanging.java            |   2 +-
 net/minecraft/entity/EntityLivingBase.java         |  22 +-
 net/minecraft/entity/EntityTracker.java            |   3 +
 net/minecraft/entity/ai/EntityAIDoorInteract.java  |   2 +-
 net/minecraft/entity/ai/EntityAIEatGrass.java      |   4 +-
 .../entity/ai/EntityAIHarvestFarmland.java         |   4 +-
 net/minecraft/entity/ai/EntityAIMoveToBlock.java   |   2 +-
 net/minecraft/entity/ai/EntityAIOcelotSit.java     |   2 +-
 net/minecraft/entity/boss/EntityDragon.java        |  18 +-
 net/minecraft/entity/item/EntityArmorStand.java    |   4 +-
 net/minecraft/entity/item/EntityBoat.java          |   2 +-
 net/minecraft/entity/item/EntityFallingBlock.java  |   2 +-
 net/minecraft/entity/item/EntityMinecart.java      |   8 +-
 .../entity/item/EntityMinecartContainer.java       |   2 +-
 net/minecraft/entity/item/EntityMinecartTNT.java   |   4 +-
 net/minecraft/entity/item/EntityXPOrb.java         |   2 +-
 net/minecraft/entity/monster/EntityEnderman.java   |   4 +-
 net/minecraft/entity/monster/EntityGuardian.java   |   2 +-
 net/minecraft/entity/monster/EntitySilverfish.java |   2 +-
 net/minecraft/entity/passive/EntityAnimal.java     |   4 +-
 net/minecraft/entity/passive/EntityBat.java        |   2 +-
 net/minecraft/entity/passive/EntityHorse.java      |   2 +-
 net/minecraft/entity/passive/EntityOcelot.java     |   2 +-
 net/minecraft/entity/passive/EntityRabbit.java     |   4 +-
 net/minecraft/entity/passive/EntityWolf.java       |   2 +-
 net/minecraft/entity/player/EntityPlayer.java      |  46 +-
 net/minecraft/entity/player/EntityPlayerMP.java    |  16 +-
 net/minecraft/entity/player/InventoryPlayer.java   |   3 +-
 net/minecraft/entity/projectile/EntityArrow.java   |   2 +-
 .../entity/projectile/EntityFishHook.java          |   2 +-
 .../entity/projectile/EntitySmallFireball.java     |   2 +-
 .../entity/projectile/EntityThrowable.java         |   2 +-
 net/minecraft/init/Bootstrap.java                  |   2 +-
 net/minecraft/inventory/ContainerPlayer.java       |   2 +-
 net/minecraft/inventory/InventoryEnderChest.java   |   2 +-
 net/minecraft/inventory/Slot.java                  |   7 +-
 net/minecraft/item/ItemArmorStand.java             |   2 +-
 net/minecraft/item/ItemBed.java                    |   4 +-
 net/minecraft/item/ItemBoat.java                   |   4 +-
 net/minecraft/item/ItemBucket.java                 |   8 +-
 net/minecraft/item/ItemDoor.java                   |  10 +-
 net/minecraft/item/ItemEnderEye.java               |   2 +-
 net/minecraft/item/ItemGlassBottle.java            |   4 +-
 net/minecraft/item/ItemHoe.java                    |   2 +-
 net/minecraft/item/ItemLilyPad.java                |   6 +-
 net/minecraft/item/ItemMinecart.java               |   4 +-
 net/minecraft/item/ItemMonsterPlacer.java          |   4 +-
 net/minecraft/item/ItemSeedFood.java               |   4 +-
 net/minecraft/item/ItemSeeds.java                  |   4 +-
 net/minecraft/nbt/CompressedStreamTools.java       |   1 +
 net/minecraft/nbt/JsonToNBT.java                   |   2 +-
 net/minecraft/nbt/NBTTagCompound.java              |   3 +
 net/minecraft/network/NetHandlerPlayServer.java    |  17 +-
 net/minecraft/network/NetworkManager.java          | 327 ++++++------
 net/minecraft/network/NetworkSystem.java           |   5 +
 net/minecraft/network/PacketBuffer.java            |   6 +-
 net/minecraft/pathfinding/PathNavigate.java        |   2 +-
 net/minecraft/pathfinding/PathNavigateClimber.java |   2 +-
 net/minecraft/potion/PotionEffect.java             |  12 +-
 net/minecraft/realms/RealmsConnect.java            |   2 +
 net/minecraft/realms/RealmsScreen.java             |   2 +-
 net/minecraft/realms/RealmsServerStatusPinger.java |   3 +
 net/minecraft/realms/Tezzelator.java               |  14 +-
 net/minecraft/scoreboard/Scoreboard.java           |   2 +-
 net/minecraft/server/MinecraftServer.java          |   5 +
 .../server/integrated/IntegratedServer.java        |  13 +-
 net/minecraft/server/management/BanEntry.java      |  25 +-
 .../server/management/ItemInWorldManager.java      |   2 +-
 .../server/management/LowerStringMap.java          |   4 +-
 .../server/management/PlayerProfileCache.java      |   6 +-
 .../management/ServerConfigurationManager.java     |  18 +-
 .../server/network/NetHandlerLoginServer.java      |  12 +-
 net/minecraft/tileentity/TileEntityChest.java      |  10 +-
 net/minecraft/tileentity/TileEntityDispenser.java  |   2 +-
 net/minecraft/tileentity/TileEntityNote.java       |   4 +-
 net/minecraft/tileentity/TileEntitySign.java       |   3 +-
 net/minecraft/util/BlockPos.java                   |  44 +-
 net/minecraft/util/ChatComponentStyle.java         |   8 +
 net/minecraft/util/CryptManager.java               |  30 +-
 net/minecraft/util/JsonSerializableSet.java        |   6 +-
 net/minecraft/util/MessageDeserializer.java        |   3 +
 net/minecraft/util/MessageDeserializer2.java       |   6 +-
 net/minecraft/util/MessageSerializer.java          |   6 +-
 net/minecraft/util/MovingObjectPosition.java       |  20 +-
 net/minecraft/util/ScreenShotHelper.java           |   6 +-
 net/minecraft/util/Timer.java                      |   6 +
 net/minecraft/util/Vec3i.java                      |   6 +-
 net/minecraft/village/Village.java                 |   2 +-
 net/minecraft/village/VillageSiege.java            |   2 +-
 net/minecraft/world/Explosion.java                 |   2 +-
 net/minecraft/world/SpawnerAnimals.java            |  17 +-
 net/minecraft/world/Teleporter.java                |  14 +-
 net/minecraft/world/World.java                     |  95 ++--
 net/minecraft/world/WorldServer.java               |  15 +-
 net/minecraft/world/biome/BiomeDecorator.java      |   2 +-
 net/minecraft/world/biome/BiomeGenDesert.java      |   2 +-
 net/minecraft/world/biome/WorldChunkManager.java   |   2 +
 net/minecraft/world/chunk/Chunk.java               |   5 +-
 .../world/chunk/storage/AnvilChunkLoader.java      |   3 -
 net/minecraft/world/chunk/storage/RegionFile.java  |   4 +
 net/minecraft/world/gen/ChunkProviderEnd.java      |   7 -
 net/minecraft/world/gen/ChunkProviderGenerate.java |   2 +-
 net/minecraft/world/gen/ChunkProviderHell.java     |   2 +-
 net/minecraft/world/gen/ChunkProviderServer.java   |   3 +
 .../world/gen/feature/WorldGenBigMushroom.java     |   6 +-
 .../world/gen/feature/WorldGenBigTree.java         |  18 +-
 .../world/gen/feature/WorldGenBlockBlob.java       |   6 +-
 .../world/gen/feature/WorldGenCactus.java          |   2 +-
 .../world/gen/feature/WorldGenCanopyTree.java      |  10 +-
 .../world/gen/feature/WorldGenDeadBush.java        |   2 +-
 .../world/gen/feature/WorldGenDesertWells.java     |   2 +-
 .../world/gen/feature/WorldGenDungeons.java        |   4 +-
 net/minecraft/world/gen/feature/WorldGenFire.java  |   2 +-
 .../world/gen/feature/WorldGenForest.java          |   8 +-
 .../world/gen/feature/WorldGenGlowStone1.java      |   2 +-
 .../world/gen/feature/WorldGenGlowStone2.java      |   2 +-
 .../world/gen/feature/WorldGenHellLava.java        |  22 +-
 .../world/gen/feature/WorldGenHugeTrees.java       |   8 +-
 .../world/gen/feature/WorldGenIcePath.java         |   2 +-
 .../world/gen/feature/WorldGenIceSpike.java        |  10 +-
 net/minecraft/world/gen/feature/WorldGenLakes.java |   4 +-
 .../world/gen/feature/WorldGenLiquids.java         |  20 +-
 .../world/gen/feature/WorldGenMegaJungle.java      |  28 +-
 .../world/gen/feature/WorldGenMegaPineTree.java    |  14 +-
 net/minecraft/world/gen/feature/WorldGenMelon.java |   2 +-
 .../world/gen/feature/WorldGenPumpkin.java         |   2 +-
 net/minecraft/world/gen/feature/WorldGenReed.java  |   6 +-
 .../world/gen/feature/WorldGenSavannaTree.java     |  16 +-
 net/minecraft/world/gen/feature/WorldGenShrub.java |   4 +-
 .../world/gen/feature/WorldGenSpikes.java          |   4 +-
 net/minecraft/world/gen/feature/WorldGenSwamp.java |  22 +-
 .../world/gen/feature/WorldGenTaiga1.java          |   8 +-
 .../world/gen/feature/WorldGenTaiga2.java          |   8 +-
 .../world/gen/feature/WorldGenTallGrass.java       |   2 +-
 net/minecraft/world/gen/feature/WorldGenTrees.java |  20 +-
 net/minecraft/world/gen/feature/WorldGenVines.java |   2 +-
 .../gen/feature/WorldGeneratorBonusChest.java      |  22 +-
 net/minecraft/world/gen/layer/GenLayer.java        |   1 +
 .../world/gen/structure/MapGenStructure.java       |   2 +
 .../world/gen/structure/StructureComponent.java    |   2 +-
 .../gen/structure/StructureVillagePieces.java      |   4 +-
 .../world/pathfinder/WalkNodeProcessor.java        |   2 +-
 374 files changed, 3623 insertions(+), 2265 deletions(-)

diff --git a/net/minecraft/block/Block.java b/net/minecraft/block/Block.java
index d8fe39f..a7af6d8 100644
--- a/net/minecraft/block/Block.java
+++ b/net/minecraft/block/Block.java
@@ -3,6 +3,7 @@ package net.minecraft.block;
 import java.util.Iterator;
 import java.util.List;
 import java.util.Random;
+
 import net.minecraft.block.material.MapColor;
 import net.minecraft.block.material.Material;
 import net.minecraft.block.properties.IProperty;
@@ -20,19 +21,16 @@ import net.minecraft.item.ItemBlock;
 import net.minecraft.item.ItemStack;
 import net.minecraft.stats.StatList;
 import net.minecraft.tileentity.TileEntity;
-import net.minecraft.util.AxisAlignedBB;
-import net.minecraft.util.BlockPos;
-import net.minecraft.util.EnumFacing;
-import net.minecraft.util.EnumWorldBlockLayer;
-import net.minecraft.util.MovingObjectPosition;
-import net.minecraft.util.ObjectIntIdentityMap;
-import net.minecraft.util.RegistryNamespacedDefaultedByKey;
-import net.minecraft.util.ResourceLocation;
-import net.minecraft.util.StatCollector;
-import net.minecraft.util.Vec3;
+import net.minecraft.util.*;
 import net.minecraft.world.Explosion;
 import net.minecraft.world.IBlockAccess;
 import net.minecraft.world.World;
+import tk.wurst_client.WurstClient;
+import tk.wurst_client.features.mods.FreecamMod;
+import tk.wurst_client.features.mods.GhostHandMod;
+import tk.wurst_client.features.mods.NoClipMod;
+import tk.wurst_client.features.mods.XRayMod;
+import tk.wurst_client.utils.XRayUtils;
 
 public class Block
 {
@@ -351,7 +349,10 @@ public class Block
 
     public boolean isFullCube()
     {
-        return true;
+		// TODO: Client
+		return !WurstClient.INSTANCE.mods.xRayMod.isActive()
+			&& !WurstClient.INSTANCE.mods.freecamMod.isActive()
+			&& !WurstClient.INSTANCE.mods.noClipMod.isActive();
     }
 
     public boolean isPassable(IBlockAccess blockAccess, BlockPos pos)
@@ -441,7 +442,7 @@ public class Block
 
         if (var4 == 0 && var3 instanceof BlockSlab)
         {
-            pos = pos.offsetDown();
+            pos = pos.down();
             var3 = worldIn.getBlockState(pos).getBlock();
             return worldIn.getCombinedLight(pos, var3.getLightValue());
         }
@@ -453,6 +454,10 @@ public class Block
 
     public boolean shouldSideBeRendered(IBlockAccess worldIn, BlockPos pos, EnumFacing side)
     {
+		// TODO: Client
+		if(WurstClient.INSTANCE.mods.xRayMod.isEnabled())
+			return XRayUtils.isXRayBlock(this);
+    	
         return side == EnumFacing.DOWN && this.minY > 0.0D ? true : (side == EnumFacing.UP && this.maxY < 1.0D ? true : (side == EnumFacing.NORTH && this.minZ > 0.0D ? true : (side == EnumFacing.SOUTH && this.maxZ < 1.0D ? true : (side == EnumFacing.WEST && this.minX > 0.0D ? true : (side == EnumFacing.EAST && this.maxX < 1.0D ? true : !worldIn.getBlockState(pos).getBlock().isOpaqueCube())))));
     }
 
@@ -496,6 +501,10 @@ public class Block
 
     public boolean canCollideCheck(IBlockState state, boolean p_176209_2_)
     {
+		// TODO: Client
+		if(WurstClient.INSTANCE.mods.ghostHandMod.isActive())
+			return state.getBlock() == getBlockById(WurstClient.INSTANCE.options.ghostHandID);
+    	
         return this.isCollidable();
     }
 
diff --git a/net/minecraft/block/BlockBanner.java b/net/minecraft/block/BlockBanner.java
index da8bcb5..7ea31bd 100644
--- a/net/minecraft/block/BlockBanner.java
+++ b/net/minecraft/block/BlockBanner.java
@@ -217,7 +217,7 @@ public class BlockBanner extends BlockContainer
 
         public void onNeighborBlockChange(World worldIn, BlockPos pos, IBlockState state, Block neighborBlock)
         {
-            if (!worldIn.getBlockState(pos.offsetDown()).getBlock().getMaterial().isSolid())
+            if (!worldIn.getBlockState(pos.down()).getBlock().getMaterial().isSolid())
             {
                 this.dropBlockAsItem(worldIn, pos, state, 0);
                 worldIn.setBlockToAir(pos);
diff --git a/net/minecraft/block/BlockBasePressurePlate.java b/net/minecraft/block/BlockBasePressurePlate.java
index 14779fd..dcb62e1 100644
--- a/net/minecraft/block/BlockBasePressurePlate.java
+++ b/net/minecraft/block/BlockBasePressurePlate.java
@@ -72,12 +72,12 @@ public abstract class BlockBasePressurePlate extends Block
 
     public boolean canPlaceBlockAt(World worldIn, BlockPos pos)
     {
-        return this.canBePlacedOn(worldIn, pos.offsetDown());
+        return this.canBePlacedOn(worldIn, pos.down());
     }
 
     public void onNeighborBlockChange(World worldIn, BlockPos pos, IBlockState state, Block neighborBlock)
     {
-        if (!this.canBePlacedOn(worldIn, pos.offsetDown()))
+        if (!this.canBePlacedOn(worldIn, pos.down()))
         {
             this.dropBlockAsItem(worldIn, pos, state, 0);
             worldIn.setBlockToAir(pos);
@@ -180,7 +180,7 @@ public abstract class BlockBasePressurePlate extends Block
     protected void updateNeighbors(World worldIn, BlockPos pos)
     {
         worldIn.notifyNeighborsOfStateChange(pos, this);
-        worldIn.notifyNeighborsOfStateChange(pos.offsetDown(), this);
+        worldIn.notifyNeighborsOfStateChange(pos.down(), this);
     }
 
     public int isProvidingWeakPower(IBlockAccess worldIn, BlockPos pos, IBlockState state, EnumFacing side)
diff --git a/net/minecraft/block/BlockBeacon.java b/net/minecraft/block/BlockBeacon.java
index 1b3e786..0ff1405 100644
--- a/net/minecraft/block/BlockBeacon.java
+++ b/net/minecraft/block/BlockBeacon.java
@@ -113,9 +113,11 @@ public class BlockBeacon extends BlockContainer
             {
                 Chunk var1 = worldIn.getChunkFromBlockCoords(p_176450_1_);
 
+                // TODO: Client
+                final BlockPos var3 = new BlockPos(0, 0, 0);
                 for (int var2 = p_176450_1_.getY() - 1; var2 >= 0; --var2)
                 {
-                    final BlockPos var3 = new BlockPos(p_176450_1_.getX(), var2, p_176450_1_.getZ());
+                    var3.setPos(p_176450_1_.getX(), var2, p_176450_1_.getZ());
 
                     if (!var1.canSeeSky(var3))
                     {
diff --git a/net/minecraft/block/BlockBed.java b/net/minecraft/block/BlockBed.java
index 2aa01cc..7e9fc3e 100644
--- a/net/minecraft/block/BlockBed.java
+++ b/net/minecraft/block/BlockBed.java
@@ -195,11 +195,13 @@ public class BlockBed extends BlockDirectional
             int var10 = var8 + 2;
             int var11 = var9 + 2;
 
+            // TODO: Client
+            BlockPos var14 = new BlockPos(0, 0, 0);
             for (int var12 = var8; var12 <= var10; ++var12)
             {
                 for (int var13 = var9; var13 <= var11; ++var13)
                 {
-                    BlockPos var14 = new BlockPos(var12, var5, var13);
+                    var14.setPos(var12, var5, var13);
 
                     if (func_176469_d(worldIn, var14))
                     {
@@ -219,7 +221,7 @@ public class BlockBed extends BlockDirectional
 
     protected static boolean func_176469_d(World worldIn, BlockPos p_176469_1_)
     {
-        return World.doesBlockHaveSolidTopSurface(worldIn, p_176469_1_.offsetDown()) && !worldIn.getBlockState(p_176469_1_).getBlock().getMaterial().isSolid() && !worldIn.getBlockState(p_176469_1_.offsetUp()).getBlock().getMaterial().isSolid();
+        return World.doesBlockHaveSolidTopSurface(worldIn, p_176469_1_.down()) && !worldIn.getBlockState(p_176469_1_).getBlock().getMaterial().isSolid() && !worldIn.getBlockState(p_176469_1_.up()).getBlock().getMaterial().isSolid();
     }
 
     /**
diff --git a/net/minecraft/block/BlockBush.java b/net/minecraft/block/BlockBush.java
index a2a0116..a515b2f 100644
--- a/net/minecraft/block/BlockBush.java
+++ b/net/minecraft/block/BlockBush.java
@@ -30,7 +30,7 @@ public class BlockBush extends Block
 
     public boolean canPlaceBlockAt(World worldIn, BlockPos pos)
     {
-        return super.canPlaceBlockAt(worldIn, pos) && this.canPlaceBlockOn(worldIn.getBlockState(pos.offsetDown()).getBlock());
+        return super.canPlaceBlockAt(worldIn, pos) && this.canPlaceBlockOn(worldIn.getBlockState(pos.down()).getBlock());
     }
 
     /**
@@ -63,7 +63,7 @@ public class BlockBush extends Block
 
     public boolean canBlockStay(World worldIn, BlockPos p_180671_2_, IBlockState p_180671_3_)
     {
-        return this.canPlaceBlockOn(worldIn.getBlockState(p_180671_2_.offsetDown()).getBlock());
+        return this.canPlaceBlockOn(worldIn.getBlockState(p_180671_2_.down()).getBlock());
     }
 
     public AxisAlignedBB getCollisionBoundingBox(World worldIn, BlockPos pos, IBlockState state)
diff --git a/net/minecraft/block/BlockCactus.java b/net/minecraft/block/BlockCactus.java
index fbdcfb5..88683a8 100644
--- a/net/minecraft/block/BlockCactus.java
+++ b/net/minecraft/block/BlockCactus.java
@@ -2,6 +2,7 @@ package net.minecraft.block;
 
 import java.util.Iterator;
 import java.util.Random;
+
 import net.minecraft.block.material.Material;
 import net.minecraft.block.properties.IProperty;
 import net.minecraft.block.properties.PropertyInteger;
@@ -16,6 +17,8 @@ import net.minecraft.util.DamageSource;
 import net.minecraft.util.EnumFacing;
 import net.minecraft.util.EnumWorldBlockLayer;
 import net.minecraft.world.World;
+import tk.wurst_client.WurstClient;
+import tk.wurst_client.features.mods.AntiCactusMod;
 
 public class BlockCactus extends Block
 {
@@ -32,13 +35,13 @@ public class BlockCactus extends Block
 
     public void updateTick(World worldIn, BlockPos pos, IBlockState state, Random rand)
     {
-        BlockPos var5 = pos.offsetUp();
+        BlockPos var5 = pos.up();
 
         if (worldIn.isAirBlock(var5))
         {
             int var6;
 
-            for (var6 = 1; worldIn.getBlockState(pos.offsetDown(var6)).getBlock() == this; ++var6)
+            for (var6 = 1; worldIn.getBlockState(pos.down(var6)).getBlock() == this; ++var6)
             {
                 ;
             }
@@ -64,7 +67,10 @@ public class BlockCactus extends Block
 
     public AxisAlignedBB getCollisionBoundingBox(World worldIn, BlockPos pos, IBlockState state)
     {
-        float var4 = 0.0625F;
+		// TODO: Client
+		float var4 =
+			WurstClient.INSTANCE.mods.antiCactusMod.isActive() ? 0 : 0.0625F;
+        
         return new AxisAlignedBB((double)((float)pos.getX() + var4), (double)pos.getY(), (double)((float)pos.getZ() + var4), (double)((float)(pos.getX() + 1) - var4), (double)((float)(pos.getY() + 1) - var4), (double)((float)(pos.getZ() + 1) - var4));
     }
 
@@ -111,7 +117,7 @@ public class BlockCactus extends Block
             }
         }
 
-        Block var5 = worldIn.getBlockState(p_176586_2_.offsetDown()).getBlock();
+        Block var5 = worldIn.getBlockState(p_176586_2_.down()).getBlock();
         return var5 == Blocks.cactus || var5 == Blocks.sand;
     }
 
diff --git a/net/minecraft/block/BlockCake.java b/net/minecraft/block/BlockCake.java
index 217e563..e048485 100644
--- a/net/minecraft/block/BlockCake.java
+++ b/net/minecraft/block/BlockCake.java
@@ -113,7 +113,7 @@ public class BlockCake extends Block
 
     private boolean canBlockStay(World worldIn, BlockPos p_176588_2_)
     {
-        return worldIn.getBlockState(p_176588_2_.offsetDown()).getBlock().getMaterial().isSolid();
+        return worldIn.getBlockState(p_176588_2_.down()).getBlock().getMaterial().isSolid();
     }
 
     /**
diff --git a/net/minecraft/block/BlockCarpet.java b/net/minecraft/block/BlockCarpet.java
index ccd272c..12db896 100644
--- a/net/minecraft/block/BlockCarpet.java
+++ b/net/minecraft/block/BlockCarpet.java
@@ -86,7 +86,7 @@ public class BlockCarpet extends Block
 
     private boolean canBlockStay(World worldIn, BlockPos p_176329_2_)
     {
-        return !worldIn.isAirBlock(p_176329_2_.offsetDown());
+        return !worldIn.isAirBlock(p_176329_2_.down());
     }
 
     public boolean shouldSideBeRendered(IBlockAccess worldIn, BlockPos pos, EnumFacing side)
diff --git a/net/minecraft/block/BlockChest.java b/net/minecraft/block/BlockChest.java
index 12edff7..03e7f9a 100644
--- a/net/minecraft/block/BlockChest.java
+++ b/net/minecraft/block/BlockChest.java
@@ -65,19 +65,19 @@ public class BlockChest extends BlockContainer
 
     public void setBlockBoundsBasedOnState(IBlockAccess access, BlockPos pos)
     {
-        if (access.getBlockState(pos.offsetNorth()).getBlock() == this)
+        if (access.getBlockState(pos.north()).getBlock() == this)
         {
             this.setBlockBounds(0.0625F, 0.0F, 0.0F, 0.9375F, 0.875F, 0.9375F);
         }
-        else if (access.getBlockState(pos.offsetSouth()).getBlock() == this)
+        else if (access.getBlockState(pos.south()).getBlock() == this)
         {
             this.setBlockBounds(0.0625F, 0.0F, 0.0625F, 0.9375F, 0.875F, 1.0F);
         }
-        else if (access.getBlockState(pos.offsetWest()).getBlock() == this)
+        else if (access.getBlockState(pos.west()).getBlock() == this)
         {
             this.setBlockBounds(0.0F, 0.0F, 0.0625F, 0.9375F, 0.875F, 0.9375F);
         }
-        else if (access.getBlockState(pos.offsetEast()).getBlock() == this)
+        else if (access.getBlockState(pos.east()).getBlock() == this)
         {
             this.setBlockBounds(0.0625F, 0.0F, 0.0625F, 1.0F, 0.875F, 0.9375F);
         }
@@ -114,10 +114,10 @@ public class BlockChest extends BlockContainer
     {
         EnumFacing var6 = EnumFacing.getHorizontal(MathHelper.floor_double((double)(placer.rotationYaw * 4.0F / 360.0F) + 0.5D) & 3).getOpposite();
         state = state.withProperty(FACING_PROP, var6);
-        BlockPos var7 = pos.offsetNorth();
-        BlockPos var8 = pos.offsetSouth();
-        BlockPos var9 = pos.offsetWest();
-        BlockPos var10 = pos.offsetEast();
+        BlockPos var7 = pos.north();
+        BlockPos var8 = pos.south();
+        BlockPos var9 = pos.west();
+        BlockPos var10 = pos.east();
         boolean var11 = this == worldIn.getBlockState(var7).getBlock();
         boolean var12 = this == worldIn.getBlockState(var8).getBlock();
         boolean var13 = this == worldIn.getBlockState(var9).getBlock();
@@ -173,10 +173,10 @@ public class BlockChest extends BlockContainer
         }
         else
         {
-            IBlockState var4 = worldIn.getBlockState(p_176455_2_.offsetNorth());
-            IBlockState var5 = worldIn.getBlockState(p_176455_2_.offsetSouth());
-            IBlockState var6 = worldIn.getBlockState(p_176455_2_.offsetWest());
-            IBlockState var7 = worldIn.getBlockState(p_176455_2_.offsetEast());
+            IBlockState var4 = worldIn.getBlockState(p_176455_2_.north());
+            IBlockState var5 = worldIn.getBlockState(p_176455_2_.south());
+            IBlockState var6 = worldIn.getBlockState(p_176455_2_.west());
+            IBlockState var7 = worldIn.getBlockState(p_176455_2_.east());
             EnumFacing var8 = (EnumFacing)p_176455_3_.getValue(FACING_PROP);
             Block var9 = var4.getBlock();
             Block var10 = var5.getBlock();
@@ -190,9 +190,9 @@ public class BlockChest extends BlockContainer
 
                 if (var11 == this || var12 == this)
                 {
-                    BlockPos var23 = var11 == this ? p_176455_2_.offsetWest() : p_176455_2_.offsetEast();
-                    IBlockState var24 = worldIn.getBlockState(var23.offsetNorth());
-                    IBlockState var25 = worldIn.getBlockState(var23.offsetSouth());
+                    BlockPos var23 = var11 == this ? p_176455_2_.west() : p_176455_2_.east();
+                    IBlockState var24 = worldIn.getBlockState(var23.north());
+                    IBlockState var25 = worldIn.getBlockState(var23.south());
                     var8 = EnumFacing.SOUTH;
                     EnumFacing var26;
 
@@ -226,9 +226,9 @@ public class BlockChest extends BlockContainer
             }
             else
             {
-                BlockPos var13 = var9 == this ? p_176455_2_.offsetNorth() : p_176455_2_.offsetSouth();
-                IBlockState var14 = worldIn.getBlockState(var13.offsetWest());
-                IBlockState var15 = worldIn.getBlockState(var13.offsetEast());
+                BlockPos var13 = var9 == this ? p_176455_2_.north() : p_176455_2_.south();
+                IBlockState var14 = worldIn.getBlockState(var13.west());
+                IBlockState var15 = worldIn.getBlockState(var13.east());
                 var8 = EnumFacing.EAST;
                 EnumFacing var16;
 
@@ -323,10 +323,10 @@ public class BlockChest extends BlockContainer
     public boolean canPlaceBlockAt(World worldIn, BlockPos pos)
     {
         int var3 = 0;
-        BlockPos var4 = pos.offsetWest();
-        BlockPos var5 = pos.offsetEast();
-        BlockPos var6 = pos.offsetNorth();
-        BlockPos var7 = pos.offsetSouth();
+        BlockPos var4 = pos.west();
+        BlockPos var5 = pos.east();
+        BlockPos var6 = pos.north();
+        BlockPos var7 = pos.south();
 
         if (worldIn.getBlockState(var4).getBlock() == this)
         {
@@ -542,7 +542,7 @@ public class BlockChest extends BlockContainer
 
     private boolean isBelowSolidBlock(World worldIn, BlockPos p_176456_2_)
     {
-        return worldIn.getBlockState(p_176456_2_.offsetUp()).getBlock().isNormalCube();
+        return worldIn.getBlockState(p_176456_2_.up()).getBlock().isNormalCube();
     }
 
     private boolean isOcelotSittingOnChest(World worldIn, BlockPos p_176453_2_)
diff --git a/net/minecraft/block/BlockCrops.java b/net/minecraft/block/BlockCrops.java
index b6831f7..ee7736b 100644
--- a/net/minecraft/block/BlockCrops.java
+++ b/net/minecraft/block/BlockCrops.java
@@ -43,7 +43,7 @@ public class BlockCrops extends BlockBush implements IGrowable
     {
         super.updateTick(worldIn, pos, state, rand);
 
-        if (worldIn.getLightFromNeighbors(pos.offsetUp()) >= 9)
+        if (worldIn.getLightFromNeighbors(pos.up()) >= 9)
         {
             int var5 = ((Integer)state.getValue(AGE)).intValue();
 
@@ -74,7 +74,7 @@ public class BlockCrops extends BlockBush implements IGrowable
     protected static float getGrowthChance(Block p_180672_0_, World worldIn, BlockPos p_180672_2_)
     {
         float var3 = 1.0F;
-        BlockPos var4 = p_180672_2_.offsetDown();
+        BlockPos var4 = p_180672_2_.down();
 
         for (int var5 = -1; var5 <= 1; ++var5)
         {
@@ -102,10 +102,10 @@ public class BlockCrops extends BlockBush implements IGrowable
             }
         }
 
-        BlockPos var12 = p_180672_2_.offsetNorth();
-        BlockPos var13 = p_180672_2_.offsetSouth();
-        BlockPos var14 = p_180672_2_.offsetWest();
-        BlockPos var15 = p_180672_2_.offsetEast();
+        BlockPos var12 = p_180672_2_.north();
+        BlockPos var13 = p_180672_2_.south();
+        BlockPos var14 = p_180672_2_.west();
+        BlockPos var15 = p_180672_2_.east();
         boolean var9 = p_180672_0_ == worldIn.getBlockState(var14).getBlock() || p_180672_0_ == worldIn.getBlockState(var15).getBlock();
         boolean var10 = p_180672_0_ == worldIn.getBlockState(var12).getBlock() || p_180672_0_ == worldIn.getBlockState(var13).getBlock();
 
@@ -115,7 +115,7 @@ public class BlockCrops extends BlockBush implements IGrowable
         }
         else
         {
-            boolean var11 = p_180672_0_ == worldIn.getBlockState(var14.offsetNorth()).getBlock() || p_180672_0_ == worldIn.getBlockState(var15.offsetNorth()).getBlock() || p_180672_0_ == worldIn.getBlockState(var15.offsetSouth()).getBlock() || p_180672_0_ == worldIn.getBlockState(var14.offsetSouth()).getBlock();
+            boolean var11 = p_180672_0_ == worldIn.getBlockState(var14.north()).getBlock() || p_180672_0_ == worldIn.getBlockState(var15.north()).getBlock() || p_180672_0_ == worldIn.getBlockState(var15.south()).getBlock() || p_180672_0_ == worldIn.getBlockState(var14.south()).getBlock();
 
             if (var11)
             {
@@ -128,7 +128,7 @@ public class BlockCrops extends BlockBush implements IGrowable
 
     public boolean canBlockStay(World worldIn, BlockPos p_180671_2_, IBlockState p_180671_3_)
     {
-        return (worldIn.getLight(p_180671_2_) >= 8 || worldIn.isAgainstSky(p_180671_2_)) && this.canPlaceBlockOn(worldIn.getBlockState(p_180671_2_.offsetDown()).getBlock());
+        return (worldIn.getLight(p_180671_2_) >= 8 || worldIn.isAgainstSky(p_180671_2_)) && this.canPlaceBlockOn(worldIn.getBlockState(p_180671_2_.down()).getBlock());
     }
 
     protected Item getSeed()
diff --git a/net/minecraft/block/BlockDirt.java b/net/minecraft/block/BlockDirt.java
index 0a2fb10..0dbebb2 100644
--- a/net/minecraft/block/BlockDirt.java
+++ b/net/minecraft/block/BlockDirt.java
@@ -37,7 +37,7 @@ public class BlockDirt extends Block
     {
         if (state.getValue(VARIANT) == BlockDirt.DirtType.PODZOL)
         {
-            Block var4 = worldIn.getBlockState(pos.offsetUp()).getBlock();
+            Block var4 = worldIn.getBlockState(pos.up()).getBlock();
             state = state.withProperty(SNOWY, Boolean.valueOf(var4 == Blocks.snow || var4 == Blocks.snow_layer));
         }
 
diff --git a/net/minecraft/block/BlockDispenser.java b/net/minecraft/block/BlockDispenser.java
index 75dd470..2c23ed5 100644
--- a/net/minecraft/block/BlockDispenser.java
+++ b/net/minecraft/block/BlockDispenser.java
@@ -61,8 +61,8 @@ public class BlockDispenser extends BlockContainer
         if (!worldIn.isRemote)
         {
             EnumFacing var4 = (EnumFacing)state.getValue(FACING);
-            boolean var5 = worldIn.getBlockState(pos.offsetNorth()).getBlock().isFullBlock();
-            boolean var6 = worldIn.getBlockState(pos.offsetSouth()).getBlock().isFullBlock();
+            boolean var5 = worldIn.getBlockState(pos.north()).getBlock().isFullBlock();
+            boolean var6 = worldIn.getBlockState(pos.south()).getBlock().isFullBlock();
 
             if (var4 == EnumFacing.NORTH && var5 && !var6)
             {
@@ -74,8 +74,8 @@ public class BlockDispenser extends BlockContainer
             }
             else
             {
-                boolean var7 = worldIn.getBlockState(pos.offsetWest()).getBlock().isFullBlock();
-                boolean var8 = worldIn.getBlockState(pos.offsetEast()).getBlock().isFullBlock();
+                boolean var7 = worldIn.getBlockState(pos.west()).getBlock().isFullBlock();
+                boolean var8 = worldIn.getBlockState(pos.east()).getBlock().isFullBlock();
 
                 if (var4 == EnumFacing.WEST && var7 && !var8)
                 {
@@ -144,7 +144,7 @@ public class BlockDispenser extends BlockContainer
 
     public void onNeighborBlockChange(World worldIn, BlockPos pos, IBlockState state, Block neighborBlock)
     {
-        boolean var5 = worldIn.isBlockPowered(pos) || worldIn.isBlockPowered(pos.offsetUp());
+        boolean var5 = worldIn.isBlockPowered(pos) || worldIn.isBlockPowered(pos.up());
         boolean var6 = ((Boolean)state.getValue(TRIGGERED)).booleanValue();
 
         if (var5 && !var6)
diff --git a/net/minecraft/block/BlockDoor.java b/net/minecraft/block/BlockDoor.java
index 7369437..de88c54 100644
--- a/net/minecraft/block/BlockDoor.java
+++ b/net/minecraft/block/BlockDoor.java
@@ -150,7 +150,7 @@ public class BlockDoor extends Block
         }
         else
         {
-            BlockPos var9 = state.getValue(HALF_PROP) == BlockDoor.EnumDoorHalf.LOWER ? pos : pos.offsetDown();
+            BlockPos var9 = state.getValue(HALF_PROP) == BlockDoor.EnumDoorHalf.LOWER ? pos : pos.down();
             IBlockState var10 = pos.equals(var9) ? state : worldIn.getBlockState(var9);
 
             if (var10.getBlock() != this)
@@ -174,7 +174,7 @@ public class BlockDoor extends Block
 
         if (var4.getBlock() == this)
         {
-            BlockPos var5 = var4.getValue(HALF_PROP) == BlockDoor.EnumDoorHalf.LOWER ? p_176512_2_ : p_176512_2_.offsetDown();
+            BlockPos var5 = var4.getValue(HALF_PROP) == BlockDoor.EnumDoorHalf.LOWER ? p_176512_2_ : p_176512_2_.down();
             IBlockState var6 = p_176512_2_ == var5 ? var4 : worldIn.getBlockState(var5);
 
             if (var6.getBlock() == this && ((Boolean)var6.getValue(OPEN_PROP)).booleanValue() != p_176512_3_)
@@ -190,7 +190,7 @@ public class BlockDoor extends Block
     {
         if (state.getValue(HALF_PROP) == BlockDoor.EnumDoorHalf.UPPER)
         {
-            BlockPos var5 = pos.offsetDown();
+            BlockPos var5 = pos.down();
             IBlockState var6 = worldIn.getBlockState(var5);
 
             if (var6.getBlock() != this)
@@ -205,7 +205,7 @@ public class BlockDoor extends Block
         else
         {
             boolean var9 = false;
-            BlockPos var10 = pos.offsetUp();
+            BlockPos var10 = pos.up();
             IBlockState var7 = worldIn.getBlockState(var10);
 
             if (var7.getBlock() != this)
@@ -214,7 +214,7 @@ public class BlockDoor extends Block
                 var9 = true;
             }
 
-            if (!World.doesBlockHaveSolidTopSurface(worldIn, pos.offsetDown()))
+            if (!World.doesBlockHaveSolidTopSurface(worldIn, pos.down()))
             {
                 worldIn.setBlockToAir(pos);
                 var9 = true;
@@ -275,7 +275,7 @@ public class BlockDoor extends Block
 
     public boolean canPlaceBlockAt(World worldIn, BlockPos pos)
     {
-        return pos.getY() >= 255 ? false : World.doesBlockHaveSolidTopSurface(worldIn, pos.offsetDown()) && super.canPlaceBlockAt(worldIn, pos) && super.canPlaceBlockAt(worldIn, pos.offsetUp());
+        return pos.getY() >= 255 ? false : World.doesBlockHaveSolidTopSurface(worldIn, pos.down()) && super.canPlaceBlockAt(worldIn, pos) && super.canPlaceBlockAt(worldIn, pos.up());
     }
 
     public int getMobilityFlag()
@@ -288,10 +288,10 @@ public class BlockDoor extends Block
         IBlockState var2 = p_176515_0_.getBlockState(p_176515_1_);
         int var3 = var2.getBlock().getMetaFromState(var2);
         boolean var4 = func_176518_i(var3);
-        IBlockState var5 = p_176515_0_.getBlockState(p_176515_1_.offsetDown());
+        IBlockState var5 = p_176515_0_.getBlockState(p_176515_1_.down());
         int var6 = var5.getBlock().getMetaFromState(var5);
         int var7 = var4 ? var6 : var3;
-        IBlockState var8 = p_176515_0_.getBlockState(p_176515_1_.offsetUp());
+        IBlockState var8 = p_176515_0_.getBlockState(p_176515_1_.up());
         int var9 = var8.getBlock().getMetaFromState(var8);
         int var10 = var4 ? var3 : var9;
         boolean var11 = (var10 & 1) != 0;
@@ -311,7 +311,7 @@ public class BlockDoor extends Block
 
     public void onBlockHarvested(World worldIn, BlockPos pos, IBlockState state, EntityPlayer playerIn)
     {
-        BlockPos var5 = pos.offsetDown();
+        BlockPos var5 = pos.down();
 
         if (playerIn.capabilities.isCreativeMode && state.getValue(HALF_PROP) == BlockDoor.EnumDoorHalf.UPPER && worldIn.getBlockState(var5).getBlock() == this)
         {
@@ -334,7 +334,7 @@ public class BlockDoor extends Block
 
         if (state.getValue(HALF_PROP) == BlockDoor.EnumDoorHalf.LOWER)
         {
-            var4 = worldIn.getBlockState(pos.offsetUp());
+            var4 = worldIn.getBlockState(pos.up());
 
             if (var4.getBlock() == this)
             {
@@ -343,7 +343,7 @@ public class BlockDoor extends Block
         }
         else
         {
-            var4 = worldIn.getBlockState(pos.offsetDown());
+            var4 = worldIn.getBlockState(pos.down());
 
             if (var4.getBlock() == this)
             {
diff --git a/net/minecraft/block/BlockDoublePlant.java b/net/minecraft/block/BlockDoublePlant.java
index 0e6d100..b894ef5 100644
--- a/net/minecraft/block/BlockDoublePlant.java
+++ b/net/minecraft/block/BlockDoublePlant.java
@@ -59,7 +59,7 @@ public class BlockDoublePlant extends BlockBush implements IGrowable
 
     public boolean canPlaceBlockAt(World worldIn, BlockPos pos)
     {
-        return super.canPlaceBlockAt(worldIn, pos) && worldIn.isAirBlock(pos.offsetUp());
+        return super.canPlaceBlockAt(worldIn, pos) && worldIn.isAirBlock(pos.up());
     }
 
     /**
@@ -85,8 +85,8 @@ public class BlockDoublePlant extends BlockBush implements IGrowable
         if (!this.canBlockStay(worldIn, p_176475_2_, p_176475_3_))
         {
             boolean var4 = p_176475_3_.getValue(HALF_PROP) == BlockDoublePlant.EnumBlockHalf.UPPER;
-            BlockPos var5 = var4 ? p_176475_2_ : p_176475_2_.offsetUp();
-            BlockPos var6 = var4 ? p_176475_2_.offsetDown() : p_176475_2_;
+            BlockPos var5 = var4 ? p_176475_2_ : p_176475_2_.up();
+            BlockPos var6 = var4 ? p_176475_2_.down() : p_176475_2_;
             Object var7 = var4 ? this : worldIn.getBlockState(var5).getBlock();
             Object var8 = var4 ? worldIn.getBlockState(var6).getBlock() : this;
 
@@ -111,11 +111,11 @@ public class BlockDoublePlant extends BlockBush implements IGrowable
     {
         if (p_180671_3_.getValue(HALF_PROP) == BlockDoublePlant.EnumBlockHalf.UPPER)
         {
-            return worldIn.getBlockState(p_180671_2_.offsetDown()).getBlock() == this;
+            return worldIn.getBlockState(p_180671_2_.down()).getBlock() == this;
         }
         else
         {
-            IBlockState var4 = worldIn.getBlockState(p_180671_2_.offsetUp());
+            IBlockState var4 = worldIn.getBlockState(p_180671_2_.up());
             return var4.getBlock() == this && super.canBlockStay(worldIn, p_180671_2_, var4);
         }
     }
@@ -155,12 +155,12 @@ public class BlockDoublePlant extends BlockBush implements IGrowable
     public void func_176491_a(World worldIn, BlockPos p_176491_2_, BlockDoublePlant.EnumPlantType p_176491_3_, int p_176491_4_)
     {
         worldIn.setBlockState(p_176491_2_, this.getDefaultState().withProperty(HALF_PROP, BlockDoublePlant.EnumBlockHalf.LOWER).withProperty(VARIANT_PROP, p_176491_3_), p_176491_4_);
-        worldIn.setBlockState(p_176491_2_.offsetUp(), this.getDefaultState().withProperty(HALF_PROP, BlockDoublePlant.EnumBlockHalf.UPPER), p_176491_4_);
+        worldIn.setBlockState(p_176491_2_.up(), this.getDefaultState().withProperty(HALF_PROP, BlockDoublePlant.EnumBlockHalf.UPPER), p_176491_4_);
     }
 
     public void onBlockPlacedBy(World worldIn, BlockPos pos, IBlockState state, EntityLivingBase placer, ItemStack stack)
     {
-        worldIn.setBlockState(pos.offsetUp(), this.getDefaultState().withProperty(HALF_PROP, BlockDoublePlant.EnumBlockHalf.UPPER), 2);
+        worldIn.setBlockState(pos.up(), this.getDefaultState().withProperty(HALF_PROP, BlockDoublePlant.EnumBlockHalf.UPPER), 2);
     }
 
     public void harvestBlock(World worldIn, EntityPlayer playerIn, BlockPos pos, IBlockState state, TileEntity te)
@@ -175,43 +175,43 @@ public class BlockDoublePlant extends BlockBush implements IGrowable
     {
         if (state.getValue(HALF_PROP) == BlockDoublePlant.EnumBlockHalf.UPPER)
         {
-            if (worldIn.getBlockState(pos.offsetDown()).getBlock() == this)
+            if (worldIn.getBlockState(pos.down()).getBlock() == this)
             {
                 if (!playerIn.capabilities.isCreativeMode)
                 {
-                    IBlockState var5 = worldIn.getBlockState(pos.offsetDown());
+                    IBlockState var5 = worldIn.getBlockState(pos.down());
                     BlockDoublePlant.EnumPlantType var6 = (BlockDoublePlant.EnumPlantType)var5.getValue(VARIANT_PROP);
 
                     if (var6 != BlockDoublePlant.EnumPlantType.FERN && var6 != BlockDoublePlant.EnumPlantType.GRASS)
                     {
-                        worldIn.destroyBlock(pos.offsetDown(), true);
+                        worldIn.destroyBlock(pos.down(), true);
                     }
                     else if (!worldIn.isRemote)
                     {
                         if (playerIn.getCurrentEquippedItem() != null && playerIn.getCurrentEquippedItem().getItem() == Items.shears)
                         {
                             this.func_176489_b(worldIn, pos, var5, playerIn);
-                            worldIn.setBlockToAir(pos.offsetDown());
+                            worldIn.setBlockToAir(pos.down());
                         }
                         else
                         {
-                            worldIn.destroyBlock(pos.offsetDown(), true);
+                            worldIn.destroyBlock(pos.down(), true);
                         }
                     }
                     else
                     {
-                        worldIn.setBlockToAir(pos.offsetDown());
+                        worldIn.setBlockToAir(pos.down());
                     }
                 }
                 else
                 {
-                    worldIn.setBlockToAir(pos.offsetDown());
+                    worldIn.setBlockToAir(pos.down());
                 }
             }
         }
-        else if (playerIn.capabilities.isCreativeMode && worldIn.getBlockState(pos.offsetUp()).getBlock() == this)
+        else if (playerIn.capabilities.isCreativeMode && worldIn.getBlockState(pos.up()).getBlock() == this)
         {
-            worldIn.setBlockState(pos.offsetUp(), Blocks.air.getDefaultState(), 2);
+            worldIn.setBlockState(pos.up(), Blocks.air.getDefaultState(), 2);
         }
 
         super.onBlockHarvested(worldIn, pos, state, playerIn);
@@ -286,7 +286,7 @@ public class BlockDoublePlant extends BlockBush implements IGrowable
     {
         if (state.getValue(HALF_PROP) == BlockDoublePlant.EnumBlockHalf.UPPER)
         {
-            IBlockState var4 = worldIn.getBlockState(pos.offsetDown());
+            IBlockState var4 = worldIn.getBlockState(pos.down());
 
             if (var4.getBlock() == this)
             {
diff --git a/net/minecraft/block/BlockDragonEgg.java b/net/minecraft/block/BlockDragonEgg.java
index cf340b3..b9cb856 100644
--- a/net/minecraft/block/BlockDragonEgg.java
+++ b/net/minecraft/block/BlockDragonEgg.java
@@ -39,7 +39,7 @@ public class BlockDragonEgg extends Block
 
     private void func_180683_d(World worldIn, BlockPos p_180683_2_)
     {
-        if (BlockFalling.canFallInto(worldIn, p_180683_2_.offsetDown()) && p_180683_2_.getY() >= 0)
+        if (BlockFalling.canFallInto(worldIn, p_180683_2_.down()) && p_180683_2_.getY() >= 0)
         {
             byte var3 = 32;
 
@@ -52,7 +52,7 @@ public class BlockDragonEgg extends Block
                 worldIn.setBlockToAir(p_180683_2_);
                 BlockPos var4;
 
-                for (var4 = p_180683_2_; BlockFalling.canFallInto(worldIn, var4) && var4.getY() > 0; var4 = var4.offsetDown())
+                for (var4 = p_180683_2_; BlockFalling.canFallInto(worldIn, var4) && var4.getY() > 0; var4 = var4.down())
                 {
                     ;
                 }
diff --git a/net/minecraft/block/BlockDynamicLiquid.java b/net/minecraft/block/BlockDynamicLiquid.java
index 426af25..3b0553e 100644
--- a/net/minecraft/block/BlockDynamicLiquid.java
+++ b/net/minecraft/block/BlockDynamicLiquid.java
@@ -57,9 +57,9 @@ public class BlockDynamicLiquid extends BlockLiquid
                 var14 = -1;
             }
 
-            if (this.func_176362_e(worldIn, pos.offsetUp()) >= 0)
+            if (this.func_176362_e(worldIn, pos.up()) >= 0)
             {
-                var16 = this.func_176362_e(worldIn, pos.offsetUp());
+                var16 = this.func_176362_e(worldIn, pos.up());
 
                 if (var16 >= 8)
                 {
@@ -73,7 +73,7 @@ public class BlockDynamicLiquid extends BlockLiquid
 
             if (this.field_149815_a >= 2 && this.blockMaterial == Material.water)
             {
-                IBlockState var17 = worldIn.getBlockState(pos.offsetDown());
+                IBlockState var17 = worldIn.getBlockState(pos.down());
 
                 if (var17.getBlock().getMaterial().isSolid())
                 {
@@ -116,27 +116,27 @@ public class BlockDynamicLiquid extends BlockLiquid
             this.func_180690_f(worldIn, pos, state);
         }
 
-        IBlockState var13 = worldIn.getBlockState(pos.offsetDown());
+        IBlockState var13 = worldIn.getBlockState(pos.down());
 
-        if (this.func_176373_h(worldIn, pos.offsetDown(), var13))
+        if (this.func_176373_h(worldIn, pos.down(), var13))
         {
-            if (this.blockMaterial == Material.lava && worldIn.getBlockState(pos.offsetDown()).getBlock().getMaterial() == Material.water)
+            if (this.blockMaterial == Material.lava && worldIn.getBlockState(pos.down()).getBlock().getMaterial() == Material.water)
             {
-                worldIn.setBlockState(pos.offsetDown(), Blocks.stone.getDefaultState());
-                this.func_180688_d(worldIn, pos.offsetDown());
+                worldIn.setBlockState(pos.down(), Blocks.stone.getDefaultState());
+                this.func_180688_d(worldIn, pos.down());
                 return;
             }
 
             if (var5 >= 8)
             {
-                this.func_176375_a(worldIn, pos.offsetDown(), var13, var5);
+                this.func_176375_a(worldIn, pos.down(), var13, var5);
             }
             else
             {
-                this.func_176375_a(worldIn, pos.offsetDown(), var13, var5 + 8);
+                this.func_176375_a(worldIn, pos.down(), var13, var5 + 8);
             }
         }
-        else if (var5 >= 0 && (var5 == 0 || this.func_176372_g(worldIn, pos.offsetDown(), var13)))
+        else if (var5 >= 0 && (var5 == 0 || this.func_176372_g(worldIn, pos.down(), var13)))
         {
             Set var15 = this.func_176376_e(worldIn, pos);
             var16 = var5 + var6;
@@ -197,7 +197,7 @@ public class BlockDynamicLiquid extends BlockLiquid
 
                 if (!this.func_176372_g(worldIn, var8, var9) && (var9.getBlock().getMaterial() != this.blockMaterial || ((Integer)var9.getValue(LEVEL)).intValue() > 0))
                 {
-                    if (!this.func_176372_g(worldIn, var8.offsetDown(), var9))
+                    if (!this.func_176372_g(worldIn, var8.down(), var9))
                     {
                         return p_176374_3_;
                     }
@@ -234,7 +234,7 @@ public class BlockDynamicLiquid extends BlockLiquid
             {
                 int var9;
 
-                if (this.func_176372_g(worldIn, var7.offsetDown(), worldIn.getBlockState(var7.offsetDown())))
+                if (this.func_176372_g(worldIn, var7.down(), worldIn.getBlockState(var7.down())))
                 {
                     var9 = this.func_176374_a(worldIn, var7, 1, var6.getOpposite());
                 }
diff --git a/net/minecraft/block/BlockEnderChest.java b/net/minecraft/block/BlockEnderChest.java
index 53a504a..398fe2d 100644
--- a/net/minecraft/block/BlockEnderChest.java
+++ b/net/minecraft/block/BlockEnderChest.java
@@ -91,7 +91,7 @@ public class BlockEnderChest extends BlockContainer
 
         if (var9 != null && var10 instanceof TileEntityEnderChest)
         {
-            if (worldIn.getBlockState(pos.offsetUp()).getBlock().isNormalCube())
+            if (worldIn.getBlockState(pos.up()).getBlock().isNormalCube())
             {
                 return true;
             }
diff --git a/net/minecraft/block/BlockFalling.java b/net/minecraft/block/BlockFalling.java
index a4e1499..1b432e6 100644
--- a/net/minecraft/block/BlockFalling.java
+++ b/net/minecraft/block/BlockFalling.java
@@ -45,7 +45,7 @@ public class BlockFalling extends Block
 
     private void checkFallable(World worldIn, BlockPos pos)
     {
-        if (canFallInto(worldIn, pos.offsetDown()) && pos.getY() >= 0)
+        if (canFallInto(worldIn, pos.down()) && pos.getY() >= 0)
         {
             byte var3 = 32;
 
@@ -63,14 +63,14 @@ public class BlockFalling extends Block
                 worldIn.setBlockToAir(pos);
                 BlockPos var4;
 
-                for (var4 = pos.offsetDown(); canFallInto(worldIn, var4) && var4.getY() > 0; var4 = var4.offsetDown())
+                for (var4 = pos.down(); canFallInto(worldIn, var4) && var4.getY() > 0; var4 = var4.down())
                 {
                     ;
                 }
 
                 if (var4.getY() > 0)
                 {
-                    worldIn.setBlockState(var4.offsetUp(), this.getDefaultState());
+                    worldIn.setBlockState(var4.up(), this.getDefaultState());
                 }
             }
         }
diff --git a/net/minecraft/block/BlockFarmland.java b/net/minecraft/block/BlockFarmland.java
index 190fdf1..8b3726d 100644
--- a/net/minecraft/block/BlockFarmland.java
+++ b/net/minecraft/block/BlockFarmland.java
@@ -49,7 +49,7 @@ public class BlockFarmland extends Block
     {
         int var5 = ((Integer)state.getValue(field_176531_a)).intValue();
 
-        if (!this.func_176530_e(worldIn, pos) && !worldIn.func_175727_C(pos.offsetUp()))
+        if (!this.func_176530_e(worldIn, pos) && !worldIn.func_175727_C(pos.up()))
         {
             if (var5 > 0)
             {
@@ -91,7 +91,7 @@ public class BlockFarmland extends Block
 
     private boolean func_176529_d(World worldIn, BlockPos p_176529_2_)
     {
-        Block var3 = worldIn.getBlockState(p_176529_2_.offsetUp()).getBlock();
+        Block var3 = worldIn.getBlockState(p_176529_2_.up()).getBlock();
         return var3 instanceof BlockCrops || var3 instanceof BlockStem;
     }
 
@@ -118,7 +118,7 @@ public class BlockFarmland extends Block
     {
         super.onNeighborBlockChange(worldIn, pos, state, neighborBlock);
 
-        if (worldIn.getBlockState(pos.offsetUp()).getBlock().getMaterial().isSolid())
+        if (worldIn.getBlockState(pos.up()).getBlock().getMaterial().isSolid())
         {
             worldIn.setBlockState(pos, Blocks.dirt.getDefaultState());
         }
diff --git a/net/minecraft/block/BlockFence.java b/net/minecraft/block/BlockFence.java
index aa0149c..347ec6b 100644
--- a/net/minecraft/block/BlockFence.java
+++ b/net/minecraft/block/BlockFence.java
@@ -46,10 +46,10 @@ public class BlockFence extends Block
      */
     public void addCollisionBoxesToList(World worldIn, BlockPos pos, IBlockState state, AxisAlignedBB mask, List list, Entity collidingEntity)
     {
-        boolean var7 = this.func_176524_e(worldIn, pos.offsetNorth());
-        boolean var8 = this.func_176524_e(worldIn, pos.offsetSouth());
-        boolean var9 = this.func_176524_e(worldIn, pos.offsetWest());
-        boolean var10 = this.func_176524_e(worldIn, pos.offsetEast());
+        boolean var7 = this.func_176524_e(worldIn, pos.north());
+        boolean var8 = this.func_176524_e(worldIn, pos.south());
+        boolean var9 = this.func_176524_e(worldIn, pos.west());
+        boolean var10 = this.func_176524_e(worldIn, pos.east());
         float var11 = 0.375F;
         float var12 = 0.625F;
         float var13 = 0.375F;
@@ -105,10 +105,10 @@ public class BlockFence extends Block
 
     public void setBlockBoundsBasedOnState(IBlockAccess access, BlockPos pos)
     {
-        boolean var3 = this.func_176524_e(access, pos.offsetNorth());
-        boolean var4 = this.func_176524_e(access, pos.offsetSouth());
-        boolean var5 = this.func_176524_e(access, pos.offsetWest());
-        boolean var6 = this.func_176524_e(access, pos.offsetEast());
+        boolean var3 = this.func_176524_e(access, pos.north());
+        boolean var4 = this.func_176524_e(access, pos.south());
+        boolean var5 = this.func_176524_e(access, pos.west());
+        boolean var6 = this.func_176524_e(access, pos.east());
         float var7 = 0.375F;
         float var8 = 0.625F;
         float var9 = 0.375F;
@@ -182,7 +182,7 @@ public class BlockFence extends Block
      */
     public IBlockState getActualState(IBlockState state, IBlockAccess worldIn, BlockPos pos)
     {
-        return state.withProperty(NORTH, Boolean.valueOf(this.func_176524_e(worldIn, pos.offsetNorth()))).withProperty(EAST, Boolean.valueOf(this.func_176524_e(worldIn, pos.offsetEast()))).withProperty(SOUTH, Boolean.valueOf(this.func_176524_e(worldIn, pos.offsetSouth()))).withProperty(WEST, Boolean.valueOf(this.func_176524_e(worldIn, pos.offsetWest())));
+        return state.withProperty(NORTH, Boolean.valueOf(this.func_176524_e(worldIn, pos.north()))).withProperty(EAST, Boolean.valueOf(this.func_176524_e(worldIn, pos.east()))).withProperty(SOUTH, Boolean.valueOf(this.func_176524_e(worldIn, pos.south()))).withProperty(WEST, Boolean.valueOf(this.func_176524_e(worldIn, pos.west())));
     }
 
     protected BlockState createBlockState()
diff --git a/net/minecraft/block/BlockFenceGate.java b/net/minecraft/block/BlockFenceGate.java
index 0cd69d1..ec2a093 100644
--- a/net/minecraft/block/BlockFenceGate.java
+++ b/net/minecraft/block/BlockFenceGate.java
@@ -37,7 +37,7 @@ public class BlockFenceGate extends BlockDirectional
     {
         EnumFacing.Axis var4 = ((EnumFacing)state.getValue(AGE)).getAxis();
 
-        if (var4 == EnumFacing.Axis.Z && (worldIn.getBlockState(pos.offsetWest()).getBlock() == Blocks.cobblestone_wall || worldIn.getBlockState(pos.offsetEast()).getBlock() == Blocks.cobblestone_wall) || var4 == EnumFacing.Axis.X && (worldIn.getBlockState(pos.offsetNorth()).getBlock() == Blocks.cobblestone_wall || worldIn.getBlockState(pos.offsetSouth()).getBlock() == Blocks.cobblestone_wall))
+        if (var4 == EnumFacing.Axis.Z && (worldIn.getBlockState(pos.west()).getBlock() == Blocks.cobblestone_wall || worldIn.getBlockState(pos.east()).getBlock() == Blocks.cobblestone_wall) || var4 == EnumFacing.Axis.X && (worldIn.getBlockState(pos.north()).getBlock() == Blocks.cobblestone_wall || worldIn.getBlockState(pos.south()).getBlock() == Blocks.cobblestone_wall))
         {
             state = state.withProperty(field_176467_M, Boolean.valueOf(true));
         }
@@ -47,7 +47,7 @@ public class BlockFenceGate extends BlockDirectional
 
     public boolean canPlaceBlockAt(World worldIn, BlockPos pos)
     {
-        return worldIn.getBlockState(pos.offsetDown()).getBlock().getMaterial().isSolid() ? super.canPlaceBlockAt(worldIn, pos) : false;
+        return worldIn.getBlockState(pos.down()).getBlock().getMaterial().isSolid() ? super.canPlaceBlockAt(worldIn, pos) : false;
     }
 
     public AxisAlignedBB getCollisionBoundingBox(World worldIn, BlockPos pos, IBlockState state)
diff --git a/net/minecraft/block/BlockFire.java b/net/minecraft/block/BlockFire.java
index a9b5588..ce40a80 100644
--- a/net/minecraft/block/BlockFire.java
+++ b/net/minecraft/block/BlockFire.java
@@ -44,18 +44,18 @@ public class BlockFire extends Block
         int var5 = pos.getY();
         int var6 = pos.getZ();
 
-        if (!World.doesBlockHaveSolidTopSurface(worldIn, pos.offsetDown()) && !Blocks.fire.func_176535_e(worldIn, pos.offsetDown()))
+        if (!World.doesBlockHaveSolidTopSurface(worldIn, pos.down()) && !Blocks.fire.func_176535_e(worldIn, pos.down()))
         {
             boolean var7 = (var4 + var5 + var6 & 1) == 1;
             boolean var8 = (var4 / 2 + var5 / 2 + var6 / 2 & 1) == 1;
             int var9 = 0;
 
-            if (this.func_176535_e(worldIn, pos.offsetUp()))
+            if (this.func_176535_e(worldIn, pos.up()))
             {
                 var9 = var7 ? 1 : 2;
             }
 
-            return state.withProperty(field_176545_N, Boolean.valueOf(this.func_176535_e(worldIn, pos.offsetNorth()))).withProperty(field_176546_O, Boolean.valueOf(this.func_176535_e(worldIn, pos.offsetEast()))).withProperty(field_176541_P, Boolean.valueOf(this.func_176535_e(worldIn, pos.offsetSouth()))).withProperty(field_176539_Q, Boolean.valueOf(this.func_176535_e(worldIn, pos.offsetWest()))).withProperty(field_176542_R, Integer.valueOf(var9)).withProperty(field_176540_b, Boolean.valueOf(var8)).withProperty(field_176544_M, Boolean.valueOf(var7));
+            return state.withProperty(field_176545_N, Boolean.valueOf(this.func_176535_e(worldIn, pos.north()))).withProperty(field_176546_O, Boolean.valueOf(this.func_176535_e(worldIn, pos.east()))).withProperty(field_176541_P, Boolean.valueOf(this.func_176535_e(worldIn, pos.south()))).withProperty(field_176539_Q, Boolean.valueOf(this.func_176535_e(worldIn, pos.west()))).withProperty(field_176542_R, Integer.valueOf(var9)).withProperty(field_176540_b, Boolean.valueOf(var8)).withProperty(field_176544_M, Boolean.valueOf(var7));
         }
         else
         {
@@ -155,7 +155,7 @@ public class BlockFire extends Block
                 worldIn.setBlockToAir(pos);
             }
 
-            Block var5 = worldIn.getBlockState(pos.offsetDown()).getBlock();
+            Block var5 = worldIn.getBlockState(pos.down()).getBlock();
             boolean var6 = var5 == Blocks.netherrack;
 
             if (worldIn.provider instanceof WorldProviderEnd && var5 == Blocks.bedrock)
@@ -183,7 +183,7 @@ public class BlockFire extends Block
                 {
                     if (!this.func_176533_e(worldIn, pos))
                     {
-                        if (!World.doesBlockHaveSolidTopSurface(worldIn, pos.offsetDown()) || var7 > 3)
+                        if (!World.doesBlockHaveSolidTopSurface(worldIn, pos.down()) || var7 > 3)
                         {
                             worldIn.setBlockToAir(pos);
                         }
@@ -191,7 +191,7 @@ public class BlockFire extends Block
                         return;
                     }
 
-                    if (!this.func_176535_e(worldIn, pos.offsetDown()) && var7 == 15 && rand.nextInt(4) == 0)
+                    if (!this.func_176535_e(worldIn, pos.down()) && var7 == 15 && rand.nextInt(4) == 0)
                     {
                         worldIn.setBlockToAir(pos);
                         return;
@@ -206,12 +206,12 @@ public class BlockFire extends Block
                     var9 = -50;
                 }
 
-                this.func_176536_a(worldIn, pos.offsetEast(), 300 + var9, rand, var7);
-                this.func_176536_a(worldIn, pos.offsetWest(), 300 + var9, rand, var7);
-                this.func_176536_a(worldIn, pos.offsetDown(), 250 + var9, rand, var7);
-                this.func_176536_a(worldIn, pos.offsetUp(), 250 + var9, rand, var7);
-                this.func_176536_a(worldIn, pos.offsetNorth(), 300 + var9, rand, var7);
-                this.func_176536_a(worldIn, pos.offsetSouth(), 300 + var9, rand, var7);
+                this.func_176536_a(worldIn, pos.east(), 300 + var9, rand, var7);
+                this.func_176536_a(worldIn, pos.west(), 300 + var9, rand, var7);
+                this.func_176536_a(worldIn, pos.down(), 250 + var9, rand, var7);
+                this.func_176536_a(worldIn, pos.up(), 250 + var9, rand, var7);
+                this.func_176536_a(worldIn, pos.north(), 300 + var9, rand, var7);
+                this.func_176536_a(worldIn, pos.south(), 300 + var9, rand, var7);
 
                 for (int var10 = -1; var10 <= 1; ++var10)
                 {
@@ -262,7 +262,7 @@ public class BlockFire extends Block
 
     protected boolean func_176537_d(World worldIn, BlockPos p_176537_2_)
     {
-        return worldIn.func_175727_C(p_176537_2_) || worldIn.func_175727_C(p_176537_2_.offsetWest()) || worldIn.func_175727_C(p_176537_2_.offsetEast()) || worldIn.func_175727_C(p_176537_2_.offsetNorth()) || worldIn.func_175727_C(p_176537_2_.offsetSouth());
+        return worldIn.func_175727_C(p_176537_2_) || worldIn.func_175727_C(p_176537_2_.west()) || worldIn.func_175727_C(p_176537_2_.east()) || worldIn.func_175727_C(p_176537_2_.north()) || worldIn.func_175727_C(p_176537_2_.south());
     }
 
     public boolean requiresUpdates()
@@ -368,12 +368,12 @@ public class BlockFire extends Block
 
     public boolean canPlaceBlockAt(World worldIn, BlockPos pos)
     {
-        return World.doesBlockHaveSolidTopSurface(worldIn, pos.offsetDown()) || this.func_176533_e(worldIn, pos);
+        return World.doesBlockHaveSolidTopSurface(worldIn, pos.down()) || this.func_176533_e(worldIn, pos);
     }
 
     public void onNeighborBlockChange(World worldIn, BlockPos pos, IBlockState state, Block neighborBlock)
     {
-        if (!World.doesBlockHaveSolidTopSurface(worldIn, pos.offsetDown()) && !this.func_176533_e(worldIn, pos))
+        if (!World.doesBlockHaveSolidTopSurface(worldIn, pos.down()) && !this.func_176533_e(worldIn, pos))
         {
             worldIn.setBlockToAir(pos);
         }
@@ -383,7 +383,7 @@ public class BlockFire extends Block
     {
         if (worldIn.provider.getDimensionId() > 0 || !Blocks.portal.func_176548_d(worldIn, pos))
         {
-            if (!World.doesBlockHaveSolidTopSurface(worldIn, pos.offsetDown()) && !this.func_176533_e(worldIn, pos))
+            if (!World.doesBlockHaveSolidTopSurface(worldIn, pos.down()) && !this.func_176533_e(worldIn, pos))
             {
                 worldIn.setBlockToAir(pos);
             }
@@ -406,9 +406,9 @@ public class BlockFire extends Block
         double var8;
         double var10;
 
-        if (!World.doesBlockHaveSolidTopSurface(worldIn, pos.offsetDown()) && !Blocks.fire.func_176535_e(worldIn, pos.offsetDown()))
+        if (!World.doesBlockHaveSolidTopSurface(worldIn, pos.down()) && !Blocks.fire.func_176535_e(worldIn, pos.down()))
         {
-            if (Blocks.fire.func_176535_e(worldIn, pos.offsetWest()))
+            if (Blocks.fire.func_176535_e(worldIn, pos.west()))
             {
                 for (var5 = 0; var5 < 2; ++var5)
                 {
@@ -419,7 +419,7 @@ public class BlockFire extends Block
                 }
             }
 
-            if (Blocks.fire.func_176535_e(worldIn, pos.offsetEast()))
+            if (Blocks.fire.func_176535_e(worldIn, pos.east()))
             {
                 for (var5 = 0; var5 < 2; ++var5)
                 {
@@ -430,7 +430,7 @@ public class BlockFire extends Block
                 }
             }
 
-            if (Blocks.fire.func_176535_e(worldIn, pos.offsetNorth()))
+            if (Blocks.fire.func_176535_e(worldIn, pos.north()))
             {
                 for (var5 = 0; var5 < 2; ++var5)
                 {
@@ -441,7 +441,7 @@ public class BlockFire extends Block
                 }
             }
 
-            if (Blocks.fire.func_176535_e(worldIn, pos.offsetSouth()))
+            if (Blocks.fire.func_176535_e(worldIn, pos.south()))
             {
                 for (var5 = 0; var5 < 2; ++var5)
                 {
@@ -452,7 +452,7 @@ public class BlockFire extends Block
                 }
             }
 
-            if (Blocks.fire.func_176535_e(worldIn, pos.offsetUp()))
+            if (Blocks.fire.func_176535_e(worldIn, pos.up()))
             {
                 for (var5 = 0; var5 < 2; ++var5)
                 {
diff --git a/net/minecraft/block/BlockFlowerPot.java b/net/minecraft/block/BlockFlowerPot.java
index ccad214..f230696 100644
--- a/net/minecraft/block/BlockFlowerPot.java
+++ b/net/minecraft/block/BlockFlowerPot.java
@@ -152,12 +152,12 @@ public class BlockFlowerPot extends BlockContainer
 
     public boolean canPlaceBlockAt(World worldIn, BlockPos pos)
     {
-        return super.canPlaceBlockAt(worldIn, pos) && World.doesBlockHaveSolidTopSurface(worldIn, pos.offsetDown());
+        return super.canPlaceBlockAt(worldIn, pos) && World.doesBlockHaveSolidTopSurface(worldIn, pos.down());
     }
 
     public void onNeighborBlockChange(World worldIn, BlockPos pos, IBlockState state, Block neighborBlock)
     {
-        if (!World.doesBlockHaveSolidTopSurface(worldIn, pos.offsetDown()))
+        if (!World.doesBlockHaveSolidTopSurface(worldIn, pos.down()))
         {
             this.dropBlockAsItem(worldIn, pos, state, 0);
             worldIn.setBlockToAir(pos);
diff --git a/net/minecraft/block/BlockFurnace.java b/net/minecraft/block/BlockFurnace.java
index 109b347..494089d 100644
--- a/net/minecraft/block/BlockFurnace.java
+++ b/net/minecraft/block/BlockFurnace.java
@@ -53,10 +53,10 @@ public class BlockFurnace extends BlockContainer
     {
         if (!worldIn.isRemote)
         {
-            Block var4 = worldIn.getBlockState(p_176445_2_.offsetNorth()).getBlock();
-            Block var5 = worldIn.getBlockState(p_176445_2_.offsetSouth()).getBlock();
-            Block var6 = worldIn.getBlockState(p_176445_2_.offsetWest()).getBlock();
-            Block var7 = worldIn.getBlockState(p_176445_2_.offsetEast()).getBlock();
+            Block var4 = worldIn.getBlockState(p_176445_2_.north()).getBlock();
+            Block var5 = worldIn.getBlockState(p_176445_2_.south()).getBlock();
+            Block var6 = worldIn.getBlockState(p_176445_2_.west()).getBlock();
+            Block var7 = worldIn.getBlockState(p_176445_2_.east()).getBlock();
             EnumFacing var8 = (EnumFacing)p_176445_3_.getValue(FACING);
 
             if (var8 == EnumFacing.NORTH && var4.isFullBlock() && !var5.isFullBlock())
diff --git a/net/minecraft/block/BlockGrass.java b/net/minecraft/block/BlockGrass.java
index 7b6ba6a..de183e9 100644
--- a/net/minecraft/block/BlockGrass.java
+++ b/net/minecraft/block/BlockGrass.java
@@ -35,7 +35,7 @@ public class BlockGrass extends Block implements IGrowable
      */
     public IBlockState getActualState(IBlockState state, IBlockAccess worldIn, BlockPos pos)
     {
-        Block var4 = worldIn.getBlockState(pos.offsetUp()).getBlock();
+        Block var4 = worldIn.getBlockState(pos.up()).getBlock();
         return state.withProperty(SNOWY, Boolean.valueOf(var4 == Blocks.snow || var4 == Blocks.snow_layer));
     }
 
@@ -58,21 +58,21 @@ public class BlockGrass extends Block implements IGrowable
     {
         if (!worldIn.isRemote)
         {
-            if (worldIn.getLightFromNeighbors(pos.offsetUp()) < 4 && worldIn.getBlockState(pos.offsetUp()).getBlock().getLightOpacity() > 2)
+            if (worldIn.getLightFromNeighbors(pos.up()) < 4 && worldIn.getBlockState(pos.up()).getBlock().getLightOpacity() > 2)
             {
                 worldIn.setBlockState(pos, Blocks.dirt.getDefaultState());
             }
             else
             {
-                if (worldIn.getLightFromNeighbors(pos.offsetUp()) >= 9)
+                if (worldIn.getLightFromNeighbors(pos.up()) >= 9)
                 {
                     for (int var5 = 0; var5 < 4; ++var5)
                     {
                         BlockPos var6 = pos.add(rand.nextInt(3) - 1, rand.nextInt(5) - 3, rand.nextInt(3) - 1);
-                        Block var7 = worldIn.getBlockState(var6.offsetUp()).getBlock();
+                        Block var7 = worldIn.getBlockState(var6.up()).getBlock();
                         IBlockState var8 = worldIn.getBlockState(var6);
 
-                        if (var8.getBlock() == Blocks.dirt && var8.getValue(BlockDirt.VARIANT) == BlockDirt.DirtType.DIRT && worldIn.getLightFromNeighbors(var6.offsetUp()) >= 4 && var7.getLightOpacity() <= 2)
+                        if (var8.getBlock() == Blocks.dirt && var8.getValue(BlockDirt.VARIANT) == BlockDirt.DirtType.DIRT && worldIn.getLightFromNeighbors(var6.up()) >= 4 && var7.getLightOpacity() <= 2)
                         {
                             worldIn.setBlockState(var6, Blocks.grass.getDefaultState());
                         }
@@ -104,7 +104,7 @@ public class BlockGrass extends Block implements IGrowable
 
     public void grow(World worldIn, Random p_176474_2_, BlockPos p_176474_3_, IBlockState p_176474_4_)
     {
-        BlockPos var5 = p_176474_3_.offsetUp();
+        BlockPos var5 = p_176474_3_.up();
         int var6 = 0;
 
         while (var6 < 128)
@@ -118,7 +118,7 @@ public class BlockGrass extends Block implements IGrowable
                 {
                     var7 = var7.add(p_176474_2_.nextInt(3) - 1, (p_176474_2_.nextInt(3) - 1) * p_176474_2_.nextInt(3) / 2, p_176474_2_.nextInt(3) - 1);
 
-                    if (worldIn.getBlockState(var7.offsetDown()).getBlock() == Blocks.grass && !worldIn.getBlockState(var7).getBlock().isNormalCube())
+                    if (worldIn.getBlockState(var7.down()).getBlock() == Blocks.grass && !worldIn.getBlockState(var7).getBlock().isNormalCube())
                     {
                         ++var8;
                         continue;
diff --git a/net/minecraft/block/BlockIce.java b/net/minecraft/block/BlockIce.java
index d43f621..ba4ce9b 100644
--- a/net/minecraft/block/BlockIce.java
+++ b/net/minecraft/block/BlockIce.java
@@ -56,7 +56,7 @@ public class BlockIce extends BlockBreakable
 
             int var6 = EnchantmentHelper.getFortuneModifier(playerIn);
             this.dropBlockAsItem(worldIn, pos, state, var6);
-            Material var7 = worldIn.getBlockState(pos.offsetDown()).getBlock().getMaterial();
+            Material var7 = worldIn.getBlockState(pos.down()).getBlock().getMaterial();
 
             if (var7.blocksMovement() || var7.isLiquid())
             {
diff --git a/net/minecraft/block/BlockLadder.java b/net/minecraft/block/BlockLadder.java
index e600074..e1e117a 100644
--- a/net/minecraft/block/BlockLadder.java
+++ b/net/minecraft/block/BlockLadder.java
@@ -80,7 +80,7 @@ public class BlockLadder extends Block
 
     public boolean canPlaceBlockAt(World worldIn, BlockPos pos)
     {
-        return worldIn.getBlockState(pos.offsetWest()).getBlock().isNormalCube() ? true : (worldIn.getBlockState(pos.offsetEast()).getBlock().isNormalCube() ? true : (worldIn.getBlockState(pos.offsetNorth()).getBlock().isNormalCube() ? true : worldIn.getBlockState(pos.offsetSouth()).getBlock().isNormalCube()));
+        return worldIn.getBlockState(pos.west()).getBlock().isNormalCube() ? true : (worldIn.getBlockState(pos.east()).getBlock().isNormalCube() ? true : (worldIn.getBlockState(pos.north()).getBlock().isNormalCube() ? true : worldIn.getBlockState(pos.south()).getBlock().isNormalCube()));
     }
 
     public IBlockState onBlockPlaced(World worldIn, BlockPos pos, EnumFacing facing, float hitX, float hitY, float hitZ, int meta, EntityLivingBase placer)
diff --git a/net/minecraft/block/BlockLeaves.java b/net/minecraft/block/BlockLeaves.java
index d524650..79cc6d0 100644
--- a/net/minecraft/block/BlockLeaves.java
+++ b/net/minecraft/block/BlockLeaves.java
@@ -195,7 +195,7 @@ public abstract class BlockLeaves extends BlockLeavesBase
 
     public void randomDisplayTick(World worldIn, BlockPos pos, IBlockState state, Random rand)
     {
-        if (worldIn.func_175727_C(pos.offsetUp()) && !World.doesBlockHaveSolidTopSurface(worldIn, pos.offsetDown()) && rand.nextInt(15) == 1)
+        if (worldIn.func_175727_C(pos.up()) && !World.doesBlockHaveSolidTopSurface(worldIn, pos.down()) && rand.nextInt(15) == 1)
         {
             double var5 = (double)((float)pos.getX() + rand.nextFloat());
             double var7 = (double)pos.getY() - 0.05D;
diff --git a/net/minecraft/block/BlockLever.java b/net/minecraft/block/BlockLever.java
index b56d368..1409e77 100644
--- a/net/minecraft/block/BlockLever.java
+++ b/net/minecraft/block/BlockLever.java
@@ -50,12 +50,12 @@ public class BlockLever extends Block
      */
     public boolean canPlaceBlockOnSide(World worldIn, BlockPos pos, EnumFacing side)
     {
-        return side == EnumFacing.UP && World.doesBlockHaveSolidTopSurface(worldIn, pos.offsetDown()) ? true : this.func_176358_d(worldIn, pos.offset(side.getOpposite()));
+        return side == EnumFacing.UP && World.doesBlockHaveSolidTopSurface(worldIn, pos.down()) ? true : this.func_176358_d(worldIn, pos.offset(side.getOpposite()));
     }
 
     public boolean canPlaceBlockAt(World worldIn, BlockPos pos)
     {
-        return this.func_176358_d(worldIn, pos.offsetWest()) ? true : (this.func_176358_d(worldIn, pos.offsetEast()) ? true : (this.func_176358_d(worldIn, pos.offsetNorth()) ? true : (this.func_176358_d(worldIn, pos.offsetSouth()) ? true : (World.doesBlockHaveSolidTopSurface(worldIn, pos.offsetDown()) ? true : this.func_176358_d(worldIn, pos.offsetUp())))));
+        return this.func_176358_d(worldIn, pos.west()) ? true : (this.func_176358_d(worldIn, pos.east()) ? true : (this.func_176358_d(worldIn, pos.north()) ? true : (this.func_176358_d(worldIn, pos.south()) ? true : (World.doesBlockHaveSolidTopSurface(worldIn, pos.down()) ? true : this.func_176358_d(worldIn, pos.up())))));
     }
 
     protected boolean func_176358_d(World worldIn, BlockPos p_176358_2_)
@@ -80,7 +80,7 @@ public class BlockLever extends Block
             {
                 if (!var10.hasNext())
                 {
-                    if (World.doesBlockHaveSolidTopSurface(worldIn, pos.offsetDown()))
+                    if (World.doesBlockHaveSolidTopSurface(worldIn, pos.down()))
                     {
                         return var9.withProperty(FACING, BlockLever.EnumOrientation.func_176856_a(EnumFacing.UP, placer.func_174811_aO()));
                     }
diff --git a/net/minecraft/block/BlockLilyPad.java b/net/minecraft/block/BlockLilyPad.java
index 8156a1e..05ad8de 100644
--- a/net/minecraft/block/BlockLilyPad.java
+++ b/net/minecraft/block/BlockLilyPad.java
@@ -69,7 +69,7 @@ public class BlockLilyPad extends BlockBush
     {
         if (p_180671_2_.getY() >= 0 && p_180671_2_.getY() < 256)
         {
-            IBlockState var4 = worldIn.getBlockState(p_180671_2_.offsetDown());
+            IBlockState var4 = worldIn.getBlockState(p_180671_2_.down());
             return var4.getBlock().getMaterial() == Material.water && ((Integer)var4.getValue(BlockLiquid.LEVEL)).intValue() == 0;
         }
         else
diff --git a/net/minecraft/block/BlockLiquid.java b/net/minecraft/block/BlockLiquid.java
index be12b92..13e3ec1 100644
--- a/net/minecraft/block/BlockLiquid.java
+++ b/net/minecraft/block/BlockLiquid.java
@@ -2,6 +2,7 @@ package net.minecraft.block;
 
 import java.util.Iterator;
 import java.util.Random;
+
 import net.minecraft.block.material.Material;
 import net.minecraft.block.properties.IProperty;
 import net.minecraft.block.properties.PropertyInteger;
@@ -19,6 +20,10 @@ import net.minecraft.util.Vec3;
 import net.minecraft.world.IBlockAccess;
 import net.minecraft.world.World;
 import net.minecraft.world.biome.BiomeColorHelper;
+import tk.wurst_client.WurstClient;
+import tk.wurst_client.features.mods.JesusMod;
+import tk.wurst_client.features.mods.LiquidsMod;
+import tk.wurst_client.features.mods.XRayMod;
 
 public abstract class BlockLiquid extends Block
 {
@@ -35,7 +40,9 @@ public abstract class BlockLiquid extends Block
 
     public boolean isPassable(IBlockAccess blockAccess, BlockPos pos)
     {
-        return this.blockMaterial != Material.lava;
+		// TODO: Client
+		return WurstClient.INSTANCE.mods.xRayMod.isEnabled() ? true
+			: this.blockMaterial != Material.lava;
     }
 
     public int colorMultiplier(IBlockAccess worldIn, BlockPos pos, int renderPass)
@@ -79,7 +86,9 @@ public abstract class BlockLiquid extends Block
 
     public boolean canCollideCheck(IBlockState state, boolean p_176209_2_)
     {
-        return p_176209_2_ && ((Integer)state.getValue(LEVEL)).intValue() == 0;
+		// TODO: Client
+		return (p_176209_2_ && ((Integer)state.getValue(LEVEL)).intValue() == 0)
+			|| WurstClient.INSTANCE.mods.liquidsMod.isActive();
     }
 
     /**
@@ -118,7 +127,11 @@ public abstract class BlockLiquid extends Block
 
     public AxisAlignedBB getCollisionBoundingBox(World worldIn, BlockPos pos, IBlockState state)
     {
-        return null;
+		// TODO: Client
+		return WurstClient.INSTANCE.mods.jesusMod.shouldBeSolid() ? AxisAlignedBB
+			.fromBounds(pos.getX() + minX, pos.getY() + minY,
+				pos.getZ() + minZ, pos.getX() + maxX, pos.getY() + maxY,
+				pos.getZ() + maxZ) : null;
     }
 
     /**
@@ -166,7 +179,7 @@ public abstract class BlockLiquid extends Block
             {
                 if (!p_180687_1_.getBlockState(var7).getBlock().getMaterial().blocksMovement())
                 {
-                    var8 = this.func_176366_f(p_180687_1_, var7.offsetDown());
+                    var8 = this.func_176366_f(p_180687_1_, var7.down());
 
                     if (var8 >= 0)
                     {
@@ -191,7 +204,7 @@ public abstract class BlockLiquid extends Block
                 var6 = (EnumFacing)var5.next();
                 var7 = p_180687_2_.offset(var6);
 
-                if (this.isBlockSolid(p_180687_1_, var7, var6) || this.isBlockSolid(p_180687_1_, var7.offsetUp(), var6))
+                if (this.isBlockSolid(p_180687_1_, var7, var6) || this.isBlockSolid(p_180687_1_, var7.up(), var6))
                 {
                     var3 = var3.normalize().addVector(0.0D, -6.0D, 0.0D);
                     break;
@@ -218,7 +231,7 @@ public abstract class BlockLiquid extends Block
     public int getMixedBrightnessForBlock(IBlockAccess worldIn, BlockPos pos)
     {
         int var3 = worldIn.getCombinedLight(pos, 0);
-        int var4 = worldIn.getCombinedLight(pos.offsetUp(), 0);
+        int var4 = worldIn.getCombinedLight(pos.up(), 0);
         int var5 = var3 & 255;
         int var6 = var4 & 255;
         int var7 = var3 >> 16 & 255;
@@ -254,7 +267,7 @@ public abstract class BlockLiquid extends Block
             }
         }
 
-        if (this.blockMaterial == Material.lava && worldIn.getBlockState(pos.offsetUp()).getBlock().getMaterial() == Material.air && !worldIn.getBlockState(pos.offsetUp()).getBlock().isOpaqueCube())
+        if (this.blockMaterial == Material.lava && worldIn.getBlockState(pos.up()).getBlock().getMaterial() == Material.air && !worldIn.getBlockState(pos.up()).getBlock().isOpaqueCube())
         {
             if (rand.nextInt(100) == 0)
             {
@@ -271,9 +284,9 @@ public abstract class BlockLiquid extends Block
             }
         }
 
-        if (rand.nextInt(10) == 0 && World.doesBlockHaveSolidTopSurface(worldIn, pos.offsetDown()))
+        if (rand.nextInt(10) == 0 && World.doesBlockHaveSolidTopSurface(worldIn, pos.down()))
         {
-            Material var19 = worldIn.getBlockState(pos.offsetDown(2)).getBlock().getMaterial();
+            Material var19 = worldIn.getBlockState(pos.down(2)).getBlock().getMaterial();
 
             if (!var19.blocksMovement() && !var19.isLiquid())
             {
diff --git a/net/minecraft/block/BlockMushroom.java b/net/minecraft/block/BlockMushroom.java
index c7d9a85..1830363 100644
--- a/net/minecraft/block/BlockMushroom.java
+++ b/net/minecraft/block/BlockMushroom.java
@@ -78,7 +78,7 @@ public class BlockMushroom extends BlockBush implements IGrowable
     {
         if (p_180671_2_.getY() >= 0 && p_180671_2_.getY() < 256)
         {
-            IBlockState var4 = worldIn.getBlockState(p_180671_2_.offsetDown());
+            IBlockState var4 = worldIn.getBlockState(p_180671_2_.down());
             return var4.getBlock() == Blocks.mycelium ? true : (var4.getBlock() == Blocks.dirt && var4.getValue(BlockDirt.VARIANT) == BlockDirt.DirtType.PODZOL ? true : worldIn.getLight(p_180671_2_) < 13 && this.canPlaceBlockOn(var4.getBlock()));
         }
         else
diff --git a/net/minecraft/block/BlockMycelium.java b/net/minecraft/block/BlockMycelium.java
index dd7c22f..d716c1e 100644
--- a/net/minecraft/block/BlockMycelium.java
+++ b/net/minecraft/block/BlockMycelium.java
@@ -33,7 +33,7 @@ public class BlockMycelium extends Block
      */
     public IBlockState getActualState(IBlockState state, IBlockAccess worldIn, BlockPos pos)
     {
-        Block var4 = worldIn.getBlockState(pos.offsetUp()).getBlock();
+        Block var4 = worldIn.getBlockState(pos.up()).getBlock();
         return state.withProperty(SNOWY_PROP, Boolean.valueOf(var4 == Blocks.snow || var4 == Blocks.snow_layer));
     }
 
@@ -41,21 +41,21 @@ public class BlockMycelium extends Block
     {
         if (!worldIn.isRemote)
         {
-            if (worldIn.getLightFromNeighbors(pos.offsetUp()) < 4 && worldIn.getBlockState(pos.offsetUp()).getBlock().getLightOpacity() > 2)
+            if (worldIn.getLightFromNeighbors(pos.up()) < 4 && worldIn.getBlockState(pos.up()).getBlock().getLightOpacity() > 2)
             {
                 worldIn.setBlockState(pos, Blocks.dirt.getDefaultState().withProperty(BlockDirt.VARIANT, BlockDirt.DirtType.DIRT));
             }
             else
             {
-                if (worldIn.getLightFromNeighbors(pos.offsetUp()) >= 9)
+                if (worldIn.getLightFromNeighbors(pos.up()) >= 9)
                 {
                     for (int var5 = 0; var5 < 4; ++var5)
                     {
                         BlockPos var6 = pos.add(rand.nextInt(3) - 1, rand.nextInt(5) - 3, rand.nextInt(3) - 1);
                         IBlockState var7 = worldIn.getBlockState(var6);
-                        Block var8 = worldIn.getBlockState(var6.offsetUp()).getBlock();
+                        Block var8 = worldIn.getBlockState(var6.up()).getBlock();
 
-                        if (var7.getBlock() == Blocks.dirt && var7.getValue(BlockDirt.VARIANT) == BlockDirt.DirtType.DIRT && worldIn.getLightFromNeighbors(var6.offsetUp()) >= 4 && var8.getLightOpacity() <= 2)
+                        if (var7.getBlock() == Blocks.dirt && var7.getValue(BlockDirt.VARIANT) == BlockDirt.DirtType.DIRT && worldIn.getLightFromNeighbors(var6.up()) >= 4 && var8.getLightOpacity() <= 2)
                         {
                             worldIn.setBlockState(var6, this.getDefaultState());
                         }
diff --git a/net/minecraft/block/BlockNetherWart.java b/net/minecraft/block/BlockNetherWart.java
index 7465194..f5e5528 100644
--- a/net/minecraft/block/BlockNetherWart.java
+++ b/net/minecraft/block/BlockNetherWart.java
@@ -37,7 +37,7 @@ public class BlockNetherWart extends BlockBush
 
     public boolean canBlockStay(World worldIn, BlockPos p_180671_2_, IBlockState p_180671_3_)
     {
-        return this.canPlaceBlockOn(worldIn.getBlockState(p_180671_2_.offsetDown()).getBlock());
+        return this.canPlaceBlockOn(worldIn.getBlockState(p_180671_2_.down()).getBlock());
     }
 
     public void updateTick(World worldIn, BlockPos pos, IBlockState state, Random rand)
diff --git a/net/minecraft/block/BlockPane.java b/net/minecraft/block/BlockPane.java
index e3c60b4..d289cb5 100644
--- a/net/minecraft/block/BlockPane.java
+++ b/net/minecraft/block/BlockPane.java
@@ -41,7 +41,7 @@ public class BlockPane extends Block
      */
     public IBlockState getActualState(IBlockState state, IBlockAccess worldIn, BlockPos pos)
     {
-        return state.withProperty(NORTH, Boolean.valueOf(this.canPaneConnectToBlock(worldIn.getBlockState(pos.offsetNorth()).getBlock()))).withProperty(SOUTH, Boolean.valueOf(this.canPaneConnectToBlock(worldIn.getBlockState(pos.offsetSouth()).getBlock()))).withProperty(WEST, Boolean.valueOf(this.canPaneConnectToBlock(worldIn.getBlockState(pos.offsetWest()).getBlock()))).withProperty(EAST, Boolean.valueOf(this.canPaneConnectToBlock(worldIn.getBlockState(pos.offsetEast()).getBlock())));
+        return state.withProperty(NORTH, Boolean.valueOf(this.canPaneConnectToBlock(worldIn.getBlockState(pos.north()).getBlock()))).withProperty(SOUTH, Boolean.valueOf(this.canPaneConnectToBlock(worldIn.getBlockState(pos.south()).getBlock()))).withProperty(WEST, Boolean.valueOf(this.canPaneConnectToBlock(worldIn.getBlockState(pos.west()).getBlock()))).withProperty(EAST, Boolean.valueOf(this.canPaneConnectToBlock(worldIn.getBlockState(pos.east()).getBlock())));
     }
 
     /**
@@ -76,10 +76,10 @@ public class BlockPane extends Block
      */
     public void addCollisionBoxesToList(World worldIn, BlockPos pos, IBlockState state, AxisAlignedBB mask, List list, Entity collidingEntity)
     {
-        boolean var7 = this.canPaneConnectToBlock(worldIn.getBlockState(pos.offsetNorth()).getBlock());
-        boolean var8 = this.canPaneConnectToBlock(worldIn.getBlockState(pos.offsetSouth()).getBlock());
-        boolean var9 = this.canPaneConnectToBlock(worldIn.getBlockState(pos.offsetWest()).getBlock());
-        boolean var10 = this.canPaneConnectToBlock(worldIn.getBlockState(pos.offsetEast()).getBlock());
+        boolean var7 = this.canPaneConnectToBlock(worldIn.getBlockState(pos.north()).getBlock());
+        boolean var8 = this.canPaneConnectToBlock(worldIn.getBlockState(pos.south()).getBlock());
+        boolean var9 = this.canPaneConnectToBlock(worldIn.getBlockState(pos.west()).getBlock());
+        boolean var10 = this.canPaneConnectToBlock(worldIn.getBlockState(pos.east()).getBlock());
 
         if ((!var9 || !var10) && (var9 || var10 || var7 || var8))
         {
@@ -134,10 +134,10 @@ public class BlockPane extends Block
         float var4 = 0.5625F;
         float var5 = 0.4375F;
         float var6 = 0.5625F;
-        boolean var7 = this.canPaneConnectToBlock(access.getBlockState(pos.offsetNorth()).getBlock());
-        boolean var8 = this.canPaneConnectToBlock(access.getBlockState(pos.offsetSouth()).getBlock());
-        boolean var9 = this.canPaneConnectToBlock(access.getBlockState(pos.offsetWest()).getBlock());
-        boolean var10 = this.canPaneConnectToBlock(access.getBlockState(pos.offsetEast()).getBlock());
+        boolean var7 = this.canPaneConnectToBlock(access.getBlockState(pos.north()).getBlock());
+        boolean var8 = this.canPaneConnectToBlock(access.getBlockState(pos.south()).getBlock());
+        boolean var9 = this.canPaneConnectToBlock(access.getBlockState(pos.west()).getBlock());
+        boolean var10 = this.canPaneConnectToBlock(access.getBlockState(pos.east()).getBlock());
 
         if ((!var9 || !var10) && (var9 || var10 || var7 || var8))
         {
diff --git a/net/minecraft/block/BlockPistonBase.java b/net/minecraft/block/BlockPistonBase.java
index 6e47cb1..f0d329c 100644
--- a/net/minecraft/block/BlockPistonBase.java
+++ b/net/minecraft/block/BlockPistonBase.java
@@ -118,7 +118,7 @@ public class BlockPistonBase extends Block
         }
         else
         {
-            BlockPos var9 = p_176318_2_.offsetUp();
+            BlockPos var9 = p_176318_2_.up();
             EnumFacing[] var10 = EnumFacing.values();
             var6 = var10.length;
 
diff --git a/net/minecraft/block/BlockPortal.java b/net/minecraft/block/BlockPortal.java
index eb5f9ea..889069b 100644
--- a/net/minecraft/block/BlockPortal.java
+++ b/net/minecraft/block/BlockPortal.java
@@ -39,12 +39,12 @@ public class BlockPortal extends BlockBreakable
             int var5 = pos.getY();
             BlockPos var6;
 
-            for (var6 = pos; !World.doesBlockHaveSolidTopSurface(worldIn, var6) && var6.getY() > 0; var6 = var6.offsetDown())
+            for (var6 = pos; !World.doesBlockHaveSolidTopSurface(worldIn, var6) && var6.getY() > 0; var6 = var6.down())
             {
                 ;
             }
 
-            if (var5 > 0 && !worldIn.getBlockState(var6.offsetUp()).getBlock().isNormalCube())
+            if (var5 > 0 && !worldIn.getBlockState(var6.up()).getBlock().isNormalCube())
             {
                 Entity var7 = ItemMonsterPlacer.spawnCreature(worldIn, 57, (double)var6.getX() + 0.5D, (double)var6.getY() + 1.1D, (double)var6.getZ() + 0.5D);
 
@@ -165,10 +165,10 @@ public class BlockPortal extends BlockBreakable
             }
         }
 
-        boolean var6 = worldIn.getBlockState(pos.offsetWest()).getBlock() == this && worldIn.getBlockState(pos.offsetWest(2)).getBlock() != this;
-        boolean var7 = worldIn.getBlockState(pos.offsetEast()).getBlock() == this && worldIn.getBlockState(pos.offsetEast(2)).getBlock() != this;
-        boolean var8 = worldIn.getBlockState(pos.offsetNorth()).getBlock() == this && worldIn.getBlockState(pos.offsetNorth(2)).getBlock() != this;
-        boolean var9 = worldIn.getBlockState(pos.offsetSouth()).getBlock() == this && worldIn.getBlockState(pos.offsetSouth(2)).getBlock() != this;
+        boolean var6 = worldIn.getBlockState(pos.west()).getBlock() == this && worldIn.getBlockState(pos.west(2)).getBlock() != this;
+        boolean var7 = worldIn.getBlockState(pos.east()).getBlock() == this && worldIn.getBlockState(pos.east(2)).getBlock() != this;
+        boolean var8 = worldIn.getBlockState(pos.north()).getBlock() == this && worldIn.getBlockState(pos.north(2)).getBlock() != this;
+        boolean var9 = worldIn.getBlockState(pos.south()).getBlock() == this && worldIn.getBlockState(pos.south(2)).getBlock() != this;
         boolean var10 = var6 || var7 || var4 == EnumFacing.Axis.X;
         boolean var11 = var8 || var9 || var4 == EnumFacing.Axis.Z;
         return var10 && side == EnumFacing.WEST ? true : (var10 && side == EnumFacing.EAST ? true : (var11 && side == EnumFacing.NORTH ? true : var11 && side == EnumFacing.SOUTH));
@@ -215,7 +215,7 @@ public class BlockPortal extends BlockBreakable
             double var16 = ((double)rand.nextFloat() - 0.5D) * 0.5D;
             int var18 = rand.nextInt(2) * 2 - 1;
 
-            if (worldIn.getBlockState(pos.offsetWest()).getBlock() != this && worldIn.getBlockState(pos.offsetEast()).getBlock() != this)
+            if (worldIn.getBlockState(pos.west()).getBlock() != this && worldIn.getBlockState(pos.east()).getBlock() != this)
             {
                 var6 = (double)pos.getX() + 0.5D + 0.25D * (double)var18;
                 var12 = (double)(rand.nextFloat() * 2.0F * (float)var18);
@@ -284,7 +284,7 @@ public class BlockPortal extends BlockBreakable
                 this.field_150866_c = EnumFacing.SOUTH;
             }
 
-            for (BlockPos var4 = p_i45694_2_; p_i45694_2_.getY() > var4.getY() - 21 && p_i45694_2_.getY() > 0 && this.func_150857_a(worldIn.getBlockState(p_i45694_2_.offsetDown()).getBlock()); p_i45694_2_ = p_i45694_2_.offsetDown())
+            for (BlockPos var4 = p_i45694_2_; p_i45694_2_.getY() > var4.getY() - 21 && p_i45694_2_.getY() > 0 && this.func_150857_a(worldIn.getBlockState(p_i45694_2_.down()).getBlock()); p_i45694_2_ = p_i45694_2_.down())
             {
                 ;
             }
@@ -317,7 +317,7 @@ public class BlockPortal extends BlockBreakable
             {
                 BlockPos var4 = p_180120_1_.offset(p_180120_2_, var3);
 
-                if (!this.func_150857_a(this.field_150867_a.getBlockState(var4).getBlock()) || this.field_150867_a.getBlockState(var4.offsetDown()).getBlock() != Blocks.obsidian)
+                if (!this.func_150857_a(this.field_150867_a.getBlockState(var4).getBlock()) || this.field_150867_a.getBlockState(var4.down()).getBlock() != Blocks.obsidian)
                 {
                     break;
                 }
@@ -336,7 +336,7 @@ public class BlockPortal extends BlockBreakable
             {
                 for (var1 = 0; var1 < this.field_150868_h; ++var1)
                 {
-                    BlockPos var2 = this.field_150861_f.offset(this.field_150866_c, var1).offsetUp(this.field_150862_g);
+                    BlockPos var2 = this.field_150861_f.offset(this.field_150866_c, var1).up(this.field_150862_g);
                     Block var3 = this.field_150867_a.getBlockState(var2).getBlock();
 
                     if (!this.func_150857_a(var3))
@@ -372,7 +372,7 @@ public class BlockPortal extends BlockBreakable
 
             for (var1 = 0; var1 < this.field_150868_h; ++var1)
             {
-                if (this.field_150867_a.getBlockState(this.field_150861_f.offset(this.field_150866_c, var1).offsetUp(this.field_150862_g)).getBlock() != Blocks.obsidian)
+                if (this.field_150867_a.getBlockState(this.field_150861_f.offset(this.field_150866_c, var1).up(this.field_150862_g)).getBlock() != Blocks.obsidian)
                 {
                     this.field_150862_g = 0;
                     break;
@@ -410,7 +410,7 @@ public class BlockPortal extends BlockBreakable
 
                 for (int var3 = 0; var3 < this.field_150862_g; ++var3)
                 {
-                    this.field_150867_a.setBlockState(var2.offsetUp(var3), Blocks.portal.getDefaultState().withProperty(BlockPortal.field_176550_a, this.field_150865_b), 2);
+                    this.field_150867_a.setBlockState(var2.up(var3), Blocks.portal.getDefaultState().withProperty(BlockPortal.field_176550_a, this.field_150865_b), 2);
                 }
             }
         }
diff --git a/net/minecraft/block/BlockPumpkin.java b/net/minecraft/block/BlockPumpkin.java
index 15da9b6..89704d4 100644
--- a/net/minecraft/block/BlockPumpkin.java
+++ b/net/minecraft/block/BlockPumpkin.java
@@ -109,7 +109,7 @@ public class BlockPumpkin extends BlockDirectional
 
     public boolean canPlaceBlockAt(World worldIn, BlockPos pos)
     {
-        return worldIn.getBlockState(pos).getBlock().blockMaterial.isReplaceable() && World.doesBlockHaveSolidTopSurface(worldIn, pos.offsetDown());
+        return worldIn.getBlockState(pos).getBlock().blockMaterial.isReplaceable() && World.doesBlockHaveSolidTopSurface(worldIn, pos.down());
     }
 
     public IBlockState onBlockPlaced(World worldIn, BlockPos pos, EnumFacing facing, float hitX, float hitY, float hitZ, int meta, EntityLivingBase placer)
diff --git a/net/minecraft/block/BlockRailBase.java b/net/minecraft/block/BlockRailBase.java
index e775d17..3ea8161 100644
--- a/net/minecraft/block/BlockRailBase.java
+++ b/net/minecraft/block/BlockRailBase.java
@@ -86,7 +86,7 @@ public abstract class BlockRailBase extends Block
 
     public boolean canPlaceBlockAt(World worldIn, BlockPos pos)
     {
-        return World.doesBlockHaveSolidTopSurface(worldIn, pos.offsetDown());
+        return World.doesBlockHaveSolidTopSurface(worldIn, pos.down());
     }
 
     public void onBlockAdded(World worldIn, BlockPos pos, IBlockState state)
@@ -109,24 +109,24 @@ public abstract class BlockRailBase extends Block
             BlockRailBase.EnumRailDirection var5 = (BlockRailBase.EnumRailDirection)state.getValue(this.func_176560_l());
             boolean var6 = false;
 
-            if (!World.doesBlockHaveSolidTopSurface(worldIn, pos.offsetDown()))
+            if (!World.doesBlockHaveSolidTopSurface(worldIn, pos.down()))
             {
                 var6 = true;
             }
 
-            if (var5 == BlockRailBase.EnumRailDirection.ASCENDING_EAST && !World.doesBlockHaveSolidTopSurface(worldIn, pos.offsetEast()))
+            if (var5 == BlockRailBase.EnumRailDirection.ASCENDING_EAST && !World.doesBlockHaveSolidTopSurface(worldIn, pos.east()))
             {
                 var6 = true;
             }
-            else if (var5 == BlockRailBase.EnumRailDirection.ASCENDING_WEST && !World.doesBlockHaveSolidTopSurface(worldIn, pos.offsetWest()))
+            else if (var5 == BlockRailBase.EnumRailDirection.ASCENDING_WEST && !World.doesBlockHaveSolidTopSurface(worldIn, pos.west()))
             {
                 var6 = true;
             }
-            else if (var5 == BlockRailBase.EnumRailDirection.ASCENDING_NORTH && !World.doesBlockHaveSolidTopSurface(worldIn, pos.offsetNorth()))
+            else if (var5 == BlockRailBase.EnumRailDirection.ASCENDING_NORTH && !World.doesBlockHaveSolidTopSurface(worldIn, pos.north()))
             {
                 var6 = true;
             }
-            else if (var5 == BlockRailBase.EnumRailDirection.ASCENDING_SOUTH && !World.doesBlockHaveSolidTopSurface(worldIn, pos.offsetSouth()))
+            else if (var5 == BlockRailBase.EnumRailDirection.ASCENDING_SOUTH && !World.doesBlockHaveSolidTopSurface(worldIn, pos.south()))
             {
                 var6 = true;
             }
@@ -166,13 +166,13 @@ public abstract class BlockRailBase extends Block
 
         if (((BlockRailBase.EnumRailDirection)state.getValue(this.func_176560_l())).func_177018_c())
         {
-            worldIn.notifyNeighborsOfStateChange(pos.offsetUp(), this);
+            worldIn.notifyNeighborsOfStateChange(pos.up(), this);
         }
 
         if (this.isPowered)
         {
             worldIn.notifyNeighborsOfStateChange(pos, this);
-            worldIn.notifyNeighborsOfStateChange(pos.offsetDown(), this);
+            worldIn.notifyNeighborsOfStateChange(pos.down(), this);
         }
     }
 
@@ -273,53 +273,53 @@ public abstract class BlockRailBase extends Block
             switch (BlockRailBase.SwitchEnumRailDirection.field_180371_a[p_180360_1_.ordinal()])
             {
                 case 1:
-                    this.field_150657_g.add(this.field_180367_c.offsetNorth());
-                    this.field_150657_g.add(this.field_180367_c.offsetSouth());
+                    this.field_150657_g.add(this.field_180367_c.north());
+                    this.field_150657_g.add(this.field_180367_c.south());
                     break;
 
                 case 2:
-                    this.field_150657_g.add(this.field_180367_c.offsetWest());
-                    this.field_150657_g.add(this.field_180367_c.offsetEast());
+                    this.field_150657_g.add(this.field_180367_c.west());
+                    this.field_150657_g.add(this.field_180367_c.east());
                     break;
 
                 case 3:
-                    this.field_150657_g.add(this.field_180367_c.offsetWest());
-                    this.field_150657_g.add(this.field_180367_c.offsetEast().offsetUp());
+                    this.field_150657_g.add(this.field_180367_c.west());
+                    this.field_150657_g.add(this.field_180367_c.east().up());
                     break;
 
                 case 4:
-                    this.field_150657_g.add(this.field_180367_c.offsetWest().offsetUp());
-                    this.field_150657_g.add(this.field_180367_c.offsetEast());
+                    this.field_150657_g.add(this.field_180367_c.west().up());
+                    this.field_150657_g.add(this.field_180367_c.east());
                     break;
 
                 case 5:
-                    this.field_150657_g.add(this.field_180367_c.offsetNorth().offsetUp());
-                    this.field_150657_g.add(this.field_180367_c.offsetSouth());
+                    this.field_150657_g.add(this.field_180367_c.north().up());
+                    this.field_150657_g.add(this.field_180367_c.south());
                     break;
 
                 case 6:
-                    this.field_150657_g.add(this.field_180367_c.offsetNorth());
-                    this.field_150657_g.add(this.field_180367_c.offsetSouth().offsetUp());
+                    this.field_150657_g.add(this.field_180367_c.north());
+                    this.field_150657_g.add(this.field_180367_c.south().up());
                     break;
 
                 case 7:
-                    this.field_150657_g.add(this.field_180367_c.offsetEast());
-                    this.field_150657_g.add(this.field_180367_c.offsetSouth());
+                    this.field_150657_g.add(this.field_180367_c.east());
+                    this.field_150657_g.add(this.field_180367_c.south());
                     break;
 
                 case 8:
-                    this.field_150657_g.add(this.field_180367_c.offsetWest());
-                    this.field_150657_g.add(this.field_180367_c.offsetSouth());
+                    this.field_150657_g.add(this.field_180367_c.west());
+                    this.field_150657_g.add(this.field_180367_c.south());
                     break;
 
                 case 9:
-                    this.field_150657_g.add(this.field_180367_c.offsetWest());
-                    this.field_150657_g.add(this.field_180367_c.offsetNorth());
+                    this.field_150657_g.add(this.field_180367_c.west());
+                    this.field_150657_g.add(this.field_180367_c.north());
                     break;
 
                 case 10:
-                    this.field_150657_g.add(this.field_180367_c.offsetEast());
-                    this.field_150657_g.add(this.field_180367_c.offsetNorth());
+                    this.field_150657_g.add(this.field_180367_c.east());
+                    this.field_150657_g.add(this.field_180367_c.north());
             }
         }
 
@@ -342,7 +342,7 @@ public abstract class BlockRailBase extends Block
 
         private boolean func_180359_a(BlockPos p_180359_1_)
         {
-            return BlockRailBase.func_176562_d(this.field_150660_b, p_180359_1_) || BlockRailBase.func_176562_d(this.field_150660_b, p_180359_1_.offsetUp()) || BlockRailBase.func_176562_d(this.field_150660_b, p_180359_1_.offsetDown());
+            return BlockRailBase.func_176562_d(this.field_150660_b, p_180359_1_) || BlockRailBase.func_176562_d(this.field_150660_b, p_180359_1_.up()) || BlockRailBase.func_176562_d(this.field_150660_b, p_180359_1_.down());
         }
 
         private BlockRailBase.Rail func_180697_b(BlockPos p_180697_1_)
@@ -355,7 +355,7 @@ public abstract class BlockRailBase extends Block
             }
             else
             {
-                BlockPos var2 = p_180697_1_.offsetUp();
+                BlockPos var2 = p_180697_1_.up();
                 var3 = this.field_150660_b.getBlockState(var2);
 
                 if (BlockRailBase.func_176563_d(var3))
@@ -364,7 +364,7 @@ public abstract class BlockRailBase extends Block
                 }
                 else
                 {
-                    var2 = p_180697_1_.offsetDown();
+                    var2 = p_180697_1_.down();
                     var3 = this.field_150660_b.getBlockState(var2);
                     return BlockRailBase.func_176563_d(var3) ? BlockRailBase.this.new Rail(this.field_150660_b, var2, var3) : null;
                 }
@@ -417,10 +417,10 @@ public abstract class BlockRailBase extends Block
         private void func_150645_c(BlockRailBase.Rail p_150645_1_)
         {
             this.field_150657_g.add(p_150645_1_.field_180367_c);
-            BlockPos var2 = this.field_180367_c.offsetNorth();
-            BlockPos var3 = this.field_180367_c.offsetSouth();
-            BlockPos var4 = this.field_180367_c.offsetWest();
-            BlockPos var5 = this.field_180367_c.offsetEast();
+            BlockPos var2 = this.field_180367_c.north();
+            BlockPos var3 = this.field_180367_c.south();
+            BlockPos var4 = this.field_180367_c.west();
+            BlockPos var5 = this.field_180367_c.east();
             boolean var6 = this.func_180363_c(var2);
             boolean var7 = this.func_180363_c(var3);
             boolean var8 = this.func_180363_c(var4);
@@ -462,12 +462,12 @@ public abstract class BlockRailBase extends Block
 
             if (var10 == BlockRailBase.EnumRailDirection.NORTH_SOUTH)
             {
-                if (BlockRailBase.func_176562_d(this.field_150660_b, var2.offsetUp()))
+                if (BlockRailBase.func_176562_d(this.field_150660_b, var2.up()))
                 {
                     var10 = BlockRailBase.EnumRailDirection.ASCENDING_NORTH;
                 }
 
-                if (BlockRailBase.func_176562_d(this.field_150660_b, var3.offsetUp()))
+                if (BlockRailBase.func_176562_d(this.field_150660_b, var3.up()))
                 {
                     var10 = BlockRailBase.EnumRailDirection.ASCENDING_SOUTH;
                 }
@@ -475,12 +475,12 @@ public abstract class BlockRailBase extends Block
 
             if (var10 == BlockRailBase.EnumRailDirection.EAST_WEST)
             {
-                if (BlockRailBase.func_176562_d(this.field_150660_b, var5.offsetUp()))
+                if (BlockRailBase.func_176562_d(this.field_150660_b, var5.up()))
                 {
                     var10 = BlockRailBase.EnumRailDirection.ASCENDING_EAST;
                 }
 
-                if (BlockRailBase.func_176562_d(this.field_150660_b, var4.offsetUp()))
+                if (BlockRailBase.func_176562_d(this.field_150660_b, var4.up()))
                 {
                     var10 = BlockRailBase.EnumRailDirection.ASCENDING_WEST;
                 }
@@ -512,10 +512,10 @@ public abstract class BlockRailBase extends Block
 
         public BlockRailBase.Rail func_180364_a(boolean p_180364_1_, boolean p_180364_2_)
         {
-            BlockPos var3 = this.field_180367_c.offsetNorth();
-            BlockPos var4 = this.field_180367_c.offsetSouth();
-            BlockPos var5 = this.field_180367_c.offsetWest();
-            BlockPos var6 = this.field_180367_c.offsetEast();
+            BlockPos var3 = this.field_180367_c.north();
+            BlockPos var4 = this.field_180367_c.south();
+            BlockPos var5 = this.field_180367_c.west();
+            BlockPos var6 = this.field_180367_c.east();
             boolean var7 = this.func_180361_d(var3);
             boolean var8 = this.func_180361_d(var4);
             boolean var9 = this.func_180361_d(var5);
@@ -618,12 +618,12 @@ public abstract class BlockRailBase extends Block
 
             if (var11 == BlockRailBase.EnumRailDirection.NORTH_SOUTH)
             {
-                if (BlockRailBase.func_176562_d(this.field_150660_b, var3.offsetUp()))
+                if (BlockRailBase.func_176562_d(this.field_150660_b, var3.up()))
                 {
                     var11 = BlockRailBase.EnumRailDirection.ASCENDING_NORTH;
                 }
 
-                if (BlockRailBase.func_176562_d(this.field_150660_b, var4.offsetUp()))
+                if (BlockRailBase.func_176562_d(this.field_150660_b, var4.up()))
                 {
                     var11 = BlockRailBase.EnumRailDirection.ASCENDING_SOUTH;
                 }
@@ -631,12 +631,12 @@ public abstract class BlockRailBase extends Block
 
             if (var11 == BlockRailBase.EnumRailDirection.EAST_WEST)
             {
-                if (BlockRailBase.func_176562_d(this.field_150660_b, var6.offsetUp()))
+                if (BlockRailBase.func_176562_d(this.field_150660_b, var6.up()))
                 {
                     var11 = BlockRailBase.EnumRailDirection.ASCENDING_EAST;
                 }
 
-                if (BlockRailBase.func_176562_d(this.field_150660_b, var5.offsetUp()))
+                if (BlockRailBase.func_176562_d(this.field_150660_b, var5.up()))
                 {
                     var11 = BlockRailBase.EnumRailDirection.ASCENDING_WEST;
                 }
diff --git a/net/minecraft/block/BlockRailDetector.java b/net/minecraft/block/BlockRailDetector.java
index 5367328..0828a60 100644
--- a/net/minecraft/block/BlockRailDetector.java
+++ b/net/minecraft/block/BlockRailDetector.java
@@ -112,7 +112,7 @@ public class BlockRailDetector extends BlockRailBase
         {
             worldIn.setBlockState(p_176570_2_, p_176570_3_.withProperty(field_176574_M, Boolean.valueOf(true)), 3);
             worldIn.notifyNeighborsOfStateChange(p_176570_2_, this);
-            worldIn.notifyNeighborsOfStateChange(p_176570_2_.offsetDown(), this);
+            worldIn.notifyNeighborsOfStateChange(p_176570_2_.down(), this);
             worldIn.markBlockRangeForRenderUpdate(p_176570_2_, p_176570_2_);
         }
 
@@ -120,7 +120,7 @@ public class BlockRailDetector extends BlockRailBase
         {
             worldIn.setBlockState(p_176570_2_, p_176570_3_.withProperty(field_176574_M, Boolean.valueOf(false)), 3);
             worldIn.notifyNeighborsOfStateChange(p_176570_2_, this);
-            worldIn.notifyNeighborsOfStateChange(p_176570_2_.offsetDown(), this);
+            worldIn.notifyNeighborsOfStateChange(p_176570_2_.down(), this);
             worldIn.markBlockRangeForRenderUpdate(p_176570_2_, p_176570_2_);
         }
 
diff --git a/net/minecraft/block/BlockRailPowered.java b/net/minecraft/block/BlockRailPowered.java
index fd0f0f4..cd4731d 100644
--- a/net/minecraft/block/BlockRailPowered.java
+++ b/net/minecraft/block/BlockRailPowered.java
@@ -159,11 +159,11 @@ public class BlockRailPowered extends BlockRailBase
         if (var6 != var5)
         {
             worldIn.setBlockState(p_176561_2_, p_176561_3_.withProperty(field_176569_M, Boolean.valueOf(var6)), 3);
-            worldIn.notifyNeighborsOfStateChange(p_176561_2_.offsetDown(), this);
+            worldIn.notifyNeighborsOfStateChange(p_176561_2_.down(), this);
 
             if (((BlockRailBase.EnumRailDirection)p_176561_3_.getValue(field_176568_b)).func_177018_c())
             {
-                worldIn.notifyNeighborsOfStateChange(p_176561_2_.offsetUp(), this);
+                worldIn.notifyNeighborsOfStateChange(p_176561_2_.up(), this);
             }
         }
     }
diff --git a/net/minecraft/block/BlockRedstoneDiode.java b/net/minecraft/block/BlockRedstoneDiode.java
index b3d1bef..ac7969d 100644
--- a/net/minecraft/block/BlockRedstoneDiode.java
+++ b/net/minecraft/block/BlockRedstoneDiode.java
@@ -32,12 +32,12 @@ public abstract class BlockRedstoneDiode extends BlockDirectional
 
     public boolean canPlaceBlockAt(World worldIn, BlockPos pos)
     {
-        return World.doesBlockHaveSolidTopSurface(worldIn, pos.offsetDown()) ? super.canPlaceBlockAt(worldIn, pos) : false;
+        return World.doesBlockHaveSolidTopSurface(worldIn, pos.down()) ? super.canPlaceBlockAt(worldIn, pos) : false;
     }
 
     public boolean func_176409_d(World worldIn, BlockPos p_176409_2_)
     {
-        return World.doesBlockHaveSolidTopSurface(worldIn, p_176409_2_.offsetDown());
+        return World.doesBlockHaveSolidTopSurface(worldIn, p_176409_2_.down());
     }
 
     /**
diff --git a/net/minecraft/block/BlockRedstoneOre.java b/net/minecraft/block/BlockRedstoneOre.java
index 3af9207..027973b 100644
--- a/net/minecraft/block/BlockRedstoneOre.java
+++ b/net/minecraft/block/BlockRedstoneOre.java
@@ -140,32 +140,32 @@ public class BlockRedstoneOre extends Block
             double var9 = (double)((float)p_180691_2_.getY() + var3.nextFloat());
             double var11 = (double)((float)p_180691_2_.getZ() + var3.nextFloat());
 
-            if (var6 == 0 && !worldIn.getBlockState(p_180691_2_.offsetUp()).getBlock().isOpaqueCube())
+            if (var6 == 0 && !worldIn.getBlockState(p_180691_2_.up()).getBlock().isOpaqueCube())
             {
                 var9 = (double)p_180691_2_.getY() + var4 + 1.0D;
             }
 
-            if (var6 == 1 && !worldIn.getBlockState(p_180691_2_.offsetDown()).getBlock().isOpaqueCube())
+            if (var6 == 1 && !worldIn.getBlockState(p_180691_2_.down()).getBlock().isOpaqueCube())
             {
                 var9 = (double)p_180691_2_.getY() - var4;
             }
 
-            if (var6 == 2 && !worldIn.getBlockState(p_180691_2_.offsetSouth()).getBlock().isOpaqueCube())
+            if (var6 == 2 && !worldIn.getBlockState(p_180691_2_.south()).getBlock().isOpaqueCube())
             {
                 var11 = (double)p_180691_2_.getZ() + var4 + 1.0D;
             }
 
-            if (var6 == 3 && !worldIn.getBlockState(p_180691_2_.offsetNorth()).getBlock().isOpaqueCube())
+            if (var6 == 3 && !worldIn.getBlockState(p_180691_2_.north()).getBlock().isOpaqueCube())
             {
                 var11 = (double)p_180691_2_.getZ() - var4;
             }
 
-            if (var6 == 4 && !worldIn.getBlockState(p_180691_2_.offsetEast()).getBlock().isOpaqueCube())
+            if (var6 == 4 && !worldIn.getBlockState(p_180691_2_.east()).getBlock().isOpaqueCube())
             {
                 var7 = (double)p_180691_2_.getX() + var4 + 1.0D;
             }
 
-            if (var6 == 5 && !worldIn.getBlockState(p_180691_2_.offsetWest()).getBlock().isOpaqueCube())
+            if (var6 == 5 && !worldIn.getBlockState(p_180691_2_.west()).getBlock().isOpaqueCube())
             {
                 var7 = (double)p_180691_2_.getX() - var4;
             }
diff --git a/net/minecraft/block/BlockRedstoneWire.java b/net/minecraft/block/BlockRedstoneWire.java
index 37ef8f7..56ec88e 100644
--- a/net/minecraft/block/BlockRedstoneWire.java
+++ b/net/minecraft/block/BlockRedstoneWire.java
@@ -62,10 +62,10 @@ public class BlockRedstoneWire extends Block
         BlockPos var4 = p_176341_2_.offset(p_176341_3_);
         Block var5 = p_176341_1_.getBlockState(p_176341_2_.offset(p_176341_3_)).getBlock();
 
-        if (!func_176343_a(p_176341_1_.getBlockState(var4), p_176341_3_) && (var5.isSolidFullCube() || !func_176346_d(p_176341_1_.getBlockState(var4.offsetDown()))))
+        if (!func_176343_a(p_176341_1_.getBlockState(var4), p_176341_3_) && (var5.isSolidFullCube() || !func_176346_d(p_176341_1_.getBlockState(var4.down()))))
         {
-            Block var6 = p_176341_1_.getBlockState(p_176341_2_.offsetUp()).getBlock();
-            return !var6.isSolidFullCube() && var5.isSolidFullCube() && func_176346_d(p_176341_1_.getBlockState(var4.offsetUp())) ? BlockRedstoneWire.EnumAttachPosition.UP : BlockRedstoneWire.EnumAttachPosition.NONE;
+            Block var6 = p_176341_1_.getBlockState(p_176341_2_.up()).getBlock();
+            return !var6.isSolidFullCube() && var5.isSolidFullCube() && func_176346_d(p_176341_1_.getBlockState(var4.up())) ? BlockRedstoneWire.EnumAttachPosition.UP : BlockRedstoneWire.EnumAttachPosition.NONE;
         }
         else
         {
@@ -96,7 +96,7 @@ public class BlockRedstoneWire extends Block
 
     public boolean canPlaceBlockAt(World worldIn, BlockPos pos)
     {
-        return World.doesBlockHaveSolidTopSurface(worldIn, pos.offsetDown()) || worldIn.getBlockState(pos.offsetDown()).getBlock() == Blocks.glowstone;
+        return World.doesBlockHaveSolidTopSurface(worldIn, pos.down()) || worldIn.getBlockState(pos.down()).getBlock() == Blocks.glowstone;
     }
 
     private IBlockState updateSurroundingRedstone(World worldIn, BlockPos p_176338_2_, IBlockState p_176338_3_)
@@ -144,16 +144,16 @@ public class BlockRedstoneWire extends Block
                 var9 = this.func_176342_a(worldIn, var12, var9);
             }
 
-            if (worldIn.getBlockState(var12).getBlock().isNormalCube() && !worldIn.getBlockState(p_176345_2_.offsetUp()).getBlock().isNormalCube())
+            if (worldIn.getBlockState(var12).getBlock().isNormalCube() && !worldIn.getBlockState(p_176345_2_.up()).getBlock().isNormalCube())
             {
                 if (var13 && p_176345_2_.getY() >= p_176345_3_.getY())
                 {
-                    var9 = this.func_176342_a(worldIn, var12.offsetUp(), var9);
+                    var9 = this.func_176342_a(worldIn, var12.up(), var9);
                 }
             }
             else if (!worldIn.getBlockState(var12).getBlock().isNormalCube() && var13 && p_176345_2_.getY() <= p_176345_3_.getY())
             {
-                var9 = this.func_176342_a(worldIn, var12.offsetDown(), var9);
+                var9 = this.func_176342_a(worldIn, var12.down(), var9);
             }
         }
 
@@ -245,11 +245,11 @@ public class BlockRedstoneWire extends Block
 
                 if (worldIn.getBlockState(var6).getBlock().isNormalCube())
                 {
-                    this.func_176344_d(worldIn, var6.offsetUp());
+                    this.func_176344_d(worldIn, var6.up());
                 }
                 else
                 {
-                    this.func_176344_d(worldIn, var6.offsetDown());
+                    this.func_176344_d(worldIn, var6.down());
                 }
             }
         }
@@ -289,11 +289,11 @@ public class BlockRedstoneWire extends Block
 
                 if (worldIn.getBlockState(var10).getBlock().isNormalCube())
                 {
-                    this.func_176344_d(worldIn, var10.offsetUp());
+                    this.func_176344_d(worldIn, var10.up());
                 }
                 else
                 {
-                    this.func_176344_d(worldIn, var10.offsetDown());
+                    this.func_176344_d(worldIn, var10.down());
                 }
             }
         }
@@ -398,8 +398,8 @@ public class BlockRedstoneWire extends Block
         IBlockState var5 = p_176339_1_.getBlockState(var4);
         Block var6 = var5.getBlock();
         boolean var7 = var6.isNormalCube();
-        boolean var8 = p_176339_1_.getBlockState(p_176339_2_.offsetUp()).getBlock().isNormalCube();
-        return !var8 && var7 && func_176340_e(p_176339_1_, var4.offsetUp()) ? true : (func_176343_a(var5, p_176339_3_) ? true : (var6 == Blocks.powered_repeater && var5.getValue(BlockRedstoneDiode.AGE) == p_176339_3_ ? true : !var7 && func_176340_e(p_176339_1_, var4.offsetDown())));
+        boolean var8 = p_176339_1_.getBlockState(p_176339_2_.up()).getBlock().isNormalCube();
+        return !var8 && var7 && func_176340_e(p_176339_1_, var4.up()) ? true : (func_176343_a(var5, p_176339_3_) ? true : (var6 == Blocks.powered_repeater && var5.getValue(BlockRedstoneDiode.AGE) == p_176339_3_ ? true : !var7 && func_176340_e(p_176339_1_, var4.down())));
     }
 
     protected static boolean func_176340_e(IBlockAccess p_176340_0_, BlockPos p_176340_1_)
diff --git a/net/minecraft/block/BlockReed.java b/net/minecraft/block/BlockReed.java
index 9abbba2..41bd478 100644
--- a/net/minecraft/block/BlockReed.java
+++ b/net/minecraft/block/BlockReed.java
@@ -33,13 +33,13 @@ public class BlockReed extends Block
 
     public void updateTick(World worldIn, BlockPos pos, IBlockState state, Random rand)
     {
-        if (worldIn.getBlockState(pos.offsetDown()).getBlock() == Blocks.reeds || this.func_176353_e(worldIn, pos, state))
+        if (worldIn.getBlockState(pos.down()).getBlock() == Blocks.reeds || this.func_176353_e(worldIn, pos, state))
         {
-            if (worldIn.isAirBlock(pos.offsetUp()))
+            if (worldIn.isAirBlock(pos.up()))
             {
                 int var5;
 
-                for (var5 = 1; worldIn.getBlockState(pos.offsetDown(var5)).getBlock() == this; ++var5)
+                for (var5 = 1; worldIn.getBlockState(pos.down(var5)).getBlock() == this; ++var5)
                 {
                     ;
                 }
@@ -50,7 +50,7 @@ public class BlockReed extends Block
 
                     if (var6 == 15)
                     {
-                        worldIn.setBlockState(pos.offsetUp(), this.getDefaultState());
+                        worldIn.setBlockState(pos.up(), this.getDefaultState());
                         worldIn.setBlockState(pos, state.withProperty(field_176355_a, Integer.valueOf(0)), 4);
                     }
                     else
@@ -64,7 +64,7 @@ public class BlockReed extends Block
 
     public boolean canPlaceBlockAt(World worldIn, BlockPos pos)
     {
-        Block var3 = worldIn.getBlockState(pos.offsetDown()).getBlock();
+        Block var3 = worldIn.getBlockState(pos.down()).getBlock();
 
         if (var3 == this)
         {
@@ -88,7 +88,7 @@ public class BlockReed extends Block
 
                 var5 = (EnumFacing)var4.next();
             }
-            while (worldIn.getBlockState(pos.offset(var5).offsetDown()).getBlock().getMaterial() != Material.water);
+            while (worldIn.getBlockState(pos.offset(var5).down()).getBlock().getMaterial() != Material.water);
 
             return true;
         }
diff --git a/net/minecraft/block/BlockSapling.java b/net/minecraft/block/BlockSapling.java
index cba1d61..fb8e3ed 100644
--- a/net/minecraft/block/BlockSapling.java
+++ b/net/minecraft/block/BlockSapling.java
@@ -43,7 +43,7 @@ public class BlockSapling extends BlockBush implements IGrowable
         {
             super.updateTick(worldIn, pos, state, rand);
 
-            if (worldIn.getLightFromNeighbors(pos.offsetUp()) >= 9 && rand.nextInt(7) == 0)
+            if (worldIn.getLightFromNeighbors(pos.up()) >= 9 && rand.nextInt(7) == 0)
             {
                 this.func_176478_d(worldIn, pos, state, rand);
             }
diff --git a/net/minecraft/block/BlockSlab.java b/net/minecraft/block/BlockSlab.java
index 5f3a260..d573269 100644
--- a/net/minecraft/block/BlockSlab.java
+++ b/net/minecraft/block/BlockSlab.java
@@ -2,6 +2,7 @@ package net.minecraft.block;
 
 import java.util.List;
 import java.util.Random;
+
 import net.minecraft.block.material.Material;
 import net.minecraft.block.properties.IProperty;
 import net.minecraft.block.properties.PropertyEnum;
@@ -16,6 +17,8 @@ import net.minecraft.util.EnumFacing;
 import net.minecraft.util.IStringSerializable;
 import net.minecraft.world.IBlockAccess;
 import net.minecraft.world.World;
+import tk.wurst_client.WurstClient;
+import tk.wurst_client.features.mods.FreecamMod;
 
 public abstract class BlockSlab extends Block
 {
@@ -114,7 +117,9 @@ public abstract class BlockSlab extends Block
 
     public boolean isFullCube()
     {
-        return this.isDouble();
+		// TODO: Client
+		return this.isDouble()
+			&& !WurstClient.INSTANCE.mods.freecamMod.isActive();
     }
 
     public boolean shouldSideBeRendered(IBlockAccess worldIn, BlockPos pos, EnumFacing side)
diff --git a/net/minecraft/block/BlockSnow.java b/net/minecraft/block/BlockSnow.java
index 310a569..6badaac 100644
--- a/net/minecraft/block/BlockSnow.java
+++ b/net/minecraft/block/BlockSnow.java
@@ -79,7 +79,7 @@ public class BlockSnow extends Block
 
     public boolean canPlaceBlockAt(World worldIn, BlockPos pos)
     {
-        IBlockState var3 = worldIn.getBlockState(pos.offsetDown());
+        IBlockState var3 = worldIn.getBlockState(pos.down());
         Block var4 = var3.getBlock();
         return var4 != Blocks.ice && var4 != Blocks.packed_ice ? (var4.getMaterial() == Material.leaves ? true : (var4 == this && ((Integer)var3.getValue(LAYERS_PROP)).intValue() == 7 ? true : var4.isOpaqueCube() && var4.blockMaterial.blocksMovement())) : false;
     }
diff --git a/net/minecraft/block/BlockSoulSand.java b/net/minecraft/block/BlockSoulSand.java
index 973d27c..514d455 100644
--- a/net/minecraft/block/BlockSoulSand.java
+++ b/net/minecraft/block/BlockSoulSand.java
@@ -1,5 +1,7 @@
 package net.minecraft.block;
 
+import tk.wurst_client.WurstClient;
+import tk.wurst_client.features.mods.NoSlowdownMod;
 import net.minecraft.block.material.Material;
 import net.minecraft.block.state.IBlockState;
 import net.minecraft.creativetab.CreativeTabs;
@@ -29,6 +31,10 @@ public class BlockSoulSand extends Block
      */
     public void onEntityCollidedWithBlock(World worldIn, BlockPos pos, IBlockState state, Entity entityIn)
     {
+		// TODO: Client
+		if(WurstClient.INSTANCE.mods.noSlowdownMod.isActive())
+			return;
+    	
         entityIn.motionX *= 0.4D;
         entityIn.motionZ *= 0.4D;
     }
diff --git a/net/minecraft/block/BlockStairs.java b/net/minecraft/block/BlockStairs.java
index 18e2e54..3c61eaf 100644
--- a/net/minecraft/block/BlockStairs.java
+++ b/net/minecraft/block/BlockStairs.java
@@ -117,19 +117,19 @@ public class BlockStairs extends Block
 
         if (var4 == EnumFacing.EAST)
         {
-            var7 = p_176307_1_.getBlockState(p_176307_2_.offsetEast());
+            var7 = p_176307_1_.getBlockState(p_176307_2_.east());
             var8 = var7.getBlock();
 
             if (isBlockStairs(var8) && var5 == var7.getValue(HALF))
             {
                 var9 = (EnumFacing)var7.getValue(FACING);
 
-                if (var9 == EnumFacing.NORTH && !isSameStair(p_176307_1_, p_176307_2_.offsetSouth(), var3))
+                if (var9 == EnumFacing.NORTH && !isSameStair(p_176307_1_, p_176307_2_.south(), var3))
                 {
                     return var6 ? 1 : 2;
                 }
 
-                if (var9 == EnumFacing.SOUTH && !isSameStair(p_176307_1_, p_176307_2_.offsetNorth(), var3))
+                if (var9 == EnumFacing.SOUTH && !isSameStair(p_176307_1_, p_176307_2_.north(), var3))
                 {
                     return var6 ? 2 : 1;
                 }
@@ -137,19 +137,19 @@ public class BlockStairs extends Block
         }
         else if (var4 == EnumFacing.WEST)
         {
-            var7 = p_176307_1_.getBlockState(p_176307_2_.offsetWest());
+            var7 = p_176307_1_.getBlockState(p_176307_2_.west());
             var8 = var7.getBlock();
 
             if (isBlockStairs(var8) && var5 == var7.getValue(HALF))
             {
                 var9 = (EnumFacing)var7.getValue(FACING);
 
-                if (var9 == EnumFacing.NORTH && !isSameStair(p_176307_1_, p_176307_2_.offsetSouth(), var3))
+                if (var9 == EnumFacing.NORTH && !isSameStair(p_176307_1_, p_176307_2_.south(), var3))
                 {
                     return var6 ? 2 : 1;
                 }
 
-                if (var9 == EnumFacing.SOUTH && !isSameStair(p_176307_1_, p_176307_2_.offsetNorth(), var3))
+                if (var9 == EnumFacing.SOUTH && !isSameStair(p_176307_1_, p_176307_2_.north(), var3))
                 {
                     return var6 ? 1 : 2;
                 }
@@ -157,19 +157,19 @@ public class BlockStairs extends Block
         }
         else if (var4 == EnumFacing.SOUTH)
         {
-            var7 = p_176307_1_.getBlockState(p_176307_2_.offsetSouth());
+            var7 = p_176307_1_.getBlockState(p_176307_2_.south());
             var8 = var7.getBlock();
 
             if (isBlockStairs(var8) && var5 == var7.getValue(HALF))
             {
                 var9 = (EnumFacing)var7.getValue(FACING);
 
-                if (var9 == EnumFacing.WEST && !isSameStair(p_176307_1_, p_176307_2_.offsetEast(), var3))
+                if (var9 == EnumFacing.WEST && !isSameStair(p_176307_1_, p_176307_2_.east(), var3))
                 {
                     return var6 ? 2 : 1;
                 }
 
-                if (var9 == EnumFacing.EAST && !isSameStair(p_176307_1_, p_176307_2_.offsetWest(), var3))
+                if (var9 == EnumFacing.EAST && !isSameStair(p_176307_1_, p_176307_2_.west(), var3))
                 {
                     return var6 ? 1 : 2;
                 }
@@ -177,19 +177,19 @@ public class BlockStairs extends Block
         }
         else if (var4 == EnumFacing.NORTH)
         {
-            var7 = p_176307_1_.getBlockState(p_176307_2_.offsetNorth());
+            var7 = p_176307_1_.getBlockState(p_176307_2_.north());
             var8 = var7.getBlock();
 
             if (isBlockStairs(var8) && var5 == var7.getValue(HALF))
             {
                 var9 = (EnumFacing)var7.getValue(FACING);
 
-                if (var9 == EnumFacing.WEST && !isSameStair(p_176307_1_, p_176307_2_.offsetEast(), var3))
+                if (var9 == EnumFacing.WEST && !isSameStair(p_176307_1_, p_176307_2_.east(), var3))
                 {
                     return var6 ? 1 : 2;
                 }
 
-                if (var9 == EnumFacing.EAST && !isSameStair(p_176307_1_, p_176307_2_.offsetWest(), var3))
+                if (var9 == EnumFacing.EAST && !isSameStair(p_176307_1_, p_176307_2_.west(), var3))
                 {
                     return var6 ? 2 : 1;
                 }
@@ -211,19 +211,19 @@ public class BlockStairs extends Block
 
         if (var4 == EnumFacing.EAST)
         {
-            var7 = p_176305_1_.getBlockState(p_176305_2_.offsetWest());
+            var7 = p_176305_1_.getBlockState(p_176305_2_.west());
             var8 = var7.getBlock();
 
             if (isBlockStairs(var8) && var5 == var7.getValue(HALF))
             {
                 var9 = (EnumFacing)var7.getValue(FACING);
 
-                if (var9 == EnumFacing.NORTH && !isSameStair(p_176305_1_, p_176305_2_.offsetNorth(), var3))
+                if (var9 == EnumFacing.NORTH && !isSameStair(p_176305_1_, p_176305_2_.north(), var3))
                 {
                     return var6 ? 1 : 2;
                 }
 
-                if (var9 == EnumFacing.SOUTH && !isSameStair(p_176305_1_, p_176305_2_.offsetSouth(), var3))
+                if (var9 == EnumFacing.SOUTH && !isSameStair(p_176305_1_, p_176305_2_.south(), var3))
                 {
                     return var6 ? 2 : 1;
                 }
@@ -231,19 +231,19 @@ public class BlockStairs extends Block
         }
         else if (var4 == EnumFacing.WEST)
         {
-            var7 = p_176305_1_.getBlockState(p_176305_2_.offsetEast());
+            var7 = p_176305_1_.getBlockState(p_176305_2_.east());
             var8 = var7.getBlock();
 
             if (isBlockStairs(var8) && var5 == var7.getValue(HALF))
             {
                 var9 = (EnumFacing)var7.getValue(FACING);
 
-                if (var9 == EnumFacing.NORTH && !isSameStair(p_176305_1_, p_176305_2_.offsetNorth(), var3))
+                if (var9 == EnumFacing.NORTH && !isSameStair(p_176305_1_, p_176305_2_.north(), var3))
                 {
                     return var6 ? 2 : 1;
                 }
 
-                if (var9 == EnumFacing.SOUTH && !isSameStair(p_176305_1_, p_176305_2_.offsetSouth(), var3))
+                if (var9 == EnumFacing.SOUTH && !isSameStair(p_176305_1_, p_176305_2_.south(), var3))
                 {
                     return var6 ? 1 : 2;
                 }
@@ -251,19 +251,19 @@ public class BlockStairs extends Block
         }
         else if (var4 == EnumFacing.SOUTH)
         {
-            var7 = p_176305_1_.getBlockState(p_176305_2_.offsetNorth());
+            var7 = p_176305_1_.getBlockState(p_176305_2_.north());
             var8 = var7.getBlock();
 
             if (isBlockStairs(var8) && var5 == var7.getValue(HALF))
             {
                 var9 = (EnumFacing)var7.getValue(FACING);
 
-                if (var9 == EnumFacing.WEST && !isSameStair(p_176305_1_, p_176305_2_.offsetWest(), var3))
+                if (var9 == EnumFacing.WEST && !isSameStair(p_176305_1_, p_176305_2_.west(), var3))
                 {
                     return var6 ? 2 : 1;
                 }
 
-                if (var9 == EnumFacing.EAST && !isSameStair(p_176305_1_, p_176305_2_.offsetEast(), var3))
+                if (var9 == EnumFacing.EAST && !isSameStair(p_176305_1_, p_176305_2_.east(), var3))
                 {
                     return var6 ? 1 : 2;
                 }
@@ -271,19 +271,19 @@ public class BlockStairs extends Block
         }
         else if (var4 == EnumFacing.NORTH)
         {
-            var7 = p_176305_1_.getBlockState(p_176305_2_.offsetSouth());
+            var7 = p_176305_1_.getBlockState(p_176305_2_.south());
             var8 = var7.getBlock();
 
             if (isBlockStairs(var8) && var5 == var7.getValue(HALF))
             {
                 var9 = (EnumFacing)var7.getValue(FACING);
 
-                if (var9 == EnumFacing.WEST && !isSameStair(p_176305_1_, p_176305_2_.offsetWest(), var3))
+                if (var9 == EnumFacing.WEST && !isSameStair(p_176305_1_, p_176305_2_.west(), var3))
                 {
                     return var6 ? 1 : 2;
                 }
 
-                if (var9 == EnumFacing.EAST && !isSameStair(p_176305_1_, p_176305_2_.offsetEast(), var3))
+                if (var9 == EnumFacing.EAST && !isSameStair(p_176305_1_, p_176305_2_.east(), var3))
                 {
                     return var6 ? 2 : 1;
                 }
@@ -321,19 +321,19 @@ public class BlockStairs extends Block
         {
             var9 = 0.5F;
             var12 = 1.0F;
-            var14 = p_176306_1_.getBlockState(p_176306_2_.offsetEast());
+            var14 = p_176306_1_.getBlockState(p_176306_2_.east());
             var15 = var14.getBlock();
 
             if (isBlockStairs(var15) && var5 == var14.getValue(HALF))
             {
                 var16 = (EnumFacing)var14.getValue(FACING);
 
-                if (var16 == EnumFacing.NORTH && !isSameStair(p_176306_1_, p_176306_2_.offsetSouth(), var3))
+                if (var16 == EnumFacing.NORTH && !isSameStair(p_176306_1_, p_176306_2_.south(), var3))
                 {
                     var12 = 0.5F;
                     var13 = false;
                 }
-                else if (var16 == EnumFacing.SOUTH && !isSameStair(p_176306_1_, p_176306_2_.offsetNorth(), var3))
+                else if (var16 == EnumFacing.SOUTH && !isSameStair(p_176306_1_, p_176306_2_.north(), var3))
                 {
                     var11 = 0.5F;
                     var13 = false;
@@ -344,19 +344,19 @@ public class BlockStairs extends Block
         {
             var10 = 0.5F;
             var12 = 1.0F;
-            var14 = p_176306_1_.getBlockState(p_176306_2_.offsetWest());
+            var14 = p_176306_1_.getBlockState(p_176306_2_.west());
             var15 = var14.getBlock();
 
             if (isBlockStairs(var15) && var5 == var14.getValue(HALF))
             {
                 var16 = (EnumFacing)var14.getValue(FACING);
 
-                if (var16 == EnumFacing.NORTH && !isSameStair(p_176306_1_, p_176306_2_.offsetSouth(), var3))
+                if (var16 == EnumFacing.NORTH && !isSameStair(p_176306_1_, p_176306_2_.south(), var3))
                 {
                     var12 = 0.5F;
                     var13 = false;
                 }
-                else if (var16 == EnumFacing.SOUTH && !isSameStair(p_176306_1_, p_176306_2_.offsetNorth(), var3))
+                else if (var16 == EnumFacing.SOUTH && !isSameStair(p_176306_1_, p_176306_2_.north(), var3))
                 {
                     var11 = 0.5F;
                     var13 = false;
@@ -367,19 +367,19 @@ public class BlockStairs extends Block
         {
             var11 = 0.5F;
             var12 = 1.0F;
-            var14 = p_176306_1_.getBlockState(p_176306_2_.offsetSouth());
+            var14 = p_176306_1_.getBlockState(p_176306_2_.south());
             var15 = var14.getBlock();
 
             if (isBlockStairs(var15) && var5 == var14.getValue(HALF))
             {
                 var16 = (EnumFacing)var14.getValue(FACING);
 
-                if (var16 == EnumFacing.WEST && !isSameStair(p_176306_1_, p_176306_2_.offsetEast(), var3))
+                if (var16 == EnumFacing.WEST && !isSameStair(p_176306_1_, p_176306_2_.east(), var3))
                 {
                     var10 = 0.5F;
                     var13 = false;
                 }
-                else if (var16 == EnumFacing.EAST && !isSameStair(p_176306_1_, p_176306_2_.offsetWest(), var3))
+                else if (var16 == EnumFacing.EAST && !isSameStair(p_176306_1_, p_176306_2_.west(), var3))
                 {
                     var9 = 0.5F;
                     var13 = false;
@@ -388,19 +388,19 @@ public class BlockStairs extends Block
         }
         else if (var4 == EnumFacing.NORTH)
         {
-            var14 = p_176306_1_.getBlockState(p_176306_2_.offsetNorth());
+            var14 = p_176306_1_.getBlockState(p_176306_2_.north());
             var15 = var14.getBlock();
 
             if (isBlockStairs(var15) && var5 == var14.getValue(HALF))
             {
                 var16 = (EnumFacing)var14.getValue(FACING);
 
-                if (var16 == EnumFacing.WEST && !isSameStair(p_176306_1_, p_176306_2_.offsetEast(), var3))
+                if (var16 == EnumFacing.WEST && !isSameStair(p_176306_1_, p_176306_2_.east(), var3))
                 {
                     var10 = 0.5F;
                     var13 = false;
                 }
-                else if (var16 == EnumFacing.EAST && !isSameStair(p_176306_1_, p_176306_2_.offsetWest(), var3))
+                else if (var16 == EnumFacing.EAST && !isSameStair(p_176306_1_, p_176306_2_.west(), var3))
                 {
                     var9 = 0.5F;
                     var13 = false;
@@ -438,20 +438,20 @@ public class BlockStairs extends Block
 
         if (var4 == EnumFacing.EAST)
         {
-            var14 = p_176304_1_.getBlockState(p_176304_2_.offsetWest());
+            var14 = p_176304_1_.getBlockState(p_176304_2_.west());
             var15 = var14.getBlock();
 
             if (isBlockStairs(var15) && var5 == var14.getValue(HALF))
             {
                 var16 = (EnumFacing)var14.getValue(FACING);
 
-                if (var16 == EnumFacing.NORTH && !isSameStair(p_176304_1_, p_176304_2_.offsetNorth(), var3))
+                if (var16 == EnumFacing.NORTH && !isSameStair(p_176304_1_, p_176304_2_.north(), var3))
                 {
                     var11 = 0.0F;
                     var12 = 0.5F;
                     var13 = true;
                 }
-                else if (var16 == EnumFacing.SOUTH && !isSameStair(p_176304_1_, p_176304_2_.offsetSouth(), var3))
+                else if (var16 == EnumFacing.SOUTH && !isSameStair(p_176304_1_, p_176304_2_.south(), var3))
                 {
                     var11 = 0.5F;
                     var12 = 1.0F;
@@ -461,7 +461,7 @@ public class BlockStairs extends Block
         }
         else if (var4 == EnumFacing.WEST)
         {
-            var14 = p_176304_1_.getBlockState(p_176304_2_.offsetEast());
+            var14 = p_176304_1_.getBlockState(p_176304_2_.east());
             var15 = var14.getBlock();
 
             if (isBlockStairs(var15) && var5 == var14.getValue(HALF))
@@ -470,13 +470,13 @@ public class BlockStairs extends Block
                 var10 = 1.0F;
                 var16 = (EnumFacing)var14.getValue(FACING);
 
-                if (var16 == EnumFacing.NORTH && !isSameStair(p_176304_1_, p_176304_2_.offsetNorth(), var3))
+                if (var16 == EnumFacing.NORTH && !isSameStair(p_176304_1_, p_176304_2_.north(), var3))
                 {
                     var11 = 0.0F;
                     var12 = 0.5F;
                     var13 = true;
                 }
-                else if (var16 == EnumFacing.SOUTH && !isSameStair(p_176304_1_, p_176304_2_.offsetSouth(), var3))
+                else if (var16 == EnumFacing.SOUTH && !isSameStair(p_176304_1_, p_176304_2_.south(), var3))
                 {
                     var11 = 0.5F;
                     var12 = 1.0F;
@@ -486,7 +486,7 @@ public class BlockStairs extends Block
         }
         else if (var4 == EnumFacing.SOUTH)
         {
-            var14 = p_176304_1_.getBlockState(p_176304_2_.offsetNorth());
+            var14 = p_176304_1_.getBlockState(p_176304_2_.north());
             var15 = var14.getBlock();
 
             if (isBlockStairs(var15) && var5 == var14.getValue(HALF))
@@ -495,11 +495,11 @@ public class BlockStairs extends Block
                 var12 = 0.5F;
                 var16 = (EnumFacing)var14.getValue(FACING);
 
-                if (var16 == EnumFacing.WEST && !isSameStair(p_176304_1_, p_176304_2_.offsetWest(), var3))
+                if (var16 == EnumFacing.WEST && !isSameStair(p_176304_1_, p_176304_2_.west(), var3))
                 {
                     var13 = true;
                 }
-                else if (var16 == EnumFacing.EAST && !isSameStair(p_176304_1_, p_176304_2_.offsetEast(), var3))
+                else if (var16 == EnumFacing.EAST && !isSameStair(p_176304_1_, p_176304_2_.east(), var3))
                 {
                     var9 = 0.5F;
                     var10 = 1.0F;
@@ -509,18 +509,18 @@ public class BlockStairs extends Block
         }
         else if (var4 == EnumFacing.NORTH)
         {
-            var14 = p_176304_1_.getBlockState(p_176304_2_.offsetSouth());
+            var14 = p_176304_1_.getBlockState(p_176304_2_.south());
             var15 = var14.getBlock();
 
             if (isBlockStairs(var15) && var5 == var14.getValue(HALF))
             {
                 var16 = (EnumFacing)var14.getValue(FACING);
 
-                if (var16 == EnumFacing.WEST && !isSameStair(p_176304_1_, p_176304_2_.offsetWest(), var3))
+                if (var16 == EnumFacing.WEST && !isSameStair(p_176304_1_, p_176304_2_.west(), var3))
                 {
                     var13 = true;
                 }
-                else if (var16 == EnumFacing.EAST && !isSameStair(p_176304_1_, p_176304_2_.offsetEast(), var3))
+                else if (var16 == EnumFacing.EAST && !isSameStair(p_176304_1_, p_176304_2_.east(), var3))
                 {
                     var9 = 0.5F;
                     var10 = 1.0F;
diff --git a/net/minecraft/block/BlockStandingSign.java b/net/minecraft/block/BlockStandingSign.java
index 3c2eab4..9e6bf28 100644
--- a/net/minecraft/block/BlockStandingSign.java
+++ b/net/minecraft/block/BlockStandingSign.java
@@ -19,7 +19,7 @@ public class BlockStandingSign extends BlockSign
 
     public void onNeighborBlockChange(World worldIn, BlockPos pos, IBlockState state, Block neighborBlock)
     {
-        if (!worldIn.getBlockState(pos.offsetDown()).getBlock().getMaterial().isSolid())
+        if (!worldIn.getBlockState(pos.down()).getBlock().getMaterial().isSolid())
         {
             this.dropBlockAsItem(worldIn, pos, state, 0);
             worldIn.setBlockToAir(pos);
diff --git a/net/minecraft/block/BlockStaticLiquid.java b/net/minecraft/block/BlockStaticLiquid.java
index 473934a..0fe54c0 100644
--- a/net/minecraft/block/BlockStaticLiquid.java
+++ b/net/minecraft/block/BlockStaticLiquid.java
@@ -75,9 +75,9 @@ public class BlockStaticLiquid extends BlockLiquid
                     {
                         BlockPos var10 = pos.add(rand.nextInt(3) - 1, 0, rand.nextInt(3) - 1);
 
-                        if (worldIn.isAirBlock(var10.offsetUp()) && this.getCanBlockBurn(worldIn, var10))
+                        if (worldIn.isAirBlock(var10.up()) && this.getCanBlockBurn(worldIn, var10))
                         {
-                            worldIn.setBlockState(var10.offsetUp(), Blocks.fire.getDefaultState());
+                            worldIn.setBlockState(var10.up(), Blocks.fire.getDefaultState());
                         }
                     }
                 }
diff --git a/net/minecraft/block/BlockStem.java b/net/minecraft/block/BlockStem.java
index c49d16b..4cffd06 100644
--- a/net/minecraft/block/BlockStem.java
+++ b/net/minecraft/block/BlockStem.java
@@ -83,7 +83,7 @@ public class BlockStem extends BlockBush implements IGrowable
     {
         super.updateTick(worldIn, pos, state, rand);
 
-        if (worldIn.getLightFromNeighbors(pos.offsetUp()) >= 9)
+        if (worldIn.getLightFromNeighbors(pos.up()) >= 9)
         {
             float var5 = BlockCrops.getGrowthChance(this, worldIn, pos);
 
@@ -111,7 +111,7 @@ public class BlockStem extends BlockBush implements IGrowable
                     }
 
                     pos = pos.offset(EnumFacing.Plane.HORIZONTAL.random(rand));
-                    Block var9 = worldIn.getBlockState(pos.offsetDown()).getBlock();
+                    Block var9 = worldIn.getBlockState(pos.down()).getBlock();
 
                     if (worldIn.getBlockState(pos).getBlock().blockMaterial == Material.air && (var9 == Blocks.farmland || var9 == Blocks.dirt || var9 == Blocks.grass))
                     {
diff --git a/net/minecraft/block/BlockTallGrass.java b/net/minecraft/block/BlockTallGrass.java
index 4b1d817..659c225 100644
--- a/net/minecraft/block/BlockTallGrass.java
+++ b/net/minecraft/block/BlockTallGrass.java
@@ -41,7 +41,7 @@ public class BlockTallGrass extends BlockBush implements IGrowable
 
     public boolean canBlockStay(World worldIn, BlockPos p_180671_2_, IBlockState p_180671_3_)
     {
-        return this.canPlaceBlockOn(worldIn.getBlockState(p_180671_2_.offsetDown()).getBlock());
+        return this.canPlaceBlockOn(worldIn.getBlockState(p_180671_2_.down()).getBlock());
     }
 
     /**
diff --git a/net/minecraft/block/BlockTripWire.java b/net/minecraft/block/BlockTripWire.java
index 0955c32..63126c2 100644
--- a/net/minecraft/block/BlockTripWire.java
+++ b/net/minecraft/block/BlockTripWire.java
@@ -87,7 +87,7 @@ public class BlockTripWire extends Block
     public void onNeighborBlockChange(World worldIn, BlockPos pos, IBlockState state, Block neighborBlock)
     {
         boolean var5 = ((Boolean)state.getValue(field_176290_b)).booleanValue();
-        boolean var6 = !World.doesBlockHaveSolidTopSurface(worldIn, pos.offsetDown());
+        boolean var6 = !World.doesBlockHaveSolidTopSurface(worldIn, pos.down());
 
         if (var5 != var6)
         {
@@ -118,7 +118,7 @@ public class BlockTripWire extends Block
 
     public void onBlockAdded(World worldIn, BlockPos pos, IBlockState state)
     {
-        state = state.withProperty(field_176290_b, Boolean.valueOf(!World.doesBlockHaveSolidTopSurface(worldIn, pos.offsetDown())));
+        state = state.withProperty(field_176290_b, Boolean.valueOf(!World.doesBlockHaveSolidTopSurface(worldIn, pos.down())));
         worldIn.setBlockState(pos, state, 3);
         this.func_176286_e(worldIn, pos, state);
     }
diff --git a/net/minecraft/block/BlockTripWireHook.java b/net/minecraft/block/BlockTripWireHook.java
index 8308c72..b979a25 100644
--- a/net/minecraft/block/BlockTripWireHook.java
+++ b/net/minecraft/block/BlockTripWireHook.java
@@ -42,7 +42,7 @@ public class BlockTripWireHook extends Block
      */
     public IBlockState getActualState(IBlockState state, IBlockAccess worldIn, BlockPos pos)
     {
-        return state.withProperty(field_176266_N, Boolean.valueOf(!World.doesBlockHaveSolidTopSurface(worldIn, pos.offsetDown())));
+        return state.withProperty(field_176266_N, Boolean.valueOf(!World.doesBlockHaveSolidTopSurface(worldIn, pos.down())));
     }
 
     public AxisAlignedBB getCollisionBoundingBox(World worldIn, BlockPos pos, IBlockState state)
@@ -126,7 +126,7 @@ public class BlockTripWireHook extends Block
         EnumFacing var8 = (EnumFacing)p_176260_3_.getValue(field_176264_a);
         boolean var9 = ((Boolean)p_176260_3_.getValue(field_176265_M)).booleanValue();
         boolean var10 = ((Boolean)p_176260_3_.getValue(field_176263_b)).booleanValue();
-        boolean var11 = !World.doesBlockHaveSolidTopSurface(worldIn, p_176260_2_.offsetDown());
+        boolean var11 = !World.doesBlockHaveSolidTopSurface(worldIn, p_176260_2_.down());
         boolean var12 = !p_176260_4_;
         boolean var13 = false;
         int var14 = 0;
diff --git a/net/minecraft/block/BlockVine.java b/net/minecraft/block/BlockVine.java
index 311374f..c30a78d 100644
--- a/net/minecraft/block/BlockVine.java
+++ b/net/minecraft/block/BlockVine.java
@@ -52,7 +52,7 @@ public class BlockVine extends Block
      */
     public IBlockState getActualState(IBlockState state, IBlockAccess worldIn, BlockPos pos)
     {
-        return state.withProperty(field_176277_a, Boolean.valueOf(worldIn.getBlockState(pos.offsetUp()).getBlock().isSolidFullCube()));
+        return state.withProperty(field_176277_a, Boolean.valueOf(worldIn.getBlockState(pos.up()).getBlock().isSolidFullCube()));
     }
 
     /**
@@ -136,7 +136,7 @@ public class BlockVine extends Block
             var10 = true;
         }
 
-        if (!var10 && this.func_150093_a(access.getBlockState(pos.offsetUp()).getBlock()))
+        if (!var10 && this.func_150093_a(access.getBlockState(pos.up()).getBlock()))
         {
             var5 = Math.min(var5, 0.9375F);
             var8 = 1.0F;
@@ -162,7 +162,7 @@ public class BlockVine extends Block
         switch (BlockVine.SwitchEnumFacing.field_177057_a[side.ordinal()])
         {
             case 1:
-                return this.func_150093_a(worldIn.getBlockState(pos.offsetUp()).getBlock());
+                return this.func_150093_a(worldIn.getBlockState(pos.up()).getBlock());
 
             case 2:
             case 3:
@@ -192,7 +192,7 @@ public class BlockVine extends Block
 
             if (((Boolean)p_176269_3_.getValue(var7)).booleanValue() && !this.func_150093_a(worldIn.getBlockState(p_176269_2_.offset(var6)).getBlock()))
             {
-                IBlockState var8 = worldIn.getBlockState(p_176269_2_.offsetUp());
+                IBlockState var8 = worldIn.getBlockState(p_176269_2_.up());
 
                 if (var8.getBlock() != this || !((Boolean)var8.getValue(var7)).booleanValue())
                 {
@@ -274,7 +274,7 @@ public class BlockVine extends Block
                 EnumFacing var17 = EnumFacing.random(rand);
                 EnumFacing var23;
 
-                if (var17 == EnumFacing.UP && pos.getY() < 255 && worldIn.isAirBlock(pos.offsetUp()))
+                if (var17 == EnumFacing.UP && pos.getY() < 255 && worldIn.isAirBlock(pos.up()))
                 {
                     if (!var7)
                     {
@@ -285,7 +285,7 @@ public class BlockVine extends Block
                         {
                             var23 = (EnumFacing)var22.next();
 
-                            if (rand.nextBoolean() || !this.func_150093_a(worldIn.getBlockState(pos.offset(var23).offsetUp()).getBlock()))
+                            if (rand.nextBoolean() || !this.func_150093_a(worldIn.getBlockState(pos.offset(var23).up()).getBlock()))
                             {
                                 var19 = var19.withProperty(func_176267_a(var23), Boolean.valueOf(false));
                             }
@@ -293,7 +293,7 @@ public class BlockVine extends Block
 
                         if (((Boolean)var19.getValue(field_176273_b)).booleanValue() || ((Boolean)var19.getValue(field_176278_M)).booleanValue() || ((Boolean)var19.getValue(field_176279_N)).booleanValue() || ((Boolean)var19.getValue(field_176280_O)).booleanValue())
                         {
-                            worldIn.setBlockState(pos.offsetUp(), var19, 2);
+                            worldIn.setBlockState(pos.up(), var19, 2);
                         }
                     }
                 }
@@ -333,7 +333,7 @@ public class BlockVine extends Block
                                 {
                                     worldIn.setBlockState(var16, this.getDefaultState().withProperty(func_176267_a(var17.getOpposite()), Boolean.valueOf(true)), 2);
                                 }
-                                else if (this.func_150093_a(worldIn.getBlockState(var18.offsetUp()).getBlock()))
+                                else if (this.func_150093_a(worldIn.getBlockState(var18.up()).getBlock()))
                                 {
                                     worldIn.setBlockState(var18, this.getDefaultState(), 2);
                                 }
@@ -348,7 +348,7 @@ public class BlockVine extends Block
                     {
                         if (pos.getY() > 1)
                         {
-                            var18 = pos.offsetDown();
+                            var18 = pos.down();
                             IBlockState var20 = worldIn.getBlockState(var18);
                             Block var11 = var20.getBlock();
                             IBlockState var12;
diff --git a/net/minecraft/block/BlockWall.java b/net/minecraft/block/BlockWall.java
index afb4097..96da50b 100644
--- a/net/minecraft/block/BlockWall.java
+++ b/net/minecraft/block/BlockWall.java
@@ -55,10 +55,10 @@ public class BlockWall extends Block
 
     public void setBlockBoundsBasedOnState(IBlockAccess access, BlockPos pos)
     {
-        boolean var3 = this.func_176253_e(access, pos.offsetNorth());
-        boolean var4 = this.func_176253_e(access, pos.offsetSouth());
-        boolean var5 = this.func_176253_e(access, pos.offsetWest());
-        boolean var6 = this.func_176253_e(access, pos.offsetEast());
+        boolean var3 = this.func_176253_e(access, pos.north());
+        boolean var4 = this.func_176253_e(access, pos.south());
+        boolean var5 = this.func_176253_e(access, pos.west());
+        boolean var6 = this.func_176253_e(access, pos.east());
         float var7 = 0.25F;
         float var8 = 0.75F;
         float var9 = 0.25F;
@@ -164,7 +164,7 @@ public class BlockWall extends Block
      */
     public IBlockState getActualState(IBlockState state, IBlockAccess worldIn, BlockPos pos)
     {
-        return state.withProperty(field_176256_a, Boolean.valueOf(!worldIn.isAirBlock(pos.offsetUp()))).withProperty(field_176254_b, Boolean.valueOf(this.func_176253_e(worldIn, pos.offsetNorth()))).withProperty(field_176257_M, Boolean.valueOf(this.func_176253_e(worldIn, pos.offsetEast()))).withProperty(field_176258_N, Boolean.valueOf(this.func_176253_e(worldIn, pos.offsetSouth()))).withProperty(field_176259_O, Boolean.valueOf(this.func_176253_e(worldIn, pos.offsetWest())));
+        return state.withProperty(field_176256_a, Boolean.valueOf(!worldIn.isAirBlock(pos.up()))).withProperty(field_176254_b, Boolean.valueOf(this.func_176253_e(worldIn, pos.north()))).withProperty(field_176257_M, Boolean.valueOf(this.func_176253_e(worldIn, pos.east()))).withProperty(field_176258_N, Boolean.valueOf(this.func_176253_e(worldIn, pos.south()))).withProperty(field_176259_O, Boolean.valueOf(this.func_176253_e(worldIn, pos.west())));
     }
 
     protected BlockState createBlockState()
diff --git a/net/minecraft/client/LoadingScreenRenderer.java b/net/minecraft/client/LoadingScreenRenderer.java
index 0875566..d98e274 100644
--- a/net/minecraft/client/LoadingScreenRenderer.java
+++ b/net/minecraft/client/LoadingScreenRenderer.java
@@ -160,7 +160,7 @@ public class LoadingScreenRenderer implements IProgressUpdate
                 this.mc.getTextureManager().bindTexture(Gui.optionsBackground);
                 float var10 = 32.0F;
                 var9.startDrawingQuads();
-                var9.func_178991_c(4210752);
+                var9.setColorOpaque_I(4210752);
                 var9.addVertexWithUV(0.0D, (double)var7, 0.0D, 0.0D, (double)((float)var7 / var10));
                 var9.addVertexWithUV((double)var6, (double)var7, 0.0D, (double)((float)var6 / var10), (double)((float)var7 / var10));
                 var9.addVertexWithUV((double)var6, 0.0D, 0.0D, (double)((float)var6 / var10), 0.0D);
@@ -175,12 +175,12 @@ public class LoadingScreenRenderer implements IProgressUpdate
                     int var14 = var7 / 2 + 16;
                     GlStateManager.func_179090_x();
                     var9.startDrawingQuads();
-                    var9.func_178991_c(8421504);
+                    var9.setColorOpaque_I(8421504);
                     var9.addVertex((double)var13, (double)var14, 0.0D);
                     var9.addVertex((double)var13, (double)(var14 + var12), 0.0D);
                     var9.addVertex((double)(var13 + var11), (double)(var14 + var12), 0.0D);
                     var9.addVertex((double)(var13 + var11), (double)var14, 0.0D);
-                    var9.func_178991_c(8454016);
+                    var9.setColorOpaque_I(8454016);
                     var9.addVertex((double)var13, (double)var14, 0.0D);
                     var9.addVertex((double)var13, (double)(var14 + var12), 0.0D);
                     var9.addVertex((double)(var13 + progress), (double)(var14 + var12), 0.0D);
@@ -191,8 +191,8 @@ public class LoadingScreenRenderer implements IProgressUpdate
 
                 GlStateManager.enableBlend();
                 GlStateManager.tryBlendFuncSeparate(770, 771, 1, 0);
-                this.mc.fontRendererObj.func_175063_a(this.currentlyDisplayedText, (float)((var6 - this.mc.fontRendererObj.getStringWidth(this.currentlyDisplayedText)) / 2), (float)(var7 / 2 - 4 - 16), 16777215);
-                this.mc.fontRendererObj.func_175063_a(this.field_73727_a, (float)((var6 - this.mc.fontRendererObj.getStringWidth(this.field_73727_a)) / 2), (float)(var7 / 2 - 4 + 8), 16777215);
+                this.mc.fontRendererObj.drawStringWithShadow(this.currentlyDisplayedText, (float)((var6 - this.mc.fontRendererObj.getStringWidth(this.currentlyDisplayedText)) / 2), (float)(var7 / 2 - 4 - 16), 16777215);
+                this.mc.fontRendererObj.drawStringWithShadow(this.field_73727_a, (float)((var6 - this.mc.fontRendererObj.getStringWidth(this.field_73727_a)) / 2), (float)(var7 / 2 - 4 + 8), 16777215);
                 this.field_146588_g.unbindFramebuffer();
 
                 if (OpenGlHelper.isFramebufferEnabled())
diff --git a/net/minecraft/client/Minecraft.java b/net/minecraft/client/Minecraft.java
index a9a0567..19fdaee 100644
--- a/net/minecraft/client/Minecraft.java
+++ b/net/minecraft/client/Minecraft.java
@@ -1,17 +1,15 @@
 package net.minecraft.client;
 
-import com.google.common.collect.Iterables;
-import com.google.common.collect.Lists;
-import com.google.common.collect.Maps;
-import com.google.common.collect.Queues;
-import com.google.common.collect.Sets;
-import com.google.common.util.concurrent.Futures;
-import com.google.common.util.concurrent.ListenableFuture;
-import com.google.common.util.concurrent.ListenableFutureTask;
-import com.mojang.authlib.minecraft.MinecraftSessionService;
-import com.mojang.authlib.properties.Property;
-import com.mojang.authlib.properties.PropertyMap;
-import com.mojang.authlib.yggdrasil.YggdrasilAuthenticationService;
+import java.awt.Color;
+import java.awt.Component;
+import java.awt.Dimension;
+import java.awt.FlowLayout;
+import java.awt.Toolkit;
+import java.awt.datatransfer.StringSelection;
+import java.awt.event.ActionEvent;
+import java.awt.event.ActionListener;
+import java.awt.event.WindowAdapter;
+import java.awt.event.WindowEvent;
 import java.awt.image.BufferedImage;
 import java.io.File;
 import java.io.IOException;
@@ -22,39 +20,20 @@ import java.nio.ByteBuffer;
 import java.nio.ByteOrder;
 import java.text.DecimalFormat;
 import java.text.SimpleDateFormat;
-import java.util.ArrayList;
-import java.util.Collections;
-import java.util.Date;
-import java.util.HashMap;
-import java.util.HashSet;
-import java.util.Iterator;
-import java.util.List;
-import java.util.Map;
-import java.util.Queue;
-import java.util.UUID;
+import java.util.*;
 import java.util.concurrent.Callable;
 import java.util.concurrent.Executors;
 import java.util.concurrent.FutureTask;
+
 import javax.imageio.ImageIO;
+import javax.swing.*;
+
 import net.minecraft.block.Block;
 import net.minecraft.block.material.Material;
 import net.minecraft.client.audio.MusicTicker;
 import net.minecraft.client.audio.SoundHandler;
 import net.minecraft.client.entity.EntityPlayerSP;
-import net.minecraft.client.gui.FontRenderer;
-import net.minecraft.client.gui.GuiChat;
-import net.minecraft.client.gui.GuiControls;
-import net.minecraft.client.gui.GuiGameOver;
-import net.minecraft.client.gui.GuiIngame;
-import net.minecraft.client.gui.GuiIngameMenu;
-import net.minecraft.client.gui.GuiMainMenu;
-import net.minecraft.client.gui.GuiMemoryErrorScreen;
-import net.minecraft.client.gui.GuiScreen;
-import net.minecraft.client.gui.GuiSleepMP;
-import net.minecraft.client.gui.GuiWinGame;
-import net.minecraft.client.gui.GuiYesNo;
-import net.minecraft.client.gui.GuiYesNoCallback;
-import net.minecraft.client.gui.ScaledResolution;
+import net.minecraft.client.gui.*;
 import net.minecraft.client.gui.achievement.GuiAchievement;
 import net.minecraft.client.gui.inventory.GuiInventory;
 import net.minecraft.client.gui.stream.GuiStreamUnavailable;
@@ -66,42 +45,15 @@ import net.minecraft.client.multiplayer.WorldClient;
 import net.minecraft.client.network.NetHandlerLoginClient;
 import net.minecraft.client.network.NetHandlerPlayClient;
 import net.minecraft.client.particle.EffectRenderer;
-import net.minecraft.client.renderer.BlockRendererDispatcher;
-import net.minecraft.client.renderer.EntityRenderer;
-import net.minecraft.client.renderer.GlStateManager;
-import net.minecraft.client.renderer.ItemRenderer;
-import net.minecraft.client.renderer.OpenGlHelper;
-import net.minecraft.client.renderer.RenderGlobal;
-import net.minecraft.client.renderer.Tessellator;
-import net.minecraft.client.renderer.WorldRenderer;
+import net.minecraft.client.renderer.*;
 import net.minecraft.client.renderer.chunk.RenderChunk;
 import net.minecraft.client.renderer.entity.RenderItem;
 import net.minecraft.client.renderer.entity.RenderManager;
 import net.minecraft.client.renderer.texture.DynamicTexture;
 import net.minecraft.client.renderer.texture.TextureManager;
 import net.minecraft.client.renderer.texture.TextureMap;
-import net.minecraft.client.resources.DefaultResourcePack;
-import net.minecraft.client.resources.FoliageColorReloadListener;
-import net.minecraft.client.resources.GrassColorReloadListener;
-import net.minecraft.client.resources.I18n;
-import net.minecraft.client.resources.IReloadableResourceManager;
-import net.minecraft.client.resources.IResourceManager;
-import net.minecraft.client.resources.LanguageManager;
-import net.minecraft.client.resources.ResourceIndex;
-import net.minecraft.client.resources.ResourcePackRepository;
-import net.minecraft.client.resources.SimpleReloadableResourceManager;
-import net.minecraft.client.resources.SkinManager;
-import net.minecraft.client.resources.data.AnimationMetadataSection;
-import net.minecraft.client.resources.data.AnimationMetadataSectionSerializer;
-import net.minecraft.client.resources.data.FontMetadataSection;
-import net.minecraft.client.resources.data.FontMetadataSectionSerializer;
-import net.minecraft.client.resources.data.IMetadataSerializer;
-import net.minecraft.client.resources.data.LanguageMetadataSection;
-import net.minecraft.client.resources.data.LanguageMetadataSectionSerializer;
-import net.minecraft.client.resources.data.PackMetadataSection;
-import net.minecraft.client.resources.data.PackMetadataSectionSerializer;
-import net.minecraft.client.resources.data.TextureMetadataSection;
-import net.minecraft.client.resources.data.TextureMetadataSectionSerializer;
+import net.minecraft.client.resources.*;
+import net.minecraft.client.resources.data.*;
 import net.minecraft.client.resources.model.ModelManager;
 import net.minecraft.client.settings.GameSettings;
 import net.minecraft.client.settings.KeyBinding;
@@ -144,18 +96,7 @@ import net.minecraft.stats.AchievementList;
 import net.minecraft.stats.IStatStringFormat;
 import net.minecraft.stats.StatFileWriter;
 import net.minecraft.tileentity.TileEntity;
-import net.minecraft.util.BlockPos;
-import net.minecraft.util.ChatComponentText;
-import net.minecraft.util.IThreadListener;
-import net.minecraft.util.MathHelper;
-import net.minecraft.util.MinecraftError;
-import net.minecraft.util.MouseHelper;
-import net.minecraft.util.MovementInputFromOptions;
-import net.minecraft.util.MovingObjectPosition;
-import net.minecraft.util.ReportedException;
-import net.minecraft.util.ResourceLocation;
-import net.minecraft.util.ScreenShotHelper;
-import net.minecraft.util.Session;
+import net.minecraft.util.*;
 import net.minecraft.util.Timer;
 import net.minecraft.util.Util;
 import net.minecraft.world.EnumDifficulty;
@@ -166,6 +107,7 @@ import net.minecraft.world.chunk.storage.AnvilSaveConverter;
 import net.minecraft.world.storage.ISaveFormat;
 import net.minecraft.world.storage.ISaveHandler;
 import net.minecraft.world.storage.WorldInfo;
+
 import org.apache.commons.io.IOUtils;
 import org.apache.commons.lang3.Validate;
 import org.apache.logging.log4j.LogManager;
@@ -174,20 +116,35 @@ import org.lwjgl.LWJGLException;
 import org.lwjgl.Sys;
 import org.lwjgl.input.Keyboard;
 import org.lwjgl.input.Mouse;
-import org.lwjgl.opengl.ContextCapabilities;
-import org.lwjgl.opengl.Display;
-import org.lwjgl.opengl.DisplayMode;
-import org.lwjgl.opengl.GL11;
-import org.lwjgl.opengl.GL20;
-import org.lwjgl.opengl.GLContext;
-import org.lwjgl.opengl.OpenGLException;
-import org.lwjgl.opengl.PixelFormat;
+import org.lwjgl.opengl.*;
 import org.lwjgl.util.glu.GLU;
 
+import tk.wurst_client.WurstClient;
+import tk.wurst_client.bot.WurstBot;
+import tk.wurst_client.events.LeftClickEvent;
+import tk.wurst_client.gui.main.GuiWurstMainMenu;
+import tk.wurst_client.hooks.FrameHook;
+import tk.wurst_client.spam.SpamProcessor;
+import tk.wurst_client.utils.MiscUtils;
+
+import com.google.common.collect.Iterables;
+import com.google.common.collect.Lists;
+import com.google.common.collect.Maps;
+import com.google.common.collect.Queues;
+import com.google.common.collect.Sets;
+import com.google.common.util.concurrent.Futures;
+import com.google.common.util.concurrent.ListenableFuture;
+import com.google.common.util.concurrent.ListenableFutureTask;
+import com.mojang.authlib.minecraft.MinecraftSessionService;
+import com.mojang.authlib.properties.Property;
+import com.mojang.authlib.properties.PropertyMap;
+import com.mojang.authlib.yggdrasil.YggdrasilAuthenticationService;
+
 public class Minecraft implements IThreadListener, IPlayerUsage
 {
     private static final Logger logger = LogManager.getLogger();
-    private static final ResourceLocation locationMojangPng = new ResourceLocation("textures/gui/title/mojang.png");
+    //TODO: Client
+    private static final ResourceLocation locationMojangPng = new ResourceLocation("wurst/wurst_loading.png");
     public static final boolean isRunningOnMac = Util.getOSType() == Util.EnumOS.OSX;
 
     /** A 10MiB preallocation to ensure the heap is reasonably sized. */
@@ -213,20 +170,23 @@ public class Minecraft implements IThreadListener, IPlayerUsage
     private CrashReport crashReporter;
     public int displayWidth;
     public int displayHeight;
-    private Timer timer = new Timer(20.0F);
+    
+    // TODO: Client
+    public Timer timer = new Timer(20.0F);
 
     /** Instance of PlayerUsageSnooper. */
     private PlayerUsageSnooper usageSnooper = new PlayerUsageSnooper("client", this, MinecraftServer.getCurrentTimeMillis());
-    public WorldClient theWorld;
+    public WorldClient world;
     public RenderGlobal renderGlobal;
     private RenderManager renderManager;
     private RenderItem renderItem;
     private ItemRenderer itemRenderer;
-    public EntityPlayerSP thePlayer;
+    public EntityPlayerSP player;
     private Entity field_175622_Z;
     public Entity pointedEntity;
     public EffectRenderer effectRenderer;
-    private final Session session;
+    //TODO: Client
+    public Session session;
     private boolean isGamePaused;
 
     /** The font renderer used for displaying and measuring text */
@@ -280,7 +240,8 @@ public class Minecraft implements IThreadListener, IPlayerUsage
     /**
      * When you place a block, it's set to 6, decremented once per tick, when it's 0, you can place another block.
      */
-    private int rightClickDelayTimer;
+    //TODO: Client
+    public int rightClickDelayTimer;
     private String serverName;
     private int serverPort;
 
@@ -345,6 +306,7 @@ public class Minecraft implements IThreadListener, IPlayerUsage
 
     /** Profiler currently displayed in the debug screen pie chart */
     private String debugProfilerName = "root";
+	
     private static final String __OBFID = "CL_00000631";
 
     public Minecraft(GameConfiguration p_i45547_1_)
@@ -466,9 +428,9 @@ public class Minecraft implements IThreadListener, IPlayerUsage
         }
 
         logger.info("LWJGL Version: " + Sys.getVersion());
-        this.func_175594_ao();
-        this.func_175605_an();
-        this.func_175609_am();
+        this.startLWJGL_1();
+        this.startLWJGL_2();
+        this.startLWJGL_3();
         OpenGlHelper.initializeTextures();
         this.framebufferMc = new Framebuffer(this.displayWidth, this.displayHeight, true);
         this.framebufferMc.setFramebufferColor(0.0F, 0.0F, 0.0F, 0.0F);
@@ -548,17 +510,20 @@ public class Minecraft implements IThreadListener, IPlayerUsage
         this.mcResourceManager.registerReloadListener(this.renderGlobal);
         this.guiAchievement = new GuiAchievement(this);
         GlStateManager.viewport(0, 0, this.displayWidth, this.displayHeight);
-        this.effectRenderer = new EffectRenderer(this.theWorld, this.renderEngine);
+        this.effectRenderer = new EffectRenderer(this.world, this.renderEngine);
         this.checkGLError("Post startup");
         this.ingameGUI = new GuiIngame(this);
 
+        //TODO: Client
+        WurstClient.INSTANCE.startClient();
+
         if (this.serverName != null)
         {
-            this.displayGuiScreen(new GuiConnecting(new GuiMainMenu(), this, this.serverName, this.serverPort));
+            this.displayGuiScreen(new GuiConnecting(new GuiWurstMainMenu(), this, this.serverName, this.serverPort));
         }
         else
         {
-            this.displayGuiScreen(new GuiMainMenu());
+            this.displayGuiScreen(new GuiWurstMainMenu());
         }
 
         this.renderEngine.deleteTexture(this.mojangLogo);
@@ -581,6 +546,8 @@ public class Minecraft implements IThreadListener, IPlayerUsage
         }
 
         this.renderGlobal.func_174966_b();
+        if(WurstBot.isEnabled())
+        	WurstBot.getBot().start();
     }
 
     private void func_175608_ak()
@@ -605,7 +572,7 @@ public class Minecraft implements IThreadListener, IPlayerUsage
         }
     }
 
-    private void func_175609_am() throws LWJGLException
+    private void startLWJGL_3() throws LWJGLException
     {
         Display.setResizable(true);
         Display.setTitle("Minecraft 1.8");
@@ -636,22 +603,24 @@ public class Minecraft implements IThreadListener, IPlayerUsage
         }
     }
 
-    private void func_175605_an() throws LWJGLException
+    private void startLWJGL_2() throws LWJGLException
     {
-        if (this.fullscreen)
+        if(this.fullscreen)
         {
             Display.setFullscreen(true);
             DisplayMode var1 = Display.getDisplayMode();
             this.displayWidth = Math.max(1, var1.getWidth());
             this.displayHeight = Math.max(1, var1.getHeight());
-        }
-        else
+        }else
         {
             Display.setDisplayMode(new DisplayMode(this.displayWidth, this.displayHeight));
+            
+            // TODO: Client
+        	FrameHook.createFrame(mcDefaultResourcePack, logger);
         }
     }
 
-    private void func_175594_ao()
+    private void startLWJGL_1()
     {
         Util.EnumOS var1 = Util.getOSType();
 
@@ -751,23 +720,145 @@ public class Minecraft implements IThreadListener, IPlayerUsage
         File var3 = new File(var2, "crash-" + (new SimpleDateFormat("yyyy-MM-dd_HH.mm.ss")).format(new Date()) + "-client.txt");
         Bootstrap.func_179870_a(crashReportIn.getCompleteReport());
 
-        if (crashReportIn.getFile() != null)
+		//MiscUtils.openLink("http://www.wurst-client.tk/bugs");
+    	//doWurstCrash(crashReportIn, var3.getAbsolutePath());
+    	//while(true);
+    	//TODO: Client
+    	if(crashReportIn.getFile() != null)
         {
             Bootstrap.func_179870_a("#@!@# Game crashed! Crash report saved to: #@!@# " + crashReportIn.getFile());
             System.exit(-1);
-        }
-        else if (crashReportIn.saveToFile(var3))
+    	}else if(crashReportIn.saveToFile(var3))
         {
             Bootstrap.func_179870_a("#@!@# Game crashed! Crash report saved to: #@!@# " + var3.getAbsolutePath());
             System.exit(-1);
-        }
-        else
+    	}else
         {
             Bootstrap.func_179870_a("#@?@# Game crashed! Crash report could not be saved. #@?@#");
             System.exit(-2);
         }
     }
 
+    //TODO: Client
+    private void doWurstCrash(final CrashReport crashReportIn, final String reportPath)
+    {
+    	this.hasCrashed = true;
+		JFrame crashFrame = new JFrame();
+		crashFrame.setTitle("Error");
+		crashFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
+		crashFrame.addWindowListener(new WindowAdapter()
+		{
+			@SuppressWarnings("deprecation")
+			@Override
+			public void windowClosing(WindowEvent e)
+			{
+				System.exit(-1);
+				Minecraft.this.mcThread.stop();
+				System.gc();
+				Minecraft.this.shutdownMinecraftApplet();
+			}
+		});
+		crashFrame.setAlwaysOnTop(true);
+		JPanel crashPanel = new JPanel();
+		crashPanel.setLayout(new BoxLayout(crashPanel, BoxLayout.Y_AXIS));
+		
+		JLabel header1 = new JLabel();
+		header1.setText
+		(
+			"<html><div align=\"center\"><h1>Wurst has crashed!</h1>"
+			+ "<font size=\"4\">The following crash report has been saved to:"
+		);
+		header1.setHorizontalAlignment(SwingConstants.CENTER);
+		header1.setAlignmentX(Component.CENTER_ALIGNMENT);
+		crashPanel.add(header1);
+
+		final JButton fileButton = new JButton("<html><u>" + reportPath);
+		fileButton.setForeground(new Color(0x0000ff));
+		fileButton.setAlignmentX(Component.CENTER_ALIGNMENT);
+		fileButton.setBorder(null);
+		fileButton.setContentAreaFilled(false);
+		fileButton.setFocusPainted(false);
+		fileButton.addActionListener(new ActionListener()
+		{
+			@Override
+			public void actionPerformed(ActionEvent e)
+			{
+				try
+				{
+					MiscUtils.openFile(reportPath);
+					fileButton.setForeground(new Color(0x551A8B));
+				}catch(Exception e1)
+				{
+					e1.printStackTrace();
+				}
+			}
+		});
+		JPanel fileButtonPanel = new JPanel(new FlowLayout(FlowLayout.CENTER));
+		fileButtonPanel.add(fileButton);
+		crashPanel.add(fileButtonPanel);
+		
+		JLabel header2 = new JLabel();
+		header2.setText
+		(
+			"<html><div align=\"center\"><font size=\"4\">Please report this crash at:"
+		);
+		header2.setHorizontalAlignment(SwingConstants.CENTER);
+		header2.setAlignmentX(Component.CENTER_ALIGNMENT);
+		crashPanel.add(header2);
+		
+		final JButton linkButton = new JButton("<html><u>http://www.wurst-client.tk/bugs");
+		linkButton.setForeground(new Color(0x0000ff));
+		linkButton.setAlignmentX(Component.CENTER_ALIGNMENT);
+		linkButton.setBorder(null);
+		linkButton.setContentAreaFilled(false);
+		linkButton.setFocusPainted(false);
+		linkButton.addActionListener(new ActionListener()
+		{
+			@Override
+			public void actionPerformed(ActionEvent e)
+			{
+				try
+				{
+					MiscUtils.openLink("http://www.wurst-client.tk/bugs");
+					linkButton.setForeground(new Color(0x551A8B));
+				}catch(Exception e1)
+				{
+					e1.printStackTrace();
+				}
+			}
+		});
+		JPanel linkButtonPanel = new JPanel(new FlowLayout(FlowLayout.CENTER));
+		linkButtonPanel.add(linkButton);
+		crashPanel.add(linkButtonPanel);
+		
+		JTextArea message = new JTextArea();
+		message.setEditable(false);
+		message.setText(crashReportIn.getCompleteReport());
+		JScrollPane scrollpane = new JScrollPane(message);
+		scrollpane.setPreferredSize(new Dimension(600, 300));
+		crashPanel.add(scrollpane);
+		
+
+		JPanel buttons = new JPanel();
+		buttons.setLayout(new FlowLayout(FlowLayout.CENTER, 32, 5));
+		JButton copyButton = new JButton("Copy to clipboard");
+		copyButton.addActionListener(new ActionListener()
+		{
+			@Override
+			public void actionPerformed(ActionEvent e)
+			{
+				Toolkit.getDefaultToolkit().getSystemClipboard().setContents(new StringSelection(crashReportIn.getCompleteReport()), null);
+			}
+		});
+		buttons.add(copyButton);
+		crashPanel.add(buttons);
+		
+		crashFrame.setContentPane(crashPanel);
+		crashFrame.pack();
+		crashFrame.setLocationRelativeTo(null);
+		crashFrame.setVisible(true);
+    }
+
     public boolean isUnicode()
     {
         return this.mcLanguageManager.isCurrentLocaleUnicode() || this.gameSettings.forceUnicodeFont;
@@ -917,14 +1008,14 @@ public class Minecraft implements IThreadListener, IPlayerUsage
         Tessellator var6 = Tessellator.getInstance();
         WorldRenderer var7 = var6.getWorldRenderer();
         var7.startDrawingQuads();
-        var7.func_178991_c(16777215);
+        var7.setColorOpaque_I(16777215);
         var7.addVertexWithUV(0.0D, (double)this.displayHeight, 0.0D, 0.0D, 0.0D);
         var7.addVertexWithUV((double)this.displayWidth, (double)this.displayHeight, 0.0D, 0.0D, 0.0D);
         var7.addVertexWithUV((double)this.displayWidth, 0.0D, 0.0D, 0.0D, 0.0D);
         var7.addVertexWithUV(0.0D, 0.0D, 0.0D, 0.0D, 0.0D);
         var6.draw();
         GlStateManager.color(1.0F, 1.0F, 1.0F, 1.0F);
-        var7.func_178991_c(16777215);
+        var7.setColorOpaque_I(16777215);
         short var8 = 256;
         short var9 = 256;
         this.scaledTessellator((var2.getScaledWidth() - var8) / 2, (var2.getScaledHeight() - var9) / 2, 0, 0, var8, var9);
@@ -971,11 +1062,11 @@ public class Minecraft implements IThreadListener, IPlayerUsage
             this.currentScreen.onGuiClosed();
         }
 
-        if (guiScreenIn == null && this.theWorld == null)
+        if (guiScreenIn == null && this.world == null)
         {
-            guiScreenIn = new GuiMainMenu();
+            guiScreenIn = new GuiWurstMainMenu();
         }
-        else if (guiScreenIn == null && this.thePlayer.getHealth() <= 0.0F)
+        else if (guiScreenIn == null && this.player.getHealth() <= 0.0F)
         {
             guiScreenIn = new GuiGameOver();
         }
@@ -1070,7 +1161,7 @@ public class Minecraft implements IThreadListener, IPlayerUsage
             this.shutdown();
         }
 
-        if (this.isGamePaused && this.theWorld != null)
+        if (this.isGamePaused && this.world != null)
         {
             float var1 = this.timer.renderPartialTicks;
             this.timer.updateTimer();
@@ -1105,7 +1196,7 @@ public class Minecraft implements IThreadListener, IPlayerUsage
         long var8 = System.nanoTime() - var7;
         this.checkGLError("Pre render");
         this.mcProfiler.endStartSection("sound");
-        this.mcSoundHandler.setListener(this.thePlayer, this.timer.renderPartialTicks);
+        this.mcSoundHandler.setListener(this.player, this.timer.renderPartialTicks);
         this.mcProfiler.endSection();
         this.mcProfiler.startSection("render");
         GlStateManager.pushMatrix();
@@ -1114,7 +1205,7 @@ public class Minecraft implements IThreadListener, IPlayerUsage
         this.mcProfiler.startSection("display");
         GlStateManager.func_179098_w();
 
-        if (this.thePlayer != null && this.thePlayer.isEntityInsideOpaqueBlock())
+        if (this.player != null && this.player.isEntityInsideOpaqueBlock())
         {
             this.gameSettings.thirdPersonView = 0;
         }
@@ -1197,6 +1288,7 @@ public class Minecraft implements IThreadListener, IPlayerUsage
     public void func_175601_h()
     {
         this.mcProfiler.startSection("display_update");
+        if(!WurstBot.isEnabled())
         Display.update();
         this.mcProfiler.endSection();
         this.func_175604_i();
@@ -1230,7 +1322,7 @@ public class Minecraft implements IThreadListener, IPlayerUsage
 
     public int getLimitFramerate()
     {
-        return this.theWorld == null && this.currentScreen != null ? 30 : this.gameSettings.limitFramerate;
+        return this.world == null && this.currentScreen != null ? 30 : this.gameSettings.limitFramerate;
     }
 
     public boolean isFramerateLimitBelowMax()
@@ -1329,7 +1421,7 @@ public class Minecraft implements IThreadListener, IPlayerUsage
             int var9 = this.displayHeight - var7 * 2;
             GlStateManager.enableBlend();
             var6.startDrawingQuads();
-            var6.func_178974_a(0, 200);
+            var6.setColorRGBA_I(0, 200);
             var6.addVertex((double)((float)var8 - (float)var7 * 1.1F), (double)((float)var9 - (float)var7 * 0.6F - 16.0F), 0.0D);
             var6.addVertex((double)((float)var8 - (float)var7 * 1.1F), (double)(var9 + var7 * 2), 0.0D);
             var6.addVertex((double)((float)var8 + (float)var7 * 1.1F), (double)(var9 + var7 * 2), 0.0D);
@@ -1344,7 +1436,7 @@ public class Minecraft implements IThreadListener, IPlayerUsage
                 Profiler.Result var13 = (Profiler.Result)var3.get(var12);
                 var14 = MathHelper.floor_double(var13.field_76332_a / 4.0D) + 1;
                 var6.startDrawing(6);
-                var6.func_178991_c(var13.func_76329_a());
+                var6.setColorOpaque_I(var13.func_76329_a());
                 var6.addVertex((double)var8, (double)var9, 0.0D);
                 int var15;
                 float var16;
@@ -1361,7 +1453,7 @@ public class Minecraft implements IThreadListener, IPlayerUsage
 
                 var5.draw();
                 var6.startDrawing(5);
-                var6.func_178991_c((var13.func_76329_a() & 16711422) >> 1);
+                var6.setColorOpaque_I((var13.func_76329_a() & 16711422) >> 1);
 
                 for (var15 = var14; var15 >= 0; --var15)
                 {
@@ -1395,8 +1487,8 @@ public class Minecraft implements IThreadListener, IPlayerUsage
             }
 
             var14 = 16777215;
-            this.fontRendererObj.func_175063_a(var20, (float)(var8 - var7), (float)(var9 - var7 / 2 - 16), var14);
-            this.fontRendererObj.func_175063_a(var20 = var19.format(var4.field_76330_b) + "%", (float)(var8 + var7 - this.fontRendererObj.getStringWidth(var20)), (float)(var9 - var7 / 2 - 16), var14);
+            this.fontRendererObj.drawStringWithShadow(var20, (float)(var8 - var7), (float)(var9 - var7 / 2 - 16), var14);
+            this.fontRendererObj.drawStringWithShadow(var20 = var19.format(var4.field_76330_b) + "%", (float)(var8 + var7 - this.fontRendererObj.getStringWidth(var20)), (float)(var9 - var7 / 2 - 16), var14);
 
             for (int var21 = 0; var21 < var3.size(); ++var21)
             {
@@ -1413,9 +1505,9 @@ public class Minecraft implements IThreadListener, IPlayerUsage
                 }
 
                 var23 = var23 + var22.field_76331_c;
-                this.fontRendererObj.func_175063_a(var23, (float)(var8 - var7), (float)(var9 + var7 / 2 + var21 * 8 + 20), var22.func_76329_a());
-                this.fontRendererObj.func_175063_a(var23 = var19.format(var22.field_76332_a) + "%", (float)(var8 + var7 - 50 - this.fontRendererObj.getStringWidth(var23)), (float)(var9 + var7 / 2 + var21 * 8 + 20), var22.func_76329_a());
-                this.fontRendererObj.func_175063_a(var23 = var19.format(var22.field_76330_b) + "%", (float)(var8 + var7 - this.fontRendererObj.getStringWidth(var23)), (float)(var9 + var7 / 2 + var21 * 8 + 20), var22.func_76329_a());
+                this.fontRendererObj.drawStringWithShadow(var23, (float)(var8 - var7), (float)(var9 + var7 / 2 + var21 * 8 + 20), var22.func_76329_a());
+                this.fontRendererObj.drawStringWithShadow(var23 = var19.format(var22.field_76332_a) + "%", (float)(var8 + var7 - 50 - this.fontRendererObj.getStringWidth(var23)), (float)(var9 + var7 / 2 + var21 * 8 + 20), var22.func_76329_a());
+                this.fontRendererObj.drawStringWithShadow(var23 = var19.format(var22.field_76330_b) + "%", (float)(var8 + var7 - this.fontRendererObj.getStringWidth(var23)), (float)(var9 + var7 / 2 + var21 * 8 + 20), var22.func_76329_a());
             }
         }
     }
@@ -1482,16 +1574,16 @@ public class Minecraft implements IThreadListener, IPlayerUsage
             this.leftClickCounter = 0;
         }
 
-        if (this.leftClickCounter <= 0 && !this.thePlayer.isUsingItem())
+        if (this.leftClickCounter <= 0 && !this.player.isUsingItem())
         {
             if (leftClick && this.objectMouseOver != null && this.objectMouseOver.typeOfHit == MovingObjectPosition.MovingObjectType.BLOCK)
             {
-                BlockPos var2 = this.objectMouseOver.func_178782_a();
+                BlockPos var2 = this.objectMouseOver.getBlockPos();
 
-                if (this.theWorld.getBlockState(var2).getBlock().getMaterial() != Material.air && this.playerController.func_180512_c(var2, this.objectMouseOver.field_178784_b))
+                if (this.world.getBlockState(var2).getBlock().getMaterial() != Material.air && this.playerController.onPlayerDamageBlock(var2, this.objectMouseOver.sideHit))
                 {
-                    this.effectRenderer.func_180532_a(var2, this.objectMouseOver.field_178784_b);
-                    this.thePlayer.swingItem();
+                    this.effectRenderer.func_180532_a(var2, this.objectMouseOver.sideHit);
+                    this.player.swingItem();
                 }
             }
             else
@@ -1505,7 +1597,9 @@ public class Minecraft implements IThreadListener, IPlayerUsage
     {
         if (this.leftClickCounter <= 0)
         {
-            this.thePlayer.swingItem();
+            //TODO: Client
+        	WurstClient.INSTANCE.events.fire(new LeftClickEvent());
+            this.player.swingItem();
 
             if (this.objectMouseOver == null)
             {
@@ -1521,15 +1615,15 @@ public class Minecraft implements IThreadListener, IPlayerUsage
                 switch (Minecraft.SwitchEnumMinecartType.field_152390_a[this.objectMouseOver.typeOfHit.ordinal()])
                 {
                     case 1:
-                        this.playerController.attackEntity(this.thePlayer, this.objectMouseOver.entityHit);
+                        this.playerController.attackEntity(this.player, this.objectMouseOver.entityHit);
                         break;
 
                     case 2:
-                        BlockPos var1 = this.objectMouseOver.func_178782_a();
+                        BlockPos var1 = this.objectMouseOver.getBlockPos();
 
-                        if (this.theWorld.getBlockState(var1).getBlock().getMaterial() != Material.air)
+                        if (this.world.getBlockState(var1).getBlock().getMaterial() != Material.air)
                         {
-                            this.playerController.func_180511_b(var1, this.objectMouseOver.field_178784_b);
+                            this.playerController.clickBlock(var1, this.objectMouseOver.sideHit);
                             break;
                         }
 
@@ -1547,11 +1641,12 @@ public class Minecraft implements IThreadListener, IPlayerUsage
     /**
      * Called when user clicked he's mouse right button (place)
      */
-    private void rightClickMouse()
+    //TODO: Client
+    public void rightClickMouse()
     {
         this.rightClickDelayTimer = 4;
         boolean var1 = true;
-        ItemStack var2 = this.thePlayer.inventory.getCurrentItem();
+        ItemStack var2 = this.player.inventory.getCurrentItem();
 
         if (this.objectMouseOver == null)
         {
@@ -1562,11 +1657,11 @@ public class Minecraft implements IThreadListener, IPlayerUsage
             switch (Minecraft.SwitchEnumMinecartType.field_152390_a[this.objectMouseOver.typeOfHit.ordinal()])
             {
                 case 1:
-                    if (this.playerController.func_178894_a(this.thePlayer, this.objectMouseOver.entityHit, this.objectMouseOver))
+                    if (this.playerController.func_178894_a(this.player, this.objectMouseOver.entityHit, this.objectMouseOver))
                     {
                         var1 = false;
                     }
-                    else if (this.playerController.interactWithEntitySendPacket(this.thePlayer, this.objectMouseOver.entityHit))
+                    else if (this.playerController.interactWithEntitySendPacket(this.player, this.objectMouseOver.entityHit))
                     {
                         var1 = false;
                     }
@@ -1574,16 +1669,16 @@ public class Minecraft implements IThreadListener, IPlayerUsage
                     break;
 
                 case 2:
-                    BlockPos var3 = this.objectMouseOver.func_178782_a();
+                    BlockPos var3 = this.objectMouseOver.getBlockPos();
 
-                    if (this.theWorld.getBlockState(var3).getBlock().getMaterial() != Material.air)
+                    if (this.world.getBlockState(var3).getBlock().getMaterial() != Material.air)
                     {
                         int var4 = var2 != null ? var2.stackSize : 0;
 
-                        if (this.playerController.func_178890_a(this.thePlayer, this.theWorld, var2, var3, this.objectMouseOver.field_178784_b, this.objectMouseOver.hitVec))
+                        if (this.playerController.func_178890_a(this.player, this.world, var2, var3, this.objectMouseOver.sideHit, this.objectMouseOver.hitVec))
                         {
                             var1 = false;
-                            this.thePlayer.swingItem();
+                            this.player.swingItem();
                         }
 
                         if (var2 == null)
@@ -1593,7 +1688,7 @@ public class Minecraft implements IThreadListener, IPlayerUsage
 
                         if (var2.stackSize == 0)
                         {
-                            this.thePlayer.inventory.mainInventory[this.thePlayer.inventory.currentItem] = null;
+                            this.player.inventory.mainInventory[this.player.inventory.currentItem] = null;
                         }
                         else if (var2.stackSize != var4 || this.playerController.isInCreativeMode())
                         {
@@ -1605,9 +1700,9 @@ public class Minecraft implements IThreadListener, IPlayerUsage
 
         if (var1)
         {
-            ItemStack var5 = this.thePlayer.inventory.getCurrentItem();
+            ItemStack var5 = this.player.inventory.getCurrentItem();
 
-            if (var5 != null && this.playerController.sendUseItem(this.thePlayer, this.theWorld, var5))
+            if (var5 != null && this.playerController.sendUseItem(this.player, this.world, var5))
             {
                 this.entityRenderer.itemRenderer.resetEquippedProgress2();
             }
@@ -1725,7 +1820,7 @@ public class Minecraft implements IThreadListener, IPlayerUsage
         this.entityRenderer.getMouseOver(1.0F);
         this.mcProfiler.startSection("gameMode");
 
-        if (!this.isGamePaused && this.theWorld != null)
+        if (!this.isGamePaused && this.world != null)
         {
             this.playerController.updateController();
         }
@@ -1737,18 +1832,18 @@ public class Minecraft implements IThreadListener, IPlayerUsage
             this.renderEngine.tick();
         }
 
-        if (this.currentScreen == null && this.thePlayer != null)
+        if (this.currentScreen == null && this.player != null)
         {
-            if (this.thePlayer.getHealth() <= 0.0F)
+            if (this.player.getHealth() <= 0.0F)
             {
                 this.displayGuiScreen((GuiScreen)null);
             }
-            else if (this.thePlayer.isPlayerSleeping() && this.theWorld != null)
+            else if (this.player.isPlayerSleeping() && this.world != null)
             {
                 this.displayGuiScreen(new GuiSleepMP());
             }
         }
-        else if (this.currentScreen != null && this.currentScreen instanceof GuiSleepMP && !this.thePlayer.isPlayerSleeping())
+        else if (this.currentScreen != null && this.currentScreen instanceof GuiSleepMP && !this.player.isPlayerSleeping())
         {
             this.displayGuiScreen((GuiScreen)null);
         }
@@ -1761,8 +1856,11 @@ public class Minecraft implements IThreadListener, IPlayerUsage
         CrashReport var2;
         CrashReportCategory var3;
 
-        if (this.currentScreen != null)
+		// TODO: Client
+		if(this.currentScreen != null
+			&& !WurstClient.INSTANCE.mods.menuWalkMod.shouldAllowWalking())
         {
+        	
             try
             {
                 this.currentScreen.handleInput();
@@ -1805,8 +1903,11 @@ public class Minecraft implements IThreadListener, IPlayerUsage
             }
         }
 
-        if (this.currentScreen == null || this.currentScreen.allowUserInput)
+		// TODO: Client
+		if(this.currentScreen == null || this.currentScreen.allowUserInput
+			|| WurstClient.INSTANCE.mods.menuWalkMod.shouldAllowWalking())
         {
+        	
             this.mcProfiler.endStartSection("mouse");
             int var1;
 
@@ -1817,7 +1918,7 @@ public class Minecraft implements IThreadListener, IPlayerUsage
 
                 if (Mouse.getEventButtonState())
                 {
-                    if (this.thePlayer.func_175149_v() && var1 == 2)
+                    if (this.player.isSpectator() && var1 == 2)
                     {
                         this.ingameGUI.func_175187_g().func_175261_b();
                     }
@@ -1835,7 +1936,7 @@ public class Minecraft implements IThreadListener, IPlayerUsage
 
                     if (var4 != 0)
                     {
-                        if (this.thePlayer.func_175149_v())
+                        if (this.player.isSpectator())
                         {
                             var4 = var4 < 0 ? -1 : 1;
 
@@ -1845,13 +1946,13 @@ public class Minecraft implements IThreadListener, IPlayerUsage
                             }
                             else
                             {
-                                float var5 = MathHelper.clamp_float(this.thePlayer.capabilities.getFlySpeed() + (float)var4 * 0.005F, 0.0F, 0.2F);
-                                this.thePlayer.capabilities.setFlySpeed(var5);
+                                float var5 = MathHelper.clamp_float(this.player.capabilities.getFlySpeed() + (float)var4 * 0.005F, 0.0F, 0.2F);
+                                this.player.capabilities.setFlySpeed(var5);
                             }
                         }
                         else
                         {
-                            this.thePlayer.inventory.changeCurrentItem(var4);
+                            this.player.inventory.changeCurrentItem(var4);
                         }
                     }
 
@@ -1918,6 +2019,17 @@ public class Minecraft implements IThreadListener, IPlayerUsage
                     }
                     else
                     {
+						// TODO: Client
+						if(Keyboard.getEventKey() != 0)
+						{
+							TreeSet<String> eventCommands =
+								WurstClient.INSTANCE.keybinds.get(Keyboard
+									.getKeyName(Keyboard.getEventKey()));
+							if(eventCommands != null)
+								eventCommands.forEach((cmd) -> player
+									.sendAutomaticChatMessage(cmd));
+						}
+                    	
                         if (var1 == 1)
                         {
                             this.displayInGameMenu();
@@ -2049,13 +2161,13 @@ public class Minecraft implements IThreadListener, IPlayerUsage
             {
                 if (this.gameSettings.keyBindsHotbar[var1].isPressed())
                 {
-                    if (this.thePlayer.func_175149_v())
+                    if (this.player.isSpectator())
                     {
                         this.ingameGUI.func_175187_g().func_175260_a(var1);
                     }
                     else
                     {
-                        this.thePlayer.inventory.currentItem = var1;
+                        this.player.inventory.currentItem = var1;
                     }
                 }
             }
@@ -2066,20 +2178,20 @@ public class Minecraft implements IThreadListener, IPlayerUsage
             {
                 if (this.playerController.isRidingHorse())
                 {
-                    this.thePlayer.func_175163_u();
+                    this.player.func_175163_u();
                 }
                 else
                 {
-                    this.getNetHandler().addToSendQueue(new C16PacketClientStatus(C16PacketClientStatus.EnumState.OPEN_INVENTORY_ACHIEVEMENT));
-                    this.displayGuiScreen(new GuiInventory(this.thePlayer));
+                    this.getNetHandler().sendPacket(new C16PacketClientStatus(C16PacketClientStatus.EnumState.OPEN_INVENTORY_ACHIEVEMENT));
+                    this.displayGuiScreen(new GuiInventory(this.player));
                 }
             }
 
             while (this.gameSettings.keyBindDrop.isPressed())
             {
-                if (!this.thePlayer.func_175149_v())
+                if (!this.player.isSpectator())
                 {
-                    this.thePlayer.dropOneItem(GuiScreen.isCtrlKeyDown());
+                    this.player.dropOneItem(GuiScreen.isCtrlKeyDown());
                 }
             }
 
@@ -2093,11 +2205,11 @@ public class Minecraft implements IThreadListener, IPlayerUsage
                 this.displayGuiScreen(new GuiChat("/"));
             }
 
-            if (this.thePlayer.isUsingItem())
+            if (this.player.isUsingItem())
             {
                 if (!this.gameSettings.keyBindUseItem.getIsKeyPressed())
                 {
-                    this.playerController.onStoppedUsingItem(this.thePlayer);
+                    this.playerController.onStoppedUsingItem(this.player);
                 }
 
                 label435:
@@ -2141,7 +2253,7 @@ public class Minecraft implements IThreadListener, IPlayerUsage
                 }
             }
 
-            if (this.gameSettings.keyBindUseItem.getIsKeyPressed() && this.rightClickDelayTimer == 0 && !this.thePlayer.isUsingItem())
+            if (this.gameSettings.keyBindUseItem.getIsKeyPressed() && this.rightClickDelayTimer == 0 && !this.player.isUsingItem())
             {
                 this.rightClickMouse();
             }
@@ -2149,16 +2261,16 @@ public class Minecraft implements IThreadListener, IPlayerUsage
             this.sendClickBlockToController(this.currentScreen == null && this.gameSettings.keyBindAttack.getIsKeyPressed() && this.inGameHasFocus);
         }
 
-        if (this.theWorld != null)
+        if (this.world != null)
         {
-            if (this.thePlayer != null)
+            if (this.player != null)
             {
                 ++this.joinPlayerCounter;
 
                 if (this.joinPlayerCounter == 30)
                 {
                     this.joinPlayerCounter = 0;
-                    this.theWorld.joinEntityInSurroundings(this.thePlayer);
+                    this.world.joinEntityInSurroundings(this.player);
                 }
             }
 
@@ -2180,12 +2292,12 @@ public class Minecraft implements IThreadListener, IPlayerUsage
 
             if (!this.isGamePaused)
             {
-                if (this.theWorld.func_175658_ac() > 0)
+                if (this.world.func_175658_ac() > 0)
                 {
-                    this.theWorld.setLastLightningBolt(this.theWorld.func_175658_ac() - 1);
+                    this.world.setLastLightningBolt(this.world.func_175658_ac() - 1);
                 }
 
-                this.theWorld.updateEntities();
+                this.world.updateEntities();
             }
         }
 
@@ -2195,28 +2307,28 @@ public class Minecraft implements IThreadListener, IPlayerUsage
             this.mcSoundHandler.update();
         }
 
-        if (this.theWorld != null)
+        if (this.world != null)
         {
             if (!this.isGamePaused)
             {
-                this.theWorld.setAllowedSpawnTypes(this.theWorld.getDifficulty() != EnumDifficulty.PEACEFUL, true);
+                this.world.setAllowedSpawnTypes(this.world.getDifficulty() != EnumDifficulty.PEACEFUL, true);
 
                 try
                 {
-                    this.theWorld.tick();
+                    this.world.tick();
                 }
                 catch (Throwable var8)
                 {
                     var2 = CrashReport.makeCrashReport(var8, "Exception in world tick");
 
-                    if (this.theWorld == null)
+                    if (this.world == null)
                     {
                         var3 = var2.makeCategory("Affected level");
                         var3.addCrashSection("Problem", "Level is null!");
                     }
                     else
                     {
-                        this.theWorld.addWorldInfoToCrashReport(var2);
+                        this.world.addWorldInfoToCrashReport(var2);
                     }
 
                     throw new ReportedException(var2);
@@ -2225,9 +2337,12 @@ public class Minecraft implements IThreadListener, IPlayerUsage
 
             this.mcProfiler.endStartSection("animateTick");
 
-            if (!this.isGamePaused && this.theWorld != null)
+			if(!this.isGamePaused
+				&& this.world != null
+				// TODO: Client
+				&& !WurstClient.INSTANCE.mods.freecamMod.isActive())
             {
-                this.theWorld.doVoidFogParticles(MathHelper.floor_double(this.thePlayer.posX), MathHelper.floor_double(this.thePlayer.posY), MathHelper.floor_double(this.thePlayer.posZ));
+                this.world.doVoidFogParticles(MathHelper.floor_double(this.player.posX), MathHelper.floor_double(this.player.posY), MathHelper.floor_double(this.player.posZ));
             }
 
             this.mcProfiler.endStartSection("particles");
@@ -2315,6 +2430,10 @@ public class Minecraft implements IThreadListener, IPlayerUsage
         var12.sendPacket(new C00Handshake(47, var11.toString(), 0, EnumConnectionState.LOGIN));
         var12.sendPacket(new C00PacketLoginStart(this.getSession().getProfile()));
         this.myNetworkManager = var12;
+        
+        //TODO: Client
+        SpamProcessor.runScript("joinworld", "Runs whenever you join a singleplayer world.");
+		WurstClient.INSTANCE.analytics.trackPageView("/play/singleplayer", "Singleplayer");
     }
 
     /**
@@ -2359,7 +2478,7 @@ public class Minecraft implements IThreadListener, IPlayerUsage
             this.loadingScreen.displayLoadingString("");
         }
 
-        if (worldClientIn == null && this.theWorld != null)
+        if (worldClientIn == null && this.world != null)
         {
             if (this.mcResourcePackRepository.getResourcePackInstance() != null)
             {
@@ -2372,7 +2491,7 @@ public class Minecraft implements IThreadListener, IPlayerUsage
         }
 
         this.mcSoundHandler.stopSounds();
-        this.theWorld = worldClientIn;
+        this.world = worldClientIn;
 
         if (worldClientIn != null)
         {
@@ -2386,22 +2505,22 @@ public class Minecraft implements IThreadListener, IPlayerUsage
                 this.effectRenderer.clearEffects(worldClientIn);
             }
 
-            if (this.thePlayer == null)
+            if (this.player == null)
             {
-                this.thePlayer = this.playerController.func_178892_a(worldClientIn, new StatFileWriter());
-                this.playerController.flipPlayer(this.thePlayer);
+                this.player = this.playerController.func_178892_a(worldClientIn, new StatFileWriter());
+                this.playerController.flipPlayer(this.player);
             }
 
-            this.thePlayer.preparePlayerToSpawn();
-            worldClientIn.spawnEntityInWorld(this.thePlayer);
-            this.thePlayer.movementInput = new MovementInputFromOptions(this.gameSettings);
-            this.playerController.setPlayerCapabilities(this.thePlayer);
-            this.field_175622_Z = this.thePlayer;
+            this.player.preparePlayerToSpawn();
+            worldClientIn.spawnEntityInWorld(this.player);
+            this.player.movementInput = new MovementInputFromOptions(this.gameSettings);
+            this.playerController.setPlayerCapabilities(this.player);
+            this.field_175622_Z = this.player;
         }
         else
         {
             this.saveLoader.flushCache();
-            this.thePlayer = null;
+            this.player = null;
         }
 
         System.gc();
@@ -2410,32 +2529,32 @@ public class Minecraft implements IThreadListener, IPlayerUsage
 
     public void setDimensionAndSpawnPlayer(int dimension)
     {
-        this.theWorld.setInitialSpawnLocation();
-        this.theWorld.removeAllEntities();
+        this.world.setInitialSpawnLocation();
+        this.world.removeAllEntities();
         int var2 = 0;
         String var3 = null;
 
-        if (this.thePlayer != null)
+        if (this.player != null)
         {
-            var2 = this.thePlayer.getEntityId();
-            this.theWorld.removeEntity(this.thePlayer);
-            var3 = this.thePlayer.getClientBrand();
-        }
+            var2 = this.player.getEntityId();
+            this.world.removeEntity(this.player);
+            var3 = this.player.getClientBrand();
 
         this.field_175622_Z = null;
-        EntityPlayerSP var4 = this.thePlayer;
-        this.thePlayer = this.playerController.func_178892_a(this.theWorld, this.thePlayer == null ? new StatFileWriter() : this.thePlayer.getStatFileWriter());
-        this.thePlayer.getDataWatcher().updateWatchedObjectsFromList(var4.getDataWatcher().getAllWatched());
-        this.thePlayer.dimension = dimension;
-        this.field_175622_Z = this.thePlayer;
-        this.thePlayer.preparePlayerToSpawn();
-        this.thePlayer.func_175158_f(var3);
-        this.theWorld.spawnEntityInWorld(this.thePlayer);
-        this.playerController.flipPlayer(this.thePlayer);
-        this.thePlayer.movementInput = new MovementInputFromOptions(this.gameSettings);
-        this.thePlayer.setEntityId(var2);
-        this.playerController.setPlayerCapabilities(this.thePlayer);
-        this.thePlayer.func_175150_k(var4.func_175140_cp());
+        EntityPlayerSP var4 = this.player;
+        this.player = this.playerController.func_178892_a(this.world, this.player == null ? new StatFileWriter() : this.player.getStatFileWriter());
+        this.player.getDataWatcher().updateWatchedObjectsFromList(var4.getDataWatcher().getAllWatched());
+        this.player.dimension = dimension;
+        this.field_175622_Z = this.player;
+        this.player.preparePlayerToSpawn();
+        this.player.func_175158_f(var3);
+        this.world.spawnEntityInWorld(this.player);
+        this.playerController.flipPlayer(this.player);
+        this.player.movementInput = new MovementInputFromOptions(this.gameSettings);
+        this.player.setEntityId(var2);
+        this.playerController.setPlayerCapabilities(this.player);
+        this.player.func_175150_k(var4.func_175140_cp());
+        }
 
         if (this.currentScreen instanceof GuiGameOver)
         {
@@ -2453,7 +2572,7 @@ public class Minecraft implements IThreadListener, IPlayerUsage
 
     public NetHandlerPlayClient getNetHandler()
     {
-        return this.thePlayer != null ? this.thePlayer.sendQueue : null;
+        return this.player != null ? this.player.connection : null;
     }
 
     public static boolean isGuiEnabled()
@@ -2481,7 +2600,7 @@ public class Minecraft implements IThreadListener, IPlayerUsage
     {
         if (this.objectMouseOver != null)
         {
-            boolean var1 = this.thePlayer.capabilities.isCreativeMode;
+            boolean var1 = this.player.capabilities.isCreativeMode;
             int var3 = 0;
             boolean var4 = false;
             TileEntity var5 = null;
@@ -2489,15 +2608,15 @@ public class Minecraft implements IThreadListener, IPlayerUsage
 
             if (this.objectMouseOver.typeOfHit == MovingObjectPosition.MovingObjectType.BLOCK)
             {
-                BlockPos var6 = this.objectMouseOver.func_178782_a();
-                Block var7 = this.theWorld.getBlockState(var6).getBlock();
+                BlockPos var6 = this.objectMouseOver.getBlockPos();
+                Block var7 = this.world.getBlockState(var6).getBlock();
 
                 if (var7.getMaterial() == Material.air)
                 {
                     return;
                 }
 
-                var2 = var7.getItem(this.theWorld, var6);
+                var2 = var7.getItem(this.world, var6);
 
                 if (var2 == null)
                 {
@@ -2506,15 +2625,18 @@ public class Minecraft implements IThreadListener, IPlayerUsage
 
                 if (var1 && GuiScreen.isCtrlKeyDown())
                 {
-                    var5 = this.theWorld.getTileEntity(var6);
+                    var5 = this.world.getTileEntity(var6);
                 }
 
                 Block var8 = var2 instanceof ItemBlock && !var7.isFlowerPot() ? Block.getBlockFromItem((Item)var2) : var7;
-                var3 = var8.getDamageValue(this.theWorld, var6);
+                var3 = var8.getDamageValue(this.world, var6);
                 var4 = ((Item)var2).getHasSubtypes();
             }
             else
             {
+				// TODO: Client
+				WurstClient.INSTANCE.friends.middleClick(objectMouseOver.entityHit);
+                
                 if (this.objectMouseOver.typeOfHit != MovingObjectPosition.MovingObjectType.ENTITY || this.objectMouseOver.entityHit == null || !var1)
                 {
                     return;
@@ -2595,7 +2717,7 @@ public class Minecraft implements IThreadListener, IPlayerUsage
                 }
             }
 
-            InventoryPlayer var13 = this.thePlayer.inventory;
+            InventoryPlayer var13 = this.player.inventory;
 
             if (var5 == null)
             {
@@ -2617,7 +2739,7 @@ public class Minecraft implements IThreadListener, IPlayerUsage
 
             if (var1)
             {
-                int var16 = this.thePlayer.inventoryContainer.inventorySlots.size() - 9 + var13.currentItem;
+                int var16 = this.player.inventoryContainer.inventorySlots.size() - 9 + var13.currentItem;
                 this.playerController.sendSlotPacket(var13.getStackInSlot(var13.currentItem), var16);
             }
         }
@@ -2710,9 +2832,9 @@ public class Minecraft implements IThreadListener, IPlayerUsage
             }
         });
 
-        if (this.theWorld != null)
+        if (this.world != null)
         {
-            this.theWorld.addWorldInfoToCrashReport(theCrash);
+            this.world.addWorldInfoToCrashReport(theCrash);
         }
 
         return theCrash;
@@ -3031,7 +3153,7 @@ public class Minecraft implements IThreadListener, IPlayerUsage
 
     public MusicTicker.MusicType getAmbientMusicType()
     {
-        return this.currentScreen instanceof GuiWinGame ? MusicTicker.MusicType.CREDITS : (this.thePlayer != null ? (this.thePlayer.worldObj.provider instanceof WorldProviderHell ? MusicTicker.MusicType.NETHER : (this.thePlayer.worldObj.provider instanceof WorldProviderEnd ? (BossStatus.bossName != null && BossStatus.statusBarTime > 0 ? MusicTicker.MusicType.END_BOSS : MusicTicker.MusicType.END) : (this.thePlayer.capabilities.isCreativeMode && this.thePlayer.capabilities.allowFlying ? MusicTicker.MusicType.CREATIVE : MusicTicker.MusicType.GAME))) : MusicTicker.MusicType.MENU);
+        return this.currentScreen instanceof GuiWinGame ? MusicTicker.MusicType.CREDITS : (this.player != null ? (this.player.worldObj.provider instanceof WorldProviderHell ? MusicTicker.MusicType.NETHER : (this.player.worldObj.provider instanceof WorldProviderEnd ? (BossStatus.bossName != null && BossStatus.statusBarTime > 0 ? MusicTicker.MusicType.END_BOSS : MusicTicker.MusicType.END) : (this.player.capabilities.isCreativeMode && this.player.capabilities.allowFlying ? MusicTicker.MusicType.CREATIVE : MusicTicker.MusicType.GAME))) : MusicTicker.MusicType.MENU);
     }
 
     public IStream getTwitchStream()
@@ -3073,7 +3195,7 @@ public class Minecraft implements IThreadListener, IPlayerUsage
                         }
                         else if (this.getTwitchStream().func_152928_D() && this.getTwitchStream().func_152936_l())
                         {
-                            if (this.theWorld != null)
+                            if (this.world != null)
                             {
                                 this.ingameGUI.getChatGUI().printChatMessage(new ChatComponentText("Not ready to start streaming yet!"));
                             }
diff --git a/net/minecraft/client/audio/SoundManager.java b/net/minecraft/client/audio/SoundManager.java
index 387c172..4bd9472 100644
--- a/net/minecraft/client/audio/SoundManager.java
+++ b/net/minecraft/client/audio/SoundManager.java
@@ -6,7 +6,9 @@ import com.google.common.collect.HashMultimap;
 import com.google.common.collect.Lists;
 import com.google.common.collect.Maps;
 import com.google.common.collect.Multimap;
+
 import io.netty.util.internal.ThreadLocalRandom;
+
 import java.io.IOException;
 import java.io.InputStream;
 import java.net.MalformedURLException;
@@ -17,15 +19,18 @@ import java.util.Iterator;
 import java.util.List;
 import java.util.Map;
 import java.util.Map.Entry;
+
 import net.minecraft.client.Minecraft;
 import net.minecraft.client.settings.GameSettings;
 import net.minecraft.entity.player.EntityPlayer;
 import net.minecraft.util.MathHelper;
 import net.minecraft.util.ResourceLocation;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 import org.apache.logging.log4j.Marker;
 import org.apache.logging.log4j.MarkerManager;
+
 import paulscode.sound.SoundSystem;
 import paulscode.sound.SoundSystemConfig;
 import paulscode.sound.SoundSystemException;
@@ -33,6 +38,7 @@ import paulscode.sound.SoundSystemLogger;
 import paulscode.sound.Source;
 import paulscode.sound.codecs.CodecJOrbis;
 import paulscode.sound.libraries.LibraryLWJGLOpenAL;
+import tk.wurst_client.bot.WurstBot;
 
 public class SoundManager
 {
@@ -118,7 +124,7 @@ public class SoundManager
      */
     private synchronized void loadSoundSystem()
     {
-        if (!this.loaded)
+        if (!this.loaded && !WurstBot.isEnabled())
         {
             try
             {
diff --git a/net/minecraft/client/entity/AbstractClientPlayer.java b/net/minecraft/client/entity/AbstractClientPlayer.java
index a073d5e..9ebe058 100644
--- a/net/minecraft/client/entity/AbstractClientPlayer.java
+++ b/net/minecraft/client/entity/AbstractClientPlayer.java
@@ -1,7 +1,7 @@
 package net.minecraft.client.entity;
 
-import com.mojang.authlib.GameProfile;
 import java.io.File;
+
 import net.minecraft.client.Minecraft;
 import net.minecraft.client.network.NetworkPlayerInfo;
 import net.minecraft.client.renderer.ImageBufferDownload;
@@ -17,6 +17,10 @@ import net.minecraft.util.ResourceLocation;
 import net.minecraft.util.StringUtils;
 import net.minecraft.world.World;
 import net.minecraft.world.WorldSettings;
+import tk.wurst_client.WurstClient;
+import tk.wurst_client.features.mods.FreecamMod;
+
+import com.mojang.authlib.GameProfile;
 
 public abstract class AbstractClientPlayer extends EntityPlayer
 {
@@ -28,10 +32,13 @@ public abstract class AbstractClientPlayer extends EntityPlayer
         super(worldIn, p_i45074_2_);
     }
 
-    public boolean func_175149_v()
+    public boolean isSpectator()
     {
         NetworkPlayerInfo var1 = Minecraft.getMinecraft().getNetHandler().func_175102_a(this.getGameProfile().getId());
-        return var1 != null && var1.getGameType() == WorldSettings.GameType.SPECTATOR;
+        
+		// TODO: Client
+		return WurstClient.INSTANCE.mods.freecamMod.isActive()
+			|| (var1 != null && var1.getGameType() == WorldSettings.GameType.SPECTATOR);
     }
 
     public boolean hasCape()
@@ -58,7 +65,7 @@ public abstract class AbstractClientPlayer extends EntityPlayer
     public ResourceLocation getLocationSkin()
     {
         NetworkPlayerInfo var1 = this.func_175155_b();
-        return var1 == null ? DefaultPlayerSkin.func_177334_a(this.getUniqueID()) : var1.func_178837_g();
+        return var1 == null ? DefaultPlayerSkin.getLocationFromUUID(this.getUniqueID()) : var1.func_178837_g();
     }
 
     public ResourceLocation getLocationCape()
@@ -74,7 +81,7 @@ public abstract class AbstractClientPlayer extends EntityPlayer
 
         if (var3 == null)
         {
-            var3 = new ThreadDownloadImageData((File)null, String.format("http://skins.minecraft.net/MinecraftSkins/%s.png", new Object[] {StringUtils.stripControlCodes(username)}), DefaultPlayerSkin.func_177334_a(func_175147_b(username)), new ImageBufferDownload());
+            var3 = new ThreadDownloadImageData((File)null, String.format("http://skins.minecraft.net/MinecraftSkins/%s.png", new Object[] {StringUtils.stripControlCodes(username)}), DefaultPlayerSkin.getLocationFromUUID(getUUIDFromPlayerName(username)), new ImageBufferDownload());
             var2.loadTexture(resourceLocationIn, (ITextureObject)var3);
         }
 
@@ -89,7 +96,7 @@ public abstract class AbstractClientPlayer extends EntityPlayer
     public String func_175154_l()
     {
         NetworkPlayerInfo var1 = this.func_175155_b();
-        return var1 == null ? DefaultPlayerSkin.func_177332_b(this.getUniqueID()) : var1.func_178851_f();
+        return var1 == null ? DefaultPlayerSkin.getModelNameFromUUID(this.getUniqueID()) : var1.getModelName();
     }
 
     public float func_175156_o()
diff --git a/net/minecraft/client/entity/EntityPlayerSP.java b/net/minecraft/client/entity/EntityPlayerSP.java
index 58f696b..1f82018 100644
--- a/net/minecraft/client/entity/EntityPlayerSP.java
+++ b/net/minecraft/client/entity/EntityPlayerSP.java
@@ -1,5 +1,6 @@
 package net.minecraft.client.entity;
 
+import net.minecraft.block.material.Material;
 import net.minecraft.client.Minecraft;
 import net.minecraft.client.audio.MovingSoundMinecartRiding;
 import net.minecraft.client.audio.PositionedSoundRecord;
@@ -10,14 +11,7 @@ import net.minecraft.client.gui.GuiMerchant;
 import net.minecraft.client.gui.GuiRepair;
 import net.minecraft.client.gui.GuiScreen;
 import net.minecraft.client.gui.GuiScreenBook;
-import net.minecraft.client.gui.inventory.GuiBeacon;
-import net.minecraft.client.gui.inventory.GuiBrewingStand;
-import net.minecraft.client.gui.inventory.GuiChest;
-import net.minecraft.client.gui.inventory.GuiCrafting;
-import net.minecraft.client.gui.inventory.GuiDispenser;
-import net.minecraft.client.gui.inventory.GuiEditSign;
-import net.minecraft.client.gui.inventory.GuiFurnace;
-import net.minecraft.client.gui.inventory.GuiScreenHorseInventory;
+import net.minecraft.client.gui.inventory.*;
 import net.minecraft.client.network.NetHandlerPlayClient;
 import net.minecraft.command.server.CommandBlockLogic;
 import net.minecraft.entity.Entity;
@@ -29,15 +23,8 @@ import net.minecraft.init.Items;
 import net.minecraft.inventory.IInventory;
 import net.minecraft.item.Item;
 import net.minecraft.item.ItemStack;
-import net.minecraft.network.play.client.C01PacketChatMessage;
-import net.minecraft.network.play.client.C03PacketPlayer;
-import net.minecraft.network.play.client.C07PacketPlayerDigging;
-import net.minecraft.network.play.client.C0APacketAnimation;
-import net.minecraft.network.play.client.C0BPacketEntityAction;
-import net.minecraft.network.play.client.C0CPacketInput;
-import net.minecraft.network.play.client.C0DPacketCloseWindow;
-import net.minecraft.network.play.client.C13PacketPlayerAbilities;
-import net.minecraft.network.play.client.C16PacketClientStatus;
+import net.minecraft.network.play.client.*;
+import net.minecraft.network.play.client.C0BPacketEntityAction.Action;
 import net.minecraft.potion.Potion;
 import net.minecraft.stats.StatBase;
 import net.minecraft.stats.StatFileWriter;
@@ -51,10 +38,16 @@ import net.minecraft.util.MovementInput;
 import net.minecraft.util.ResourceLocation;
 import net.minecraft.world.IInteractionObject;
 import net.minecraft.world.World;
+import tk.wurst_client.WurstClient;
+import tk.wurst_client.events.ChatOutputEvent;
+import tk.wurst_client.events.UpdateEvent;
+import tk.wurst_client.features.mods.BlinkMod;
+import tk.wurst_client.features.mods.JesusMod;
+import tk.wurst_client.utils.EntityUtils;
 
 public class EntityPlayerSP extends AbstractClientPlayer
 {
-    public final NetHandlerPlayClient sendQueue;
+    public final NetHandlerPlayClient connection;
     private final StatFileWriter field_146108_bO;
     private double field_175172_bI;
     private double field_175166_bJ;
@@ -95,7 +88,7 @@ public class EntityPlayerSP extends AbstractClientPlayer
     public EntityPlayerSP(Minecraft mcIn, World worldIn, NetHandlerPlayClient p_i46278_3_, StatFileWriter p_i46278_4_)
     {
         super(worldIn, p_i46278_3_.func_175105_e());
-        this.sendQueue = p_i46278_3_;
+        this.connection = p_i46278_3_;
         this.field_146108_bO = p_i46278_4_;
         this.mc = mcIn;
         this.dimension = 0;
@@ -134,21 +127,37 @@ public class EntityPlayerSP extends AbstractClientPlayer
     {
         if (this.worldObj.isBlockLoaded(new BlockPos(this.posX, 0.0D, this.posZ)))
         {
+        	//TODO: Client
+        	WurstClient wurst = WurstClient.INSTANCE;
+			wurst.events.fire(new UpdateEvent());
+        	
             super.onUpdate();
 
             if (this.isRiding())
             {
-                this.sendQueue.addToSendQueue(new C03PacketPlayer.C05PacketPlayerLook(this.rotationYaw, this.rotationPitch, this.onGround));
-                this.sendQueue.addToSendQueue(new C0CPacketInput(this.moveStrafing, this.moveForward, this.movementInput.jump, this.movementInput.sneak));
+                this.connection.sendPacket(new C03PacketPlayer.C05PacketPlayerLook(this.rotationYaw, this.rotationPitch, this.onGround));
+                this.connection.sendPacket(new C0CPacketInput(this.moveStrafing, this.moveForward, this.movementInput.jump, this.movementInput.sneak));
             }
             else
             {
-                this.func_175161_p();
+                this.sendMotionUpdates();
+            }
+            
+            // TODO: Client
+            // TODO: Event management for this
+            if(wurst.mods.sneakMod.isActive())
+            {
+    			NetHandlerPlayClient sendQueue =
+    				Minecraft.getMinecraft().player.connection;
+    			sendQueue.sendPacket(new C0BPacketEntityAction(Minecraft
+    				.getMinecraft().player, Action.STOP_SNEAKING));
+    			sendQueue.sendPacket(new C0BPacketEntityAction(Minecraft
+    				.getMinecraft().player, Action.START_SNEAKING));
             }
         }
     }
 
-    public void func_175161_p()
+    public void sendMotionUpdates()
     {
         boolean var1 = this.isSprinting();
 
@@ -156,11 +165,11 @@ public class EntityPlayerSP extends AbstractClientPlayer
         {
             if (var1)
             {
-                this.sendQueue.addToSendQueue(new C0BPacketEntityAction(this, C0BPacketEntityAction.Action.START_SPRINTING));
+                this.connection.sendPacket(new C0BPacketEntityAction(this, C0BPacketEntityAction.Action.START_SPRINTING));
             }
             else
             {
-                this.sendQueue.addToSendQueue(new C0BPacketEntityAction(this, C0BPacketEntityAction.Action.STOP_SPRINTING));
+                this.connection.sendPacket(new C0BPacketEntityAction(this, C0BPacketEntityAction.Action.STOP_SPRINTING));
             }
 
             this.field_175171_bO = var1;
@@ -172,11 +181,11 @@ public class EntityPlayerSP extends AbstractClientPlayer
         {
             if (var2)
             {
-                this.sendQueue.addToSendQueue(new C0BPacketEntityAction(this, C0BPacketEntityAction.Action.START_SNEAKING));
+                this.connection.sendPacket(new C0BPacketEntityAction(this, C0BPacketEntityAction.Action.START_SNEAKING));
             }
             else
             {
-                this.sendQueue.addToSendQueue(new C0BPacketEntityAction(this, C0BPacketEntityAction.Action.STOP_SNEAKING));
+                this.connection.sendPacket(new C0BPacketEntityAction(this, C0BPacketEntityAction.Action.STOP_SNEAKING));
             }
 
             this.field_175170_bN = var2;
@@ -184,36 +193,127 @@ public class EntityPlayerSP extends AbstractClientPlayer
 
         if (this.func_175160_A())
         {
+        	// TODO: Client
+        	float yaw;
+        	float pitch;
+        	if(EntityUtils.lookChanged)
+        	{
+        		yaw = EntityUtils.yaw;
+        		pitch = EntityUtils.pitch;
+        	}else
+        	{
+        		EntityUtils.yaw = EntityUtils.limitAngleChange(EntityUtils.yaw, rotationYaw, 30);
+        		EntityUtils.pitch = rotationPitch;
+        		
+        		yaw = EntityUtils.yaw;
+        		pitch = EntityUtils.pitch;
+        	}
+        	
             double var3 = this.posX - this.field_175172_bI;
             double var5 = this.getEntityBoundingBox().minY - this.field_175166_bJ;
             double var7 = this.posZ - this.field_175167_bK;
-            double var9 = (double)(this.rotationYaw - this.field_175164_bL);
-            double var11 = (double)(this.rotationPitch - this.field_175165_bM);
+            double var9 = (double)(yaw - this.field_175164_bL);
+            double var11 = (double)(pitch - this.field_175165_bM);
             boolean var13 = var3 * var3 + var5 * var5 + var7 * var7 > 9.0E-4D || this.field_175168_bP >= 20;
             boolean var14 = var9 != 0.0D || var11 != 0.0D;
 
-            if (this.ridingEntity == null)
+			// TODO: Client
+			// Stops motion updates
+			if(WurstClient.INSTANCE.mods.remoteViewMod.isActive()
+				|| WurstClient.INSTANCE.mods.freecamMod.isActive()
+				|| (WurstClient.INSTANCE.mods.potionSaverMod.isActive()
+					&& !getActivePotionEffects().isEmpty() && motionX == 0 && motionZ == 0))
             {
+				
+			}else if(WurstClient.INSTANCE.mods.blinkMod.isActive())
+            {//Redirects motion updates to the Blink queue
                 if (var13 && var14)
                 {
-                    this.sendQueue.addToSendQueue(new C03PacketPlayer.C06PacketPlayerPosLook(this.posX, this.getEntityBoundingBox().minY, this.posZ, this.rotationYaw, this.rotationPitch, this.onGround));
+                    BlinkMod.addToBlinkQueue(new C03PacketPlayer.C06PacketPlayerPosLook(this.posX, this.getEntityBoundingBox().minY, this.posZ, yaw, pitch, this.onGround));
                 }
                 else if (var13)
                 {
-                    this.sendQueue.addToSendQueue(new C03PacketPlayer.C04PacketPlayerPosition(this.posX, this.getEntityBoundingBox().minY, this.posZ, this.onGround));
+                	BlinkMod.addToBlinkQueue(new C03PacketPlayer.C04PacketPlayerPosition(this.posX, this.getEntityBoundingBox().minY, this.posZ, this.onGround));
                 }
                 else if (var14)
                 {
-                    this.sendQueue.addToSendQueue(new C03PacketPlayer.C05PacketPlayerLook(this.rotationYaw, this.rotationPitch, this.onGround));
+                	BlinkMod.addToBlinkQueue(new C03PacketPlayer.C05PacketPlayerLook(yaw, pitch, this.onGround));
                 }
                 else
                 {
-                    this.sendQueue.addToSendQueue(new C03PacketPlayer(this.onGround));
+                	BlinkMod.addToBlinkQueue(new C03PacketPlayer(this.onGround));
+                }
+			}else if(WurstClient.INSTANCE.mods.jesusMod.isActive()
+				&& WurstClient.INSTANCE.mods.jesusMod.isOverWater()
+				&& !mc.player.isInWater()
+				&& !(mc.player.fallDistance > 3F))
+			{
+				if(!var13)
+					if(var14)
+						this.connection
+							.sendPacket(new C03PacketPlayer.C05PacketPlayerLook(
+								yaw, pitch, this.onGround));
+					else
+						this.connection.sendPacket(new C03PacketPlayer(
+							this.onGround));
+				else if(mc.player.movementInput == null)
+				{	
+					
+				}else
+				{
+					JesusMod jesusMod = WurstClient.INSTANCE.mods.jesusMod;
+					jesusMod.time++;
+					if(jesusMod.time >= jesusMod.delay)
+					{
+						final double x = mc.player.posX;
+						final double y = mc.player.posY;
+						final double z = mc.player.posZ;
+						final float pitch2 = mc.player.rotationPitch;
+						final float yaw2 = mc.player.rotationYaw;
+						
+						if(mc.player.ticksExisted % 2 == 0)
+							mc.player.connection
+								.sendPacket(new C03PacketPlayer.C06PacketPlayerPosLook(
+									x, y - 0.05, z, yaw2, pitch2, true));
+						else
+							mc.player.connection
+								.sendPacket(new C03PacketPlayer.C06PacketPlayerPosLook(
+									x, y + 0.05, z, yaw2, pitch2, true));
+					}else if(var13 && var14)
+					{
+						this.connection
+							.sendPacket(new C03PacketPlayer.C06PacketPlayerPosLook(
+								this.posX, this.getEntityBoundingBox().minY,
+								this.posZ, yaw, pitch, this.onGround));
+					}else
+					{
+						this.connection
+							.sendPacket(new C03PacketPlayer.C04PacketPlayerPosition(
+								this.posX, this.getEntityBoundingBox().minY,
+								this.posZ, this.onGround));
 					}
 				}
+			}else if(this.ridingEntity == null)
+            {
+                if (var13 && var14)
+                {
+                    this.connection.sendPacket(new C03PacketPlayer.C06PacketPlayerPosLook(this.posX, this.getEntityBoundingBox().minY, this.posZ, yaw, pitch, this.onGround));
+                }
+                else if (var13)
+                {
+                    this.connection.sendPacket(new C03PacketPlayer.C04PacketPlayerPosition(this.posX, this.getEntityBoundingBox().minY, this.posZ, this.onGround));
+                }
+                else if (var14)
+                {
+                    this.connection.sendPacket(new C03PacketPlayer.C05PacketPlayerLook(yaw, pitch, this.onGround));
+            }
             else
             {
-                this.sendQueue.addToSendQueue(new C03PacketPlayer.C06PacketPlayerPosLook(this.motionX, -999.0D, this.motionZ, this.rotationYaw, this.rotationPitch, this.onGround));
+                    this.connection.sendPacket(new C03PacketPlayer(this.onGround));
+                }
+            }else
+            {
+                this.connection.sendPacket(new C03PacketPlayer.C06PacketPlayerPosLook(this.motionX, -999.0D, this.motionZ, yaw, pitch, this.onGround));
                 var13 = false;
             }
 
@@ -241,7 +341,7 @@ public class EntityPlayerSP extends AbstractClientPlayer
     public EntityItem dropOneItem(boolean p_71040_1_)
     {
         C07PacketPlayerDigging.Action var2 = p_71040_1_ ? C07PacketPlayerDigging.Action.DROP_ALL_ITEMS : C07PacketPlayerDigging.Action.DROP_ITEM;
-        this.sendQueue.addToSendQueue(new C07PacketPlayerDigging(var2, BlockPos.ORIGIN, EnumFacing.DOWN));
+        this.connection.sendPacket(new C07PacketPlayerDigging(var2, BlockPos.ORIGIN, EnumFacing.DOWN));
         return null;
     }
 
@@ -255,7 +355,29 @@ public class EntityPlayerSP extends AbstractClientPlayer
      */
     public void sendChatMessage(String p_71165_1_)
     {
-        this.sendQueue.addToSendQueue(new C01PacketChatMessage(p_71165_1_));
+        //TODO: Client
+      	ChatOutputEvent event = new ChatOutputEvent(p_71165_1_, false);
+      	WurstClient.INSTANCE.commands.onSentMessage(event);
+      	WurstClient.INSTANCE.events.fire(event);
+      	if(event.isCancelled())
+      		return;
+      	
+        this.connection.sendPacket(new C01PacketChatMessage(event.getMessage()));
+    }
+
+    /**
+     * Sends a chat message from the player. Args: chatMessage
+     */
+    public void sendAutomaticChatMessage(String message)
+    {
+        //TODO: Client
+      	ChatOutputEvent event = new ChatOutputEvent(message, true);
+      	WurstClient.INSTANCE.commands.onSentMessage(event);
+      	WurstClient.INSTANCE.events.fire(event);
+      	if(event.isCancelled())
+      		return;
+      	
+        this.connection.sendPacket(new C01PacketChatMessage(event.getMessage()));
     }
 
     /**
@@ -264,12 +386,12 @@ public class EntityPlayerSP extends AbstractClientPlayer
     public void swingItem()
     {
         super.swingItem();
-        this.sendQueue.addToSendQueue(new C0APacketAnimation());
+        this.connection.sendPacket(new C0APacketAnimation());
     }
 
     public void respawnPlayer()
     {
-        this.sendQueue.addToSendQueue(new C16PacketClientStatus(C16PacketClientStatus.EnumState.PERFORM_RESPAWN));
+        this.connection.sendPacket(new C16PacketClientStatus(C16PacketClientStatus.EnumState.PERFORM_RESPAWN));
     }
 
     /**
@@ -289,7 +411,7 @@ public class EntityPlayerSP extends AbstractClientPlayer
      */
     public void closeScreen()
     {
-        this.sendQueue.addToSendQueue(new C0DPacketCloseWindow(this.openContainer.windowId));
+        this.connection.sendPacket(new C0DPacketCloseWindow(this.openContainer.windowId));
         this.func_175159_q();
     }
 
@@ -353,7 +475,7 @@ public class EntityPlayerSP extends AbstractClientPlayer
      */
     public void sendPlayerAbilities()
     {
-        this.sendQueue.addToSendQueue(new C13PacketPlayerAbilities(this.capabilities));
+        this.connection.sendPacket(new C13PacketPlayerAbilities(this.capabilities));
     }
 
     public boolean func_175144_cb()
@@ -363,12 +485,12 @@ public class EntityPlayerSP extends AbstractClientPlayer
 
     protected void sendHorseJump()
     {
-        this.sendQueue.addToSendQueue(new C0BPacketEntityAction(this, C0BPacketEntityAction.Action.RIDING_JUMP, (int)(this.getHorseJumpPower() * 100.0F)));
+        this.connection.sendPacket(new C0BPacketEntityAction(this, C0BPacketEntityAction.Action.RIDING_JUMP, (int)(this.getHorseJumpPower() * 100.0F)));
     }
 
     public void func_175163_u()
     {
-        this.sendQueue.addToSendQueue(new C0BPacketEntityAction(this, C0BPacketEntityAction.Action.OPEN_INVENTORY));
+        this.connection.sendPacket(new C0BPacketEntityAction(this, C0BPacketEntityAction.Action.OPEN_INVENTORY));
     }
 
     public void func_175158_f(String p_175158_1_)
@@ -408,25 +530,25 @@ public class EntityPlayerSP extends AbstractClientPlayer
                 byte var12 = -1;
                 double var13 = 9999.0D;
 
-                if (this.func_175162_d(var7.offsetWest()) && var8 < var13)
+                if (this.func_175162_d(var7.west()) && var8 < var13)
                 {
                     var13 = var8;
                     var12 = 0;
                 }
 
-                if (this.func_175162_d(var7.offsetEast()) && 1.0D - var8 < var13)
+                if (this.func_175162_d(var7.east()) && 1.0D - var8 < var13)
                 {
                     var13 = 1.0D - var8;
                     var12 = 1;
                 }
 
-                if (this.func_175162_d(var7.offsetNorth()) && var10 < var13)
+                if (this.func_175162_d(var7.north()) && var10 < var13)
                 {
                     var13 = var10;
                     var12 = 4;
                 }
 
-                if (this.func_175162_d(var7.offsetSouth()) && 1.0D - var10 < var13)
+                if (this.func_175162_d(var7.south()) && 1.0D - var10 < var13)
                 {
                     var13 = 1.0D - var10;
                     var12 = 5;
@@ -461,7 +583,7 @@ public class EntityPlayerSP extends AbstractClientPlayer
 
     private boolean func_175162_d(BlockPos p_175162_1_)
     {
-        return !this.worldObj.getBlockState(p_175162_1_).getBlock().isNormalCube() && !this.worldObj.getBlockState(p_175162_1_.offsetUp()).getBlock().isNormalCube();
+        return !this.worldObj.getBlockState(p_175162_1_).getBlock().isNormalCube() && !this.worldObj.getBlockState(p_175162_1_.up()).getBlock().isNormalCube();
     }
 
     /**
@@ -738,7 +860,9 @@ public class EntityPlayerSP extends AbstractClientPlayer
         boolean var4 = this.movementInput.moveForward >= var3;
         this.movementInput.updatePlayerMoveState();
 
-        if (this.isUsingItem() && !this.isRiding())
+        //TODO: Client
+        if (this.isUsingItem() && !this.isRiding()
+        	&& !WurstClient.INSTANCE.mods.noSlowdownMod.isActive())
         {
             this.movementInput.moveStrafe *= 0.2F;
             this.movementInput.moveForward *= 0.2F;
diff --git a/net/minecraft/client/gui/FontRenderer.java b/net/minecraft/client/gui/FontRenderer.java
index de97013..566d4bb 100644
--- a/net/minecraft/client/gui/FontRenderer.java
+++ b/net/minecraft/client/gui/FontRenderer.java
@@ -1,8 +1,5 @@
 package net.minecraft.client.gui;
 
-import com.ibm.icu.text.ArabicShaping;
-import com.ibm.icu.text.ArabicShapingException;
-import com.ibm.icu.text.Bidi;
 import java.awt.image.BufferedImage;
 import java.io.IOException;
 import java.io.InputStream;
@@ -10,7 +7,9 @@ import java.util.Arrays;
 import java.util.Iterator;
 import java.util.List;
 import java.util.Random;
+
 import net.minecraft.client.Minecraft;
+import net.minecraft.client.network.NetworkPlayerInfo;
 import net.minecraft.client.renderer.GlStateManager;
 import net.minecraft.client.renderer.Tessellator;
 import net.minecraft.client.renderer.WorldRenderer;
@@ -20,9 +19,17 @@ import net.minecraft.client.resources.IResourceManager;
 import net.minecraft.client.resources.IResourceManagerReloadListener;
 import net.minecraft.client.settings.GameSettings;
 import net.minecraft.util.ResourceLocation;
+
 import org.apache.commons.io.IOUtils;
 import org.lwjgl.opengl.GL11;
 
+import tk.wurst_client.WurstClient;
+import tk.wurst_client.features.mods.NameProtectMod;
+
+import com.ibm.icu.text.ArabicShaping;
+import com.ibm.icu.text.ArabicShapingException;
+import com.ibm.icu.text.Bidi;
+
 public class FontRenderer implements IResourceManagerReloadListener
 {
     private static final ResourceLocation[] unicodePageLocations = new ResourceLocation[256];
@@ -317,9 +324,9 @@ public class FontRenderer implements IResourceManagerReloadListener
         }
     }
 
-    public int func_175063_a(String p_175063_1_, float p_175063_2_, float p_175063_3_, int p_175063_4_)
+    public int drawStringWithShadow(String p_175063_1_, float p_175063_2_, float p_175063_3_, int p_175063_4_)
     {
-        return this.func_175065_a(p_175063_1_, p_175063_2_, p_175063_3_, p_175063_4_, true);
+        return this.drawString(p_175063_1_, p_175063_2_, p_175063_3_, p_175063_4_, true);
     }
 
     /**
@@ -327,11 +334,39 @@ public class FontRenderer implements IResourceManagerReloadListener
      */
     public int drawString(String text, int x, int y, int color)
     {
-        return this.func_175065_a(text, (float)x, (float)y, color, false);
+        return this.drawString(text, (float)x, (float)y, color, false);
     }
 
-    public int func_175065_a(String p_175065_1_, float p_175065_2_, float p_175065_3_, int p_175065_4_, boolean p_175065_5_)
+    public int drawString(String p_175065_1_, float p_175065_2_, float p_175065_3_, int p_175065_4_, boolean p_175065_5_)
+    {
+		// TODO: Client
+		if(Minecraft.getMinecraft().getNetHandler() != null
+			&& WurstClient.INSTANCE.mods.nameProtectMod.isActive())
+		{
+			Iterator itr =
+				Minecraft.getMinecraft().getNetHandler().getPlayerInfo()
+					.iterator();
+			int i = 0;
+			while(itr.hasNext())
+			{
+				NetworkPlayerInfo info = (NetworkPlayerInfo)itr.next();
+				String name = info.getPlayerNameForReal();
+				i++;
+				if(p_175065_1_.contains(Minecraft.getMinecraft().session
+					.getUsername()))
+				{
+					p_175065_1_ =
+						p_175065_1_.replace(
+							Minecraft.getMinecraft().session.getUsername(),
+							"oMer");
+				}else if(p_175065_1_.contains(name))
     {
+					p_175065_1_ =
+						p_175065_1_.replace(name, "oPlayer" + i + "r");
+				}
+			}
+		}
+    	
         GlStateManager.enableAlpha();
         this.resetStyles();
         int var6;
@@ -837,7 +872,7 @@ public class FontRenderer implements IResourceManagerReloadListener
     /**
      * Inserts newline and formatting into a string to wrap it within the specified width.
      */
-    String wrapFormattedStringToWidth(String str, int wrapWidth)
+    protected String wrapFormattedStringToWidth(String str, int wrapWidth)
     {
         int var3 = this.sizeStringToWidth(str, wrapWidth);
 
@@ -977,7 +1012,7 @@ public class FontRenderer implements IResourceManagerReloadListener
         return this.bidiFlag;
     }
 
-    public int func_175064_b(char p_175064_1_)
+    public int getColorCode(char p_175064_1_)
     {
         return this.colorCode["0123456789abcdef".indexOf(p_175064_1_)];
     }
diff --git a/net/minecraft/client/gui/Gui.java b/net/minecraft/client/gui/Gui.java
index 1d08d85..8172ae9 100644
--- a/net/minecraft/client/gui/Gui.java
+++ b/net/minecraft/client/gui/Gui.java
@@ -107,10 +107,10 @@ public class Gui
         Tessellator var15 = Tessellator.getInstance();
         WorldRenderer var16 = var15.getWorldRenderer();
         var16.startDrawingQuads();
-        var16.func_178960_a(var8, var9, var10, var7);
+        var16.setColorRGBA_F(var8, var9, var10, var7);
         var16.addVertex((double)right, (double)top, (double)this.zLevel);
         var16.addVertex((double)left, (double)top, (double)this.zLevel);
-        var16.func_178960_a(var12, var13, var14, var11);
+        var16.setColorRGBA_F(var12, var13, var14, var11);
         var16.addVertex((double)left, (double)bottom, (double)this.zLevel);
         var16.addVertex((double)right, (double)bottom, (double)this.zLevel);
         var15.draw();
@@ -125,7 +125,7 @@ public class Gui
      */
     public void drawCenteredString(FontRenderer fontRendererIn, String text, int x, int y, int color)
     {
-        fontRendererIn.func_175063_a(text, (float)(x - fontRendererIn.getStringWidth(text) / 2), (float)y, color);
+        fontRendererIn.drawStringWithShadow(text, (float)(x - fontRendererIn.getStringWidth(text) / 2), (float)y, color);
     }
 
     /**
@@ -133,7 +133,7 @@ public class Gui
      */
     public void drawString(FontRenderer fontRendererIn, String text, int x, int y, int color)
     {
-        fontRendererIn.func_175063_a(text, (float)x, (float)y, color);
+        fontRendererIn.drawStringWithShadow(text, (float)x, (float)y, color);
     }
 
     /**
diff --git a/net/minecraft/client/gui/GuiButton.java b/net/minecraft/client/gui/GuiButton.java
index 3eddab4..3eeba52 100644
--- a/net/minecraft/client/gui/GuiButton.java
+++ b/net/minecraft/client/gui/GuiButton.java
@@ -3,6 +3,8 @@ package net.minecraft.client.gui;
 import net.minecraft.client.Minecraft;
 import net.minecraft.client.audio.PositionedSoundRecord;
 import net.minecraft.client.audio.SoundHandler;
+import net.minecraft.client.gui.FontRenderer;
+import net.minecraft.client.gui.Gui;
 import net.minecraft.client.renderer.GlStateManager;
 import net.minecraft.util.ResourceLocation;
 
@@ -41,34 +43,31 @@ public class GuiButton extends Gui
 
     public GuiButton(int buttonId, int x, int y, int widthIn, int heightIn, String buttonText)
     {
-        this.width = 200;
-        this.height = 20;
-        this.enabled = true;
-        this.visible = true;
-        this.id = buttonId;
-        this.xPosition = x;
-        this.yPosition = y;
-        this.width = widthIn;
-        this.height = heightIn;
-        this.displayString = buttonText;
+		width = 200;
+		height = 20;
+		enabled = true;
+		visible = true;
+		id = buttonId;
+		xPosition = x;
+		yPosition = y;
+		width = widthIn;
+		height = heightIn;
+		displayString = buttonText;
     }
 
     /**
-     * Returns 0 if the button is disabled, 1 if the mouse is NOT hovering over this button and 2 if it IS hovering over
+	 * Returns 0 if the button is disabled, 1 if the mouse is NOT hovering over
+	 * this button and 2 if it IS hovering over
      * this button.
      */
     protected int getHoverState(boolean mouseOver)
     {
         byte var2 = 1;
 
-        if (!this.enabled)
-        {
+		if(!enabled)
             var2 = 0;
-        }
-        else if (mouseOver)
-        {
+		else if(mouseOver)
             var2 = 2;
-        }
 
         return var2;
     }
@@ -78,51 +77,67 @@ public class GuiButton extends Gui
      */
     public void drawButton(Minecraft mc, int mouseX, int mouseY)
     {
-        if (this.visible)
+		if(visible)
         {
             FontRenderer var4 = mc.fontRendererObj;
             mc.getTextureManager().bindTexture(buttonTextures);
             GlStateManager.color(1.0F, 1.0F, 1.0F, 1.0F);
-            this.hovered = mouseX >= this.xPosition && mouseY >= this.yPosition && mouseX < this.xPosition + this.width && mouseY < this.yPosition + this.height;
-            int var5 = this.getHoverState(this.hovered);
+			hovered = mouseX >= xPosition && mouseY >= yPosition && mouseX < xPosition + width && mouseY < yPosition + height;
+			int var5 = getHoverState(hovered);
             GlStateManager.enableBlend();
             GlStateManager.tryBlendFuncSeparate(770, 771, 1, 0);
             GlStateManager.blendFunc(770, 771);
-            this.drawTexturedModalRect(this.xPosition, this.yPosition, 0, 46 + var5 * 20, this.width / 2, this.height);
-            this.drawTexturedModalRect(this.xPosition + this.width / 2, this.yPosition, 200 - this.width / 2, 46 + var5 * 20, this.width / 2, this.height);
-            this.mouseDragged(mc, mouseX, mouseY);
-            int var6 = 14737632;
 
-            if (!this.enabled)
+			/*
+			 * Copyright  2014 - 2015 | Alexander01998 | All rights reserved.
+			 *
+			 * This Source Code Form is subject to the terms of the Mozilla
+			 * Public
+			 * License, v. 2.0. If a copy of the MPL was not distributed with
+			 * this
+			 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
+			 */
             {
-                var6 = 10526880;
+				drawTexturedModalRect(xPosition, yPosition, 0, 46 + var5 * 20, width / 2, height / 2);
+				drawTexturedModalRect(xPosition + width / 2, yPosition, 200 - width / 2, 46 + var5 * 20, width / 2, height / 2);
+				drawTexturedModalRect(xPosition, yPosition + height / 2, 0, 46 + var5 * 20 + 20 - height / 2, width / 2, height / 2);
+				drawTexturedModalRect(xPosition + width / 2, yPosition + height / 2, 200 - width / 2, 46 + var5 * 20 + 20 - height / 2, width / 2, height / 2);
             }
-            else if (this.hovered)
-            {
+
+			mouseDragged(mc, mouseX, mouseY);
+			int var6 = 14737632;
+
+			if(!enabled)
+				var6 = 10526880;
+			else if(hovered)
                 var6 = 16777120;
-            }
 
-            this.drawCenteredString(var4, this.displayString, this.xPosition + this.width / 2, this.yPosition + (this.height - 8) / 2, var6);
+			drawCenteredString(var4, displayString, xPosition + width / 2, yPosition + (height - 8) / 2, var6);
         }
     }
 
     /**
-     * Fired when the mouse button is dragged. Equivalent of MouseListener.mouseDragged(MouseEvent e).
+	 * Fired when the mouse button is dragged. Equivalent of
+	 * MouseListener.mouseDragged(MouseEvent e).
      */
-    protected void mouseDragged(Minecraft mc, int mouseX, int mouseY) {}
+	protected void mouseDragged(Minecraft mc, int mouseX, int mouseY)
+	{}
 
     /**
-     * Fired when the mouse button is released. Equivalent of MouseListener.mouseReleased(MouseEvent e).
+	 * Fired when the mouse button is released. Equivalent of
+	 * MouseListener.mouseReleased(MouseEvent e).
      */
-    public void mouseReleased(int mouseX, int mouseY) {}
+	public void mouseReleased(int mouseX, int mouseY)
+	{}
 
     /**
-     * Returns true if the mouse has been pressed on this control. Equivalent of MouseListener.mousePressed(MouseEvent
+	 * Returns true if the mouse has been pressed on this control. Equivalent of
+	 * MouseListener.mousePressed(MouseEvent
      * e).
      */
     public boolean mousePressed(Minecraft mc, int mouseX, int mouseY)
     {
-        return this.enabled && this.visible && mouseX >= this.xPosition && mouseY >= this.yPosition && mouseX < this.xPosition + this.width && mouseY < this.yPosition + this.height;
+		return enabled && visible && mouseX >= xPosition && mouseY >= yPosition && mouseX < xPosition + width && mouseY < yPosition + height;
     }
 
     /**
@@ -130,10 +145,11 @@ public class GuiButton extends Gui
      */
     public boolean isMouseOver()
     {
-        return this.hovered;
+		return hovered;
     }
 
-    public void drawButtonForegroundLayer(int mouseX, int mouseY) {}
+	public void drawButtonForegroundLayer(int mouseX, int mouseY)
+	{}
 
     public void playPressSound(SoundHandler soundHandlerIn)
     {
@@ -142,11 +158,11 @@ public class GuiButton extends Gui
 
     public int getButtonWidth()
     {
-        return this.width;
+		return width;
     }
 
     public void func_175211_a(int p_175211_1_)
     {
-        this.width = p_175211_1_;
+		width = p_175211_1_;
     }
 }
diff --git a/net/minecraft/client/gui/GuiButtonLanguage.java b/net/minecraft/client/gui/GuiButtonLanguage.java
index dc57327..7f10253 100644
--- a/net/minecraft/client/gui/GuiButtonLanguage.java
+++ b/net/minecraft/client/gui/GuiButtonLanguage.java
@@ -1,6 +1,7 @@
 package net.minecraft.client.gui;
 
 import net.minecraft.client.Minecraft;
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.renderer.GlStateManager;
 
 public class GuiButtonLanguage extends GuiButton
diff --git a/net/minecraft/client/gui/GuiButtonRealmsProxy.java b/net/minecraft/client/gui/GuiButtonRealmsProxy.java
index c33fc60..8c1bbf7 100644
--- a/net/minecraft/client/gui/GuiButtonRealmsProxy.java
+++ b/net/minecraft/client/gui/GuiButtonRealmsProxy.java
@@ -1,6 +1,7 @@
 package net.minecraft.client.gui;
 
 import net.minecraft.client.Minecraft;
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.realms.RealmsButton;
 
 public class GuiButtonRealmsProxy extends GuiButton
diff --git a/net/minecraft/client/gui/GuiChat.java b/net/minecraft/client/gui/GuiChat.java
index 87cf047..0724d44 100644
--- a/net/minecraft/client/gui/GuiChat.java
+++ b/net/minecraft/client/gui/GuiChat.java
@@ -255,10 +255,10 @@ public class GuiChat extends GuiScreen
 
             if (this.mc.objectMouseOver != null && this.mc.objectMouseOver.typeOfHit == MovingObjectPosition.MovingObjectType.BLOCK)
             {
-                var3 = this.mc.objectMouseOver.func_178782_a();
+                var3 = this.mc.objectMouseOver.getBlockPos();
             }
 
-            this.mc.thePlayer.sendQueue.addToSendQueue(new C14PacketTabComplete(p_146405_1_, var3));
+            this.mc.player.connection.sendPacket(new C14PacketTabComplete(p_146405_1_, var3));
             this.waitingOnAutocomplete = true;
         }
     }
diff --git a/net/minecraft/client/gui/GuiCommandBlock.java b/net/minecraft/client/gui/GuiCommandBlock.java
index 5fa383c..9d4805c 100644
--- a/net/minecraft/client/gui/GuiCommandBlock.java
+++ b/net/minecraft/client/gui/GuiCommandBlock.java
@@ -1,12 +1,16 @@
 package net.minecraft.client.gui;
 
 import io.netty.buffer.Unpooled;
+
 import java.io.IOException;
+
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.resources.I18n;
 import net.minecraft.command.server.CommandBlockLogic;
 import net.minecraft.network.PacketBuffer;
 import net.minecraft.network.play.client.C17PacketCustomPayload;
 import net.minecraft.util.IChatComponent;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 import org.lwjgl.input.Keyboard;
@@ -89,7 +93,7 @@ public class GuiCommandBlock extends GuiScreen
                 this.localCommandBlock.func_145757_a(var2);
                 var2.writeString(this.commandTextField.getText());
                 var2.writeBoolean(this.localCommandBlock.func_175571_m());
-                this.mc.getNetHandler().addToSendQueue(new C17PacketCustomPayload("MC|AdvCdm", var2));
+                this.mc.getNetHandler().sendPacket(new C17PacketCustomPayload("MC|AdvCdm", var2));
 
                 if (!this.localCommandBlock.func_175571_m())
                 {
diff --git a/net/minecraft/client/gui/GuiConfirmOpenLink.java b/net/minecraft/client/gui/GuiConfirmOpenLink.java
index badeb48..bd417c3 100644
--- a/net/minecraft/client/gui/GuiConfirmOpenLink.java
+++ b/net/minecraft/client/gui/GuiConfirmOpenLink.java
@@ -1,6 +1,8 @@
 package net.minecraft.client.gui;
 
 import java.io.IOException;
+
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.resources.I18n;
 
 public class GuiConfirmOpenLink extends GuiYesNo
diff --git a/net/minecraft/client/gui/GuiControls.java b/net/minecraft/client/gui/GuiControls.java
index 2372539..9a61dc0 100644
--- a/net/minecraft/client/gui/GuiControls.java
+++ b/net/minecraft/client/gui/GuiControls.java
@@ -1,7 +1,9 @@
 package net.minecraft.client.gui;
 
 import java.io.IOException;
+
 import net.minecraft.client.Minecraft;
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.resources.I18n;
 import net.minecraft.client.settings.GameSettings;
 import net.minecraft.client.settings.KeyBinding;
diff --git a/net/minecraft/client/gui/GuiCreateFlatWorld.java b/net/minecraft/client/gui/GuiCreateFlatWorld.java
index 0a72c4c..d22fcfe 100644
--- a/net/minecraft/client/gui/GuiCreateFlatWorld.java
+++ b/net/minecraft/client/gui/GuiCreateFlatWorld.java
@@ -1,8 +1,10 @@
 package net.minecraft.client.gui;
 
 import java.io.IOException;
+
 import net.minecraft.block.Block;
 import net.minecraft.block.state.IBlockState;
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.renderer.GlStateManager;
 import net.minecraft.client.renderer.RenderHelper;
 import net.minecraft.client.renderer.Tessellator;
@@ -147,7 +149,7 @@ public class GuiCreateFlatWorld extends GuiScreen
             if (p_148225_3_ != null && p_148225_3_.getItem() != null)
             {
                 RenderHelper.enableGUIStandardItemLighting();
-                GuiCreateFlatWorld.this.itemRender.func_175042_a(p_148225_3_, p_148225_1_ + 2, p_148225_2_ + 2);
+                GuiCreateFlatWorld.this.itemRender.func_180450_b(p_148225_3_, p_148225_1_ + 2, p_148225_2_ + 2);
                 RenderHelper.disableStandardItemLighting();
             }
 
diff --git a/net/minecraft/client/gui/GuiCreateWorld.java b/net/minecraft/client/gui/GuiCreateWorld.java
index 9c4b538..9f6238e 100644
--- a/net/minecraft/client/gui/GuiCreateWorld.java
+++ b/net/minecraft/client/gui/GuiCreateWorld.java
@@ -2,12 +2,15 @@ package net.minecraft.client.gui;
 
 import java.io.IOException;
 import java.util.Random;
+
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.resources.I18n;
 import net.minecraft.util.ChatAllowedCharacters;
 import net.minecraft.world.WorldSettings;
 import net.minecraft.world.WorldType;
 import net.minecraft.world.storage.ISaveFormat;
 import net.minecraft.world.storage.WorldInfo;
+
 import org.apache.commons.lang3.StringUtils;
 import org.lwjgl.input.Keyboard;
 
@@ -39,6 +42,7 @@ public class GuiCreateWorld extends GuiScreen
     private String field_146330_J;
     private int field_146331_K;
     public String field_146334_a = "";
+	private Random random = new Random();
     private static final String[] field_146327_L = new String[] {"CON", "COM", "PRN", "AUX", "CLOCK$", "NUL", "COM1", "COM2", "COM3", "COM4", "COM5", "COM6", "COM7", "COM8", "COM9", "LPT1", "LPT2", "LPT3", "LPT4", "LPT5", "LPT6", "LPT7", "LPT8", "LPT9"};
     private static final String __OBFID = "CL_00000689";
 
@@ -199,7 +203,7 @@ public class GuiCreateWorld extends GuiScreen
                 }
 
                 this.field_146345_x = true;
-                long var2 = (new Random()).nextLong();
+                long var2 = random .nextLong();
                 String var4 = this.field_146335_h.getText();
 
                 if (!StringUtils.isEmpty(var4))
diff --git a/net/minecraft/client/gui/GuiCustomizeSkin.java b/net/minecraft/client/gui/GuiCustomizeSkin.java
index aa1e89e..f7d93a3 100644
--- a/net/minecraft/client/gui/GuiCustomizeSkin.java
+++ b/net/minecraft/client/gui/GuiCustomizeSkin.java
@@ -1,6 +1,8 @@
 package net.minecraft.client.gui;
 
 import java.io.IOException;
+
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.resources.I18n;
 import net.minecraft.entity.player.EnumPlayerModelParts;
 
diff --git a/net/minecraft/client/gui/GuiCustomizeWorldScreen.java b/net/minecraft/client/gui/GuiCustomizeWorldScreen.java
index b98bb52..bd1c205 100644
--- a/net/minecraft/client/gui/GuiCustomizeWorldScreen.java
+++ b/net/minecraft/client/gui/GuiCustomizeWorldScreen.java
@@ -2,8 +2,11 @@ package net.minecraft.client.gui;
 
 import com.google.common.base.Predicate;
 import com.google.common.primitives.Floats;
+
 import java.io.IOException;
 import java.util.Random;
+
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.renderer.GlStateManager;
 import net.minecraft.client.renderer.Tessellator;
 import net.minecraft.client.renderer.WorldRenderer;
@@ -962,7 +965,7 @@ public class GuiCustomizeWorldScreen extends GuiScreen implements GuiSlider.Form
             GlStateManager.color(1.0F, 1.0F, 1.0F, 1.0F);
             float var8 = 32.0F;
             var7.startDrawingQuads();
-            var7.func_178991_c(4210752);
+            var7.setColorOpaque_I(4210752);
             var7.addVertexWithUV((double)(this.width / 2 - 90), 185.0D, 0.0D, 0.0D, 2.65625D);
             var7.addVertexWithUV((double)(this.width / 2 + 90), 185.0D, 0.0D, 5.625D, 2.65625D);
             var7.addVertexWithUV((double)(this.width / 2 + 90), 100.0D, 0.0D, 5.625D, 0.0D);
diff --git a/net/minecraft/client/gui/GuiDisconnected.java b/net/minecraft/client/gui/GuiDisconnected.java
index 54720cc..1f58fea 100644
--- a/net/minecraft/client/gui/GuiDisconnected.java
+++ b/net/minecraft/client/gui/GuiDisconnected.java
@@ -3,9 +3,17 @@ package net.minecraft.client.gui;
 import java.io.IOException;
 import java.util.Iterator;
 import java.util.List;
+
+import net.minecraft.client.multiplayer.GuiConnecting;
 import net.minecraft.client.resources.I18n;
 import net.minecraft.util.IChatComponent;
 
+import org.apache.logging.log4j.LogManager;
+
+import tk.wurst_client.WurstClient;
+import tk.wurst_client.gui.main.GuiWurstMainMenu;
+import tk.wurst_client.hooks.ServerHook;
+
 public class GuiDisconnected extends GuiScreen
 {
     private String reason;
@@ -13,6 +21,8 @@ public class GuiDisconnected extends GuiScreen
     private List multilineMessage;
     private final GuiScreen parentScreen;
     private int field_175353_i;
+    //TODO: Client
+	private int autoReconnectTimer;
     private static final String __OBFID = "CL_00000693";
 
     public GuiDisconnected(GuiScreen p_i45020_1_, String p_i45020_2_, IChatComponent p_i45020_3_)
@@ -20,6 +30,10 @@ public class GuiDisconnected extends GuiScreen
         this.parentScreen = p_i45020_1_;
         this.reason = I18n.format(p_i45020_2_, new Object[0]);
         this.message = p_i45020_3_;
+		LogManager.getLogger().info(
+			"Disconnected.\n    Message: "
+				+ (message == null ? null : message.getUnformattedText())
+				+ "\n    Reason: " + reason);
     }
 
     /**
@@ -37,13 +51,82 @@ public class GuiDisconnected extends GuiScreen
         this.multilineMessage = this.fontRendererObj.listFormattedStringToWidth(this.message.getFormattedText(), this.width - 50);
         this.field_175353_i = this.multilineMessage.size() * this.fontRendererObj.FONT_HEIGHT;
         this.buttonList.add(new GuiButton(0, this.width / 2 - 100, this.height / 2 + this.field_175353_i / 2 + this.fontRendererObj.FONT_HEIGHT, I18n.format("gui.toMenu", new Object[0])));
+        
+		// TODO: Client
+		this.buttonList.add(new GuiButton(1, this.width / 2 - 100,
+			this.height / 4 + 144 + 12, "Reconnect"));
+		this.buttonList.add(new GuiButton(2, this.width / 2 - 100,
+			this.height / 4 + 168 + 12, "AutoReconnect"));
+		if(message.getUnformattedText().toLowerCase().contains("whitelist")
+			|| message.getUnformattedText().toLowerCase()
+				.contains("white-list"))
+			if(parentScreen instanceof GuiMultiplayer
+				&& ((GuiMultiplayer)parentScreen).serverListSelector
+					.getSelectedServer() != -1)
+				this.buttonList.add(new GuiButton(3, this.width / 2 - 100,
+					this.height / 4 + 192 + 12, "4Delete Serverr"));
+		if(WurstClient.INSTANCE.options.autoReconnect)
+			this.autoReconnectTimer = 100;
+    }
+
+    //TODO: Client
+    /**
+     * Called from the main game loop to update the screen.
+     */
+    public void updateScreen()
+    {
+        super.updateScreen();
+        if(WurstClient.INSTANCE.options.autoReconnect)
+		{
+			if(buttonList.size() < 2)
+				return;
+			((GuiButton)this.buttonList.get(2)).displayString =
+				"AutoReconnect (" + ((this.autoReconnectTimer / 20) + 1) + ")";
+			if(this.autoReconnectTimer > 0)
+				this.autoReconnectTimer--;
+			else
+			{
+				try
+				{
+					this.actionPerformed((GuiButton)this.buttonList.get(1));
+				}catch(IOException e)
+				{
+					e.printStackTrace();
+				}
+			}
+		}
+        else
+        {
+        	((GuiButton)this.buttonList.get(2)).displayString = "AutoReconnect";
+        }
     }
 
     protected void actionPerformed(GuiButton button) throws IOException
     {
         if (button.id == 0)
         {
-            this.mc.displayGuiScreen(this.parentScreen);
+            this.mc.displayGuiScreen(new GuiMultiplayer(new GuiWurstMainMenu()));
+          //TODO: Client
+        }else if (button.id == 1)
+        {
+        	ServerHook.reconnectToLastServer(this);
+        }else if (button.id == 2)
+        {
+        	WurstClient.INSTANCE.options.autoReconnect = !WurstClient.INSTANCE.options.autoReconnect;
+        	WurstClient.INSTANCE.files.saveOptions();
+        	if(WurstClient.INSTANCE.options.autoReconnect)
+        		this.autoReconnectTimer = 100;
+        }else if(button.id == 3)
+		{
+			GuiMultiplayer servers = (GuiMultiplayer)parentScreen;
+			servers.savedServerList
+				.removeServerData(servers.serverListSelector
+					.getSelectedServer());
+			servers.savedServerList.saveServerList();
+			servers.serverListSelector.setSelectedServer(-1);
+			servers.serverListSelector
+				.func_148195_a(servers.savedServerList);
+			mc.displayGuiScreen(servers);
         }
     }
 
diff --git a/net/minecraft/client/gui/GuiDownloadTerrain.java b/net/minecraft/client/gui/GuiDownloadTerrain.java
index a0b3510..82df0d7 100644
--- a/net/minecraft/client/gui/GuiDownloadTerrain.java
+++ b/net/minecraft/client/gui/GuiDownloadTerrain.java
@@ -39,7 +39,7 @@ public class GuiDownloadTerrain extends GuiScreen
 
         if (this.progress % 20 == 0)
         {
-            this.netHandlerPlayClient.addToSendQueue(new C00PacketKeepAlive());
+            this.netHandlerPlayClient.sendPacket(new C00PacketKeepAlive());
         }
     }
 
diff --git a/net/minecraft/client/gui/GuiEnchantment.java b/net/minecraft/client/gui/GuiEnchantment.java
index 0901488..a859098 100644
--- a/net/minecraft/client/gui/GuiEnchantment.java
+++ b/net/minecraft/client/gui/GuiEnchantment.java
@@ -81,7 +81,7 @@ public class GuiEnchantment extends GuiContainer
             int var7 = mouseX - (var4 + 60);
             int var8 = mouseY - (var5 + 14 + 19 * var6);
 
-            if (var7 >= 0 && var8 >= 0 && var7 < 108 && var8 < 19 && this.field_147075_G.enchantItem(this.mc.thePlayer, var6))
+            if (var7 >= 0 && var8 >= 0 && var7 < 108 && var8 < 19 && this.field_147075_G.enchantItem(this.mc.player, var6))
             {
                 this.mc.playerController.sendEnchantPacket(this.field_147075_G.windowId, var6);
             }
@@ -181,7 +181,7 @@ public class GuiEnchantment extends GuiContainer
                 FontRenderer var20 = this.mc.standardGalacticFontRenderer;
                 int var21 = 6839882;
 
-                if ((var12 < var13 + 1 || this.mc.thePlayer.experienceLevel < var18) && !this.mc.thePlayer.capabilities.isCreativeMode)
+                if ((var12 < var13 + 1 || this.mc.player.experienceLevel < var18) && !this.mc.player.capabilities.isCreativeMode)
                 {
                     this.drawTexturedModalRect(var14, var5 + 14 + 19 * var13, 0, 185, 108, 19);
                     this.drawTexturedModalRect(var14 + 1, var5 + 15 + 19 * var13, 16 * var13, 239, 16, 16);
@@ -209,7 +209,7 @@ public class GuiEnchantment extends GuiContainer
                 }
 
                 var20 = this.mc.fontRendererObj;
-                var20.func_175063_a(var19, (float)(var15 + 86 - var20.getStringWidth(var19)), (float)(var5 + 16 + 19 * var13 + 7), var21);
+                var20.drawStringWithShadow(var19, (float)(var15 + 86 - var20.getStringWidth(var19)), (float)(var5 + 16 + 19 * var13 + 7), var21);
             }
         }
     }
@@ -220,7 +220,7 @@ public class GuiEnchantment extends GuiContainer
     public void drawScreen(int mouseX, int mouseY, float partialTicks)
     {
         super.drawScreen(mouseX, mouseY, partialTicks);
-        boolean var4 = this.mc.thePlayer.capabilities.isCreativeMode;
+        boolean var4 = this.mc.player.capabilities.isCreativeMode;
         int var5 = this.field_147075_G.func_178147_e();
 
         for (int var6 = 0; var6 < 3; ++var6)
@@ -234,7 +234,7 @@ public class GuiEnchantment extends GuiContainer
                 ArrayList var10 = Lists.newArrayList();
                 String var11;
 
-                if (var8 >= 0 && Enchantment.func_180306_c(var8 & 255) != null)
+                if (Enchantment.func_180306_c(var8 & 255) != null)
                 {
                     var11 = Enchantment.func_180306_c(var8 & 255).getTranslatedName((var8 & 65280) >> 8);
                     var10.add(EnumChatFormatting.WHITE.toString() + EnumChatFormatting.ITALIC.toString() + I18n.format("container.enchant.clue", new Object[] {var11}));
@@ -242,12 +242,9 @@ public class GuiEnchantment extends GuiContainer
 
                 if (!var4)
                 {
-                    if (var8 >= 0)
-                    {
                         var10.add("");
-                    }
 
-                    if (this.mc.thePlayer.experienceLevel < var7)
+                    if (this.mc.player.experienceLevel < var7)
                     {
                         var10.add(EnumChatFormatting.RED.toString() + "Level Requirement: " + this.field_147075_G.enchantLevels[var6]);
                     }
diff --git a/net/minecraft/client/gui/GuiErrorScreen.java b/net/minecraft/client/gui/GuiErrorScreen.java
index fe5ee48..302f199 100644
--- a/net/minecraft/client/gui/GuiErrorScreen.java
+++ b/net/minecraft/client/gui/GuiErrorScreen.java
@@ -1,6 +1,8 @@
 package net.minecraft.client.gui;
 
 import java.io.IOException;
+
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.resources.I18n;
 
 public class GuiErrorScreen extends GuiScreen
diff --git a/net/minecraft/client/gui/GuiFlatPresets.java b/net/minecraft/client/gui/GuiFlatPresets.java
index f976539..d898fa2 100644
--- a/net/minecraft/client/gui/GuiFlatPresets.java
+++ b/net/minecraft/client/gui/GuiFlatPresets.java
@@ -2,11 +2,14 @@ package net.minecraft.client.gui;
 
 import com.google.common.collect.Lists;
 import com.google.common.collect.Maps;
+
 import java.io.IOException;
 import java.util.Arrays;
 import java.util.Iterator;
 import java.util.List;
+
 import net.minecraft.block.BlockTallGrass;
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.renderer.GlStateManager;
 import net.minecraft.client.renderer.RenderHelper;
 import net.minecraft.client.renderer.Tessellator;
@@ -19,6 +22,7 @@ import net.minecraft.item.ItemStack;
 import net.minecraft.world.biome.BiomeGenBase;
 import net.minecraft.world.gen.FlatGeneratorInfo;
 import net.minecraft.world.gen.FlatLayerInfo;
+
 import org.lwjgl.input.Keyboard;
 
 public class GuiFlatPresets extends GuiScreen
@@ -222,7 +226,7 @@ public class GuiFlatPresets extends GuiScreen
             this.func_148173_e(p_178054_1_ + 1, p_178054_2_ + 1);
             GlStateManager.enableRescaleNormal();
             RenderHelper.enableGUIStandardItemLighting();
-            GuiFlatPresets.this.itemRender.func_175042_a(new ItemStack(p_178054_3_, 1, p_178054_4_), p_178054_1_ + 2, p_178054_2_ + 2);
+            GuiFlatPresets.this.itemRender.func_180450_b(new ItemStack(p_178054_3_, 1, p_178054_4_), p_178054_1_ + 2, p_178054_2_ + 2);
             RenderHelper.disableStandardItemLighting();
             GlStateManager.disableRescaleNormal();
         }
diff --git a/net/minecraft/client/gui/GuiGameOver.java b/net/minecraft/client/gui/GuiGameOver.java
index 2483f94..04662b1 100644
--- a/net/minecraft/client/gui/GuiGameOver.java
+++ b/net/minecraft/client/gui/GuiGameOver.java
@@ -2,10 +2,15 @@ package net.minecraft.client.gui;
 
 import java.io.IOException;
 import java.util.Iterator;
+
 import net.minecraft.client.multiplayer.WorldClient;
 import net.minecraft.client.renderer.GlStateManager;
 import net.minecraft.client.resources.I18n;
 import net.minecraft.util.EnumChatFormatting;
+import tk.wurst_client.WurstClient;
+import tk.wurst_client.events.DeathEvent;
+import tk.wurst_client.gui.main.GuiWurstMainMenu;
+import tk.wurst_client.spam.SpamProcessor;
 
 public class GuiGameOver extends GuiScreen implements GuiYesNoCallback
 {
@@ -20,7 +25,7 @@ public class GuiGameOver extends GuiScreen implements GuiYesNoCallback
     {
         this.buttonList.clear();
 
-        if (this.mc.theWorld.getWorldInfo().isHardcoreModeEnabled())
+        if (this.mc.world.getWorldInfo().isHardcoreModeEnabled())
         {
             if (this.mc.isIntegratedServerRunning())
             {
@@ -61,7 +66,7 @@ public class GuiGameOver extends GuiScreen implements GuiYesNoCallback
         switch (button.id)
         {
             case 0:
-                this.mc.thePlayer.respawnPlayer();
+                this.mc.player.respawnPlayer();
                 this.mc.displayGuiScreen((GuiScreen)null);
                 break;
 
@@ -76,13 +81,13 @@ public class GuiGameOver extends GuiScreen implements GuiYesNoCallback
     {
         if (result)
         {
-            this.mc.theWorld.sendQuittingDisconnectingPacket();
+            this.mc.world.sendQuittingDisconnectingPacket();
             this.mc.loadWorld((WorldClient)null);
-            this.mc.displayGuiScreen(new GuiMainMenu());
+            this.mc.displayGuiScreen(new GuiWurstMainMenu());
         }
         else
         {
-            this.mc.thePlayer.respawnPlayer();
+            this.mc.player.respawnPlayer();
             this.mc.displayGuiScreen((GuiScreen)null);
         }
     }
@@ -95,7 +100,7 @@ public class GuiGameOver extends GuiScreen implements GuiYesNoCallback
         this.drawGradientRect(0, 0, this.width, this.height, 1615855616, -1602211792);
         GlStateManager.pushMatrix();
         GlStateManager.scale(2.0F, 2.0F, 2.0F);
-        boolean var4 = this.mc.theWorld.getWorldInfo().isHardcoreModeEnabled();
+        boolean var4 = this.mc.world.getWorldInfo().isHardcoreModeEnabled();
         String var5 = var4 ? I18n.format("deathScreen.title.hardcore", new Object[0]) : I18n.format("deathScreen.title", new Object[0]);
         this.drawCenteredString(this.fontRendererObj, var5, this.width / 2 / 2, 30, 16777215);
         GlStateManager.popMatrix();
@@ -105,7 +110,7 @@ public class GuiGameOver extends GuiScreen implements GuiYesNoCallback
             this.drawCenteredString(this.fontRendererObj, I18n.format("deathScreen.hardcoreInfo", new Object[0]), this.width / 2, 144, 16777215);
         }
 
-        this.drawCenteredString(this.fontRendererObj, I18n.format("deathScreen.score", new Object[0]) + ": " + EnumChatFormatting.YELLOW + this.mc.thePlayer.getScore(), this.width / 2, 100, 16777215);
+        this.drawCenteredString(this.fontRendererObj, I18n.format("deathScreen.score", new Object[0]) + ": " + EnumChatFormatting.YELLOW + this.mc.player.getScore(), this.width / 2, 100, 16777215);
         super.drawScreen(mouseX, mouseY, partialTicks);
     }
 
@@ -132,6 +137,10 @@ public class GuiGameOver extends GuiScreen implements GuiYesNoCallback
             {
                 var2 = (GuiButton)var1.next();
             }
+            
+            //TODO: Client
+            WurstClient.INSTANCE.events.fire(new DeathEvent());
+            SpamProcessor.runScript("death", "Runs whenever you die.");
         }
     }
 }
diff --git a/net/minecraft/client/gui/GuiHopper.java b/net/minecraft/client/gui/GuiHopper.java
index 4d52ca9..5c9d8fd 100644
--- a/net/minecraft/client/gui/GuiHopper.java
+++ b/net/minecraft/client/gui/GuiHopper.java
@@ -17,7 +17,7 @@ public class GuiHopper extends GuiContainer
 
     public GuiHopper(InventoryPlayer p_i1092_1_, IInventory p_i1092_2_)
     {
-        super(new ContainerHopper(p_i1092_1_, p_i1092_2_, Minecraft.getMinecraft().thePlayer));
+        super(new ContainerHopper(p_i1092_1_, p_i1092_2_, Minecraft.getMinecraft().player));
         this.field_147084_v = p_i1092_1_;
         this.field_147083_w = p_i1092_2_;
         this.allowUserInput = false;
diff --git a/net/minecraft/client/gui/GuiIngame.java b/net/minecraft/client/gui/GuiIngame.java
index 12b2457..584b300 100644
--- a/net/minecraft/client/gui/GuiIngame.java
+++ b/net/minecraft/client/gui/GuiIngame.java
@@ -1,13 +1,15 @@
 package net.minecraft.client.gui;
 
-import com.google.common.base.Predicate;
-import com.google.common.collect.Iterables;
-import com.google.common.collect.Lists;
 import java.awt.Color;
 import java.util.ArrayList;
 import java.util.Collection;
 import java.util.Iterator;
 import java.util.Random;
+
+import com.google.common.base.Predicate;
+import com.google.common.collect.Iterables;
+import com.google.common.collect.Lists;
+
 import net.minecraft.block.material.Material;
 import net.minecraft.client.Minecraft;
 import net.minecraft.client.renderer.GlStateManager;
@@ -33,15 +35,9 @@ import net.minecraft.scoreboard.Score;
 import net.minecraft.scoreboard.ScoreObjective;
 import net.minecraft.scoreboard.ScorePlayerTeam;
 import net.minecraft.scoreboard.Scoreboard;
-import net.minecraft.util.BlockPos;
-import net.minecraft.util.EnumChatFormatting;
-import net.minecraft.util.FoodStats;
-import net.minecraft.util.IChatComponent;
-import net.minecraft.util.MathHelper;
-import net.minecraft.util.MovingObjectPosition;
-import net.minecraft.util.ResourceLocation;
-import net.minecraft.util.StringUtils;
+import net.minecraft.util.*;
 import net.minecraft.world.border.WorldBorder;
+import tk.wurst_client.gui.UIRenderer;
 
 public class GuiIngame extends Gui
 {
@@ -116,23 +112,23 @@ public class GuiIngame extends Gui
 
         if (Minecraft.isFancyGraphicsEnabled())
         {
-            this.func_180480_a(this.mc.thePlayer.getBrightness(p_175180_1_), var2);
+            this.func_180480_a(this.mc.player.getBrightness(p_175180_1_), var2);
         }
         else
         {
             GlStateManager.tryBlendFuncSeparate(770, 771, 1, 0);
         }
 
-        ItemStack var5 = this.mc.thePlayer.inventory.armorItemInSlot(3);
+        ItemStack var5 = this.mc.player.inventory.armorItemInSlot(3);
 
         if (this.mc.gameSettings.thirdPersonView == 0 && var5 != null && var5.getItem() == Item.getItemFromBlock(Blocks.pumpkin))
         {
             this.func_180476_e(var2);
         }
 
-        if (!this.mc.thePlayer.isPotionActive(Potion.confusion))
+        if (!this.mc.player.isPotionActive(Potion.confusion))
         {
-            float var6 = this.mc.thePlayer.prevTimeInPortal + (this.mc.thePlayer.timeInPortal - this.mc.thePlayer.prevTimeInPortal) * p_175180_1_;
+            float var6 = this.mc.player.prevTimeInPortal + (this.mc.player.timeInPortal - this.mc.player.prevTimeInPortal) * p_175180_1_;
 
             if (var6 > 0.0F)
             {
@@ -175,12 +171,12 @@ public class GuiIngame extends Gui
         int var8;
         int var11;
 
-        if (this.mc.thePlayer.getSleepTimer() > 0)
+        if (this.mc.player.getSleepTimer() > 0)
         {
             this.mc.mcProfiler.startSection("sleep");
             GlStateManager.disableDepth();
             GlStateManager.disableAlpha();
-            var11 = this.mc.thePlayer.getSleepTimer();
+            var11 = this.mc.player.getSleepTimer();
             var7 = (float)var11 / 100.0F;
 
             if (var7 > 1.0F)
@@ -198,7 +194,7 @@ public class GuiIngame extends Gui
         GlStateManager.color(1.0F, 1.0F, 1.0F, 1.0F);
         var11 = var3 / 2 - 91;
 
-        if (this.mc.thePlayer.isRidingHorse())
+        if (this.mc.player.isRidingHorse())
         {
             this.func_175186_a(var2, var11);
         }
@@ -211,7 +207,7 @@ public class GuiIngame extends Gui
         {
             this.func_175182_a(var2);
         }
-        else if (this.mc.thePlayer.func_175149_v())
+        else if (this.mc.player.isSpectator())
         {
             this.field_175197_u.func_175263_a(var2);
         }
@@ -288,11 +284,11 @@ public class GuiIngame extends Gui
                 GlStateManager.pushMatrix();
                 GlStateManager.scale(4.0F, 4.0F, 4.0F);
                 var9 = var8 << 24 & -16777216;
-                this.func_175179_f().func_175065_a(this.field_175201_x, (float)(-this.func_175179_f().getStringWidth(this.field_175201_x) / 2), -10.0F, 16777215 | var9, true);
+                this.func_175179_f().drawString(this.field_175201_x, (float)(-this.func_175179_f().getStringWidth(this.field_175201_x) / 2), -10.0F, 16777215 | var9, true);
                 GlStateManager.popMatrix();
                 GlStateManager.pushMatrix();
                 GlStateManager.scale(2.0F, 2.0F, 2.0F);
-                this.func_175179_f().func_175065_a(this.field_175200_y, (float)(-this.func_175179_f().getStringWidth(this.field_175200_y) / 2), 5.0F, 16777215 | var9, true);
+                this.func_175179_f().drawString(this.field_175200_y, (float)(-this.func_175179_f().getStringWidth(this.field_175200_y) / 2), 5.0F, 16777215 | var9, true);
                 GlStateManager.popMatrix();
                 GlStateManager.disableBlend();
                 GlStateManager.popMatrix();
@@ -301,9 +297,9 @@ public class GuiIngame extends Gui
             this.mc.mcProfiler.endSection();
         }
 
-        Scoreboard var12 = this.mc.theWorld.getScoreboard();
+        Scoreboard var12 = this.mc.world.getScoreboard();
         ScoreObjective var13 = null;
-        ScorePlayerTeam var15 = var12.getPlayersTeam(this.mc.thePlayer.getName());
+        ScorePlayerTeam var15 = var12.getPlayersTeam(this.mc.player.getName());
 
         if (var15 != null)
         {
@@ -322,6 +318,10 @@ public class GuiIngame extends Gui
             this.func_180475_a(var16, var2);
         }
 
+        //TODO: Client
+        if(!this.mc.gameSettings.showDebugInfo)
+        	UIRenderer.renderUI(zLevel);
+
         GlStateManager.enableBlend();
         GlStateManager.tryBlendFuncSeparate(770, 771, 1, 0);
         GlStateManager.disableAlpha();
@@ -333,7 +333,7 @@ public class GuiIngame extends Gui
         GlStateManager.popMatrix();
         var16 = var12.getObjectiveInDisplaySlot(0);
 
-        if (this.mc.gameSettings.keyBindPlayerList.getIsKeyPressed() && (!this.mc.isIntegratedServerRunning() || this.mc.thePlayer.sendQueue.func_175106_d().size() > 1 || var16 != null))
+        if (this.mc.gameSettings.keyBindPlayerList.getIsKeyPressed() && (!this.mc.isIntegratedServerRunning() || this.mc.player.connection.getPlayerInfo().size() > 1 || var16 != null))
         {
             this.overlayPlayerList.func_175246_a(true);
             this.overlayPlayerList.func_175249_a(var3, var12, var16);
@@ -383,7 +383,7 @@ public class GuiIngame extends Gui
     {
         this.mc.mcProfiler.startSection("jumpBar");
         this.mc.getTextureManager().bindTexture(Gui.icons);
-        float var3 = this.mc.thePlayer.getHorseJumpPower();
+        float var3 = this.mc.player.getHorseJumpPower();
         short var4 = 182;
         int var5 = (int)(var3 * (float)(var4 + 1));
         int var6 = p_175186_1_.getScaledHeight() - 32 + 3;
@@ -401,13 +401,13 @@ public class GuiIngame extends Gui
     {
         this.mc.mcProfiler.startSection("expBar");
         this.mc.getTextureManager().bindTexture(Gui.icons);
-        int var3 = this.mc.thePlayer.xpBarCap();
+        int var3 = this.mc.player.xpBarCap();
         int var6;
 
         if (var3 > 0)
         {
             short var4 = 182;
-            int var5 = (int)(this.mc.thePlayer.experience * (float)(var4 + 1));
+            int var5 = (int)(this.mc.player.experience * (float)(var4 + 1));
             var6 = p_175176_1_.getScaledHeight() - 32 + 3;
             this.drawTexturedModalRect(p_175176_2_, var6, 0, 64, var4, 5);
 
@@ -419,11 +419,11 @@ public class GuiIngame extends Gui
 
         this.mc.mcProfiler.endSection();
 
-        if (this.mc.thePlayer.experienceLevel > 0)
+        if (this.mc.player.experienceLevel > 0)
         {
             this.mc.mcProfiler.startSection("expLevel");
             int var9 = 8453920;
-            String var10 = "" + this.mc.thePlayer.experienceLevel;
+            String var10 = "" + this.mc.player.experienceLevel;
             var6 = (p_175176_1_.getScaledWidth() - this.func_175179_f().getStringWidth(var10)) / 2;
             int var7 = p_175176_1_.getScaledHeight() - 31 - 4;
             boolean var8 = false;
@@ -469,7 +469,7 @@ public class GuiIngame extends Gui
                 GlStateManager.pushMatrix();
                 GlStateManager.enableBlend();
                 GlStateManager.tryBlendFuncSeparate(770, 771, 1, 0);
-                this.func_175179_f().func_175063_a(var2, (float)var3, (float)var4, 16777215 + (var5 << 24));
+                this.func_175179_f().drawStringWithShadow(var2, (float)var3, (float)var4, 16777215 + (var5 << 24));
                 GlStateManager.disableBlend();
                 GlStateManager.popMatrix();
             }
@@ -483,23 +483,23 @@ public class GuiIngame extends Gui
         this.mc.mcProfiler.startSection("demo");
         String var2 = "";
 
-        if (this.mc.theWorld.getTotalWorldTime() >= 120500L)
+        if (this.mc.world.getTotalWorldTime() >= 120500L)
         {
             var2 = I18n.format("demo.demoExpired", new Object[0]);
         }
         else
         {
-            var2 = I18n.format("demo.remainingTime", new Object[] {StringUtils.ticksToElapsedTime((int)(120500L - this.mc.theWorld.getTotalWorldTime()))});
+            var2 = I18n.format("demo.remainingTime", new Object[] {StringUtils.ticksToElapsedTime((int)(120500L - this.mc.world.getTotalWorldTime()))});
         }
 
         int var3 = this.func_175179_f().getStringWidth(var2);
-        this.func_175179_f().func_175063_a(var2, (float)(p_175185_1_.getScaledWidth() - var3 - 10), 5.0F, 16777215);
+        this.func_175179_f().drawStringWithShadow(var2, (float)(p_175185_1_.getScaledWidth() - var3 - 10), 5.0F, 16777215);
         this.mc.mcProfiler.endSection();
     }
 
     protected boolean func_175183_b()
     {
-        if (this.mc.gameSettings.showDebugInfo && !this.mc.thePlayer.func_175140_cp() && !this.mc.gameSettings.field_178879_v)
+        if (this.mc.gameSettings.showDebugInfo && !this.mc.player.func_175140_cp() && !this.mc.gameSettings.field_178879_v)
         {
             return false;
         }
@@ -513,9 +513,9 @@ public class GuiIngame extends Gui
             {
                 if (this.mc.objectMouseOver != null && this.mc.objectMouseOver.typeOfHit == MovingObjectPosition.MovingObjectType.BLOCK)
                 {
-                    BlockPos var1 = this.mc.objectMouseOver.func_178782_a();
+                    BlockPos var1 = this.mc.objectMouseOver.getBlockPos();
 
-                    if (this.mc.theWorld.getTileEntity(var1) instanceof IInventory)
+                    if (this.mc.world.getTileEntity(var1) instanceof IInventory)
                     {
                         return true;
                     }
@@ -876,7 +876,7 @@ public class GuiIngame extends Gui
 
             if (var2.isInsideOfMaterial(Material.water))
             {
-                var23 = this.mc.thePlayer.getAir();
+                var23 = this.mc.player.getAir();
                 var36 = MathHelper.ceiling_double_int((double)(var23 - 2) * 10.0D / 300.0D);
                 var25 = MathHelper.ceiling_double_int((double)var23 * 10.0D / 300.0D) - var36;
 
@@ -921,7 +921,7 @@ public class GuiIngame extends Gui
             }
 
             String var8 = BossStatus.bossName;
-            this.func_175179_f().func_175063_a(var8, (float)(var3 / 2 - this.func_175179_f().getStringWidth(var8) / 2), (float)(var7 - 10), 16777215);
+            this.func_175179_f().drawStringWithShadow(var8, (float)(var3 / 2 - this.func_175179_f().getStringWidth(var8) / 2), (float)(var7 - 10), 16777215);
             GlStateManager.color(1.0F, 1.0F, 1.0F, 1.0F);
             this.mc.getTextureManager().bindTexture(icons);
         }
@@ -953,8 +953,8 @@ public class GuiIngame extends Gui
     {
         p_180480_1_ = 1.0F - p_180480_1_;
         p_180480_1_ = MathHelper.clamp_float(p_180480_1_, 0.0F, 1.0F);
-        WorldBorder var3 = this.mc.theWorld.getWorldBorder();
-        float var4 = (float)var3.getClosestDistance(this.mc.thePlayer);
+        WorldBorder var3 = this.mc.world.getWorldBorder();
+        float var4 = (float)var3.getClosestDistance(this.mc.player);
         double var5 = Math.min(var3.func_177749_o() * (double)var3.getWarningTime() * 1000.0D, Math.abs(var3.getTargetSize() - var3.getDiameter()));
         double var7 = Math.max((double)var3.getWarningDistance(), var5);
 
@@ -1047,7 +1047,7 @@ public class GuiIngame extends Gui
                 GlStateManager.translate((float)(-(p_175184_2_ + 8)), (float)(-(p_175184_3_ + 12)), 0.0F);
             }
 
-            this.itemRenderer.func_180450_b(var6, p_175184_2_, p_175184_3_);
+            this.itemRenderer.renderItemAndEffectIntoGUI(var6, p_175184_2_, p_175184_3_);
 
             if (var7 > 0.0F)
             {
@@ -1082,9 +1082,9 @@ public class GuiIngame extends Gui
         ++this.updateCounter;
         this.streamIndicator.func_152439_a();
 
-        if (this.mc.thePlayer != null)
+        if (this.mc.player != null)
         {
-            ItemStack var1 = this.mc.thePlayer.inventory.getCurrentItem();
+            ItemStack var1 = this.mc.player.inventory.getCurrentItem();
 
             if (var1 == null)
             {
diff --git a/net/minecraft/client/gui/GuiIngameMenu.java b/net/minecraft/client/gui/GuiIngameMenu.java
index 94b6a28..bf1b6b0 100644
--- a/net/minecraft/client/gui/GuiIngameMenu.java
+++ b/net/minecraft/client/gui/GuiIngameMenu.java
@@ -1,15 +1,31 @@
 package net.minecraft.client.gui;
 
+import static org.lwjgl.opengl.GL11.GL_CULL_FACE;
+import static org.lwjgl.opengl.GL11.GL_TEXTURE_2D;
+import static org.lwjgl.opengl.GL11.glEnable;
+
 import java.io.IOException;
+
 import net.minecraft.client.gui.achievement.GuiAchievements;
 import net.minecraft.client.gui.achievement.GuiStats;
 import net.minecraft.client.multiplayer.WorldClient;
+import net.minecraft.client.renderer.OpenGlHelper;
+import net.minecraft.client.renderer.Tessellator;
+import net.minecraft.client.renderer.WorldRenderer;
 import net.minecraft.client.resources.I18n;
+import net.minecraft.util.ResourceLocation;
+
+import org.lwjgl.opengl.GL11;
+
+import tk.wurst_client.gui.main.GuiWurstMainMenu;
+import tk.wurst_client.gui.options.GuiWurstOptions;
 
 public class GuiIngameMenu extends GuiScreen
 {
     private int field_146445_a;
     private int field_146444_f;
+    //TODO: Client
+    private static final ResourceLocation wurstTextures = new ResourceLocation("wurst/wurst_128.png");
     private static final String __OBFID = "CL_00000703";
 
     /**
@@ -30,6 +46,8 @@ public class GuiIngameMenu extends GuiScreen
 
         this.buttonList.add(new GuiButton(4, this.width / 2 - 100, this.height / 4 + 24 + var1, I18n.format("menu.returnToGame", new Object[0])));
         this.buttonList.add(new GuiButton(0, this.width / 2 - 100, this.height / 4 + 96 + var1, 98, 20, I18n.format("menu.options", new Object[0])));
+        //TODO: Client
+        this.buttonList.add(new GuiButton(8, this.width / 2 - 100, this.height / 4 + 72 + var1, "            Options"));
         GuiButton var3;
         this.buttonList.add(var3 = new GuiButton(7, this.width / 2 + 2, this.height / 4 + 96 + var1, 98, 20, I18n.format("menu.shareToLan", new Object[0])));
         this.buttonList.add(new GuiButton(5, this.width / 2 - 100, this.height / 4 + 48 + var1, 98, 20, I18n.format("gui.achievements", new Object[0])));
@@ -47,9 +65,9 @@ public class GuiIngameMenu extends GuiScreen
 
             case 1:
                 button.enabled = false;
-                this.mc.theWorld.sendQuittingDisconnectingPacket();
+                this.mc.world.sendQuittingDisconnectingPacket();
                 this.mc.loadWorld((WorldClient)null);
-                this.mc.displayGuiScreen(new GuiMainMenu());
+                this.mc.displayGuiScreen(new GuiWurstMainMenu());
 
             case 2:
             case 3:
@@ -62,15 +80,20 @@ public class GuiIngameMenu extends GuiScreen
                 break;
 
             case 5:
-                this.mc.displayGuiScreen(new GuiAchievements(this, this.mc.thePlayer.getStatFileWriter()));
+                this.mc.displayGuiScreen(new GuiAchievements(this, this.mc.player.getStatFileWriter()));
                 break;
 
             case 6:
-                this.mc.displayGuiScreen(new GuiStats(this, this.mc.thePlayer.getStatFileWriter()));
+                this.mc.displayGuiScreen(new GuiStats(this, this.mc.player.getStatFileWriter()));
                 break;
 
             case 7:
                 this.mc.displayGuiScreen(new GuiShareToLan(this));
+                break;
+
+                //TODO: Client
+            case 8:
+                this.mc.displayGuiScreen(new GuiWurstOptions(this));
         }
     }
 
@@ -91,5 +114,29 @@ public class GuiIngameMenu extends GuiScreen
         this.drawDefaultBackground();
         this.drawCenteredString(this.fontRendererObj, I18n.format("menu.game", new Object[0]), this.width / 2, 40, 16777215);
         super.drawScreen(mouseX, mouseY, partialTicks);
+        //TODO: Client
+		glEnable(GL_TEXTURE_2D);
+		glEnable(GL_CULL_FACE);
+        GL11.glDisable(GL11.GL_DEPTH_TEST);
+        GL11.glDepthMask(false);
+        OpenGlHelper.glBlendFunc(770, 771, 1, 0);
+        GL11.glColor4f(1.0F, 1.0F, 1.0F, 1.0F);
+        this.mc.getTextureManager().bindTexture(wurstTextures);
+        Tessellator var3 = Tessellator.getInstance();
+        WorldRenderer var4 = var3.getWorldRenderer();
+        double x = this.width / 2 - 68;
+        double y = this.height / 4 + 73 - 14.5;
+        double h = 16;
+        double w = 63;
+        double fw = 256;
+        double fh = 256;
+        double u1 = 0;
+        double v1 = 0;
+        var4.startDrawingQuads();
+        var4.addVertexWithUV((double)x + 0, (double)y + h, (double)this.zLevel, (double)((float)(u1 + 0) * 0.00390625F), (double)((float)(v1 + fh) * 0.00390625F));
+        var4.addVertexWithUV((double)x + w, (double)y + h, (double)this.zLevel, (double)((float)(u1 + fw) * 0.00390625F), (double)((float)(v1 + fh) * 0.00390625F));
+        var4.addVertexWithUV((double)x + w, (double)y + 0, (double)this.zLevel, (double)((float)(u1 + fw) * 0.00390625F), (double)((float)(v1 + 0) * 0.00390625F));
+        var4.addVertexWithUV((double)x + 0, (double)y + 0, (double)this.zLevel, (double)((float)(u1 + 0) * 0.00390625F), (double)((float)(v1 + 0) * 0.00390625F));
+        var3.draw();
     }
 }
diff --git a/net/minecraft/client/gui/GuiKeyBindingList.java b/net/minecraft/client/gui/GuiKeyBindingList.java
index 3f0ee74..4097c4d 100644
--- a/net/minecraft/client/gui/GuiKeyBindingList.java
+++ b/net/minecraft/client/gui/GuiKeyBindingList.java
@@ -1,11 +1,14 @@
 package net.minecraft.client.gui;
 
 import java.util.Arrays;
+
 import net.minecraft.client.Minecraft;
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.resources.I18n;
 import net.minecraft.client.settings.GameSettings;
 import net.minecraft.client.settings.KeyBinding;
 import net.minecraft.util.EnumChatFormatting;
+
 import org.apache.commons.lang3.ArrayUtils;
 
 public class GuiKeyBindingList extends GuiListExtended
diff --git a/net/minecraft/client/gui/GuiLanguage.java b/net/minecraft/client/gui/GuiLanguage.java
index 1a663cc..866b405 100644
--- a/net/minecraft/client/gui/GuiLanguage.java
+++ b/net/minecraft/client/gui/GuiLanguage.java
@@ -2,10 +2,13 @@ package net.minecraft.client.gui;
 
 import com.google.common.collect.Lists;
 import com.google.common.collect.Maps;
+
 import java.io.IOException;
 import java.util.Iterator;
 import java.util.Map;
+
 import net.minecraft.client.Minecraft;
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.resources.I18n;
 import net.minecraft.client.resources.Language;
 import net.minecraft.client.resources.LanguageManager;
diff --git a/net/minecraft/client/gui/GuiListButton.java b/net/minecraft/client/gui/GuiListButton.java
index 86fb8cb..7037d3b 100644
--- a/net/minecraft/client/gui/GuiListButton.java
+++ b/net/minecraft/client/gui/GuiListButton.java
@@ -1,6 +1,7 @@
 package net.minecraft.client.gui;
 
 import net.minecraft.client.Minecraft;
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.resources.I18n;
 
 public class GuiListButton extends GuiButton
diff --git a/net/minecraft/client/gui/GuiListExtended.java b/net/minecraft/client/gui/GuiListExtended.java
index f1d229f..db99de6 100644
--- a/net/minecraft/client/gui/GuiListExtended.java
+++ b/net/minecraft/client/gui/GuiListExtended.java
@@ -33,6 +33,10 @@ public abstract class GuiListExtended extends GuiSlot
 
     protected void func_178040_a(int p_178040_1_, int p_178040_2_, int p_178040_3_)
     {
+    	//TODO: Client
+    	if(p_178040_1_ >= getSize())
+    		return;
+    	
         this.getListEntry(p_178040_1_).setSelected(p_178040_1_, p_178040_2_, p_178040_3_);
     }
 
diff --git a/net/minecraft/client/gui/GuiLockIconButton.java b/net/minecraft/client/gui/GuiLockIconButton.java
index 7c69b95..e44dc02 100644
--- a/net/minecraft/client/gui/GuiLockIconButton.java
+++ b/net/minecraft/client/gui/GuiLockIconButton.java
@@ -1,6 +1,7 @@
 package net.minecraft.client.gui;
 
 import net.minecraft.client.Minecraft;
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.renderer.GlStateManager;
 
 public class GuiLockIconButton extends GuiButton
diff --git a/net/minecraft/client/gui/GuiMainMenu.java b/net/minecraft/client/gui/GuiMainMenu.java
index 9fd9e99..a3de015 100644
--- a/net/minecraft/client/gui/GuiMainMenu.java
+++ b/net/minecraft/client/gui/GuiMainMenu.java
@@ -1,15 +1,31 @@
 package net.minecraft.client.gui;
 
-import com.google.common.collect.Lists;
+import static org.lwjgl.opengl.GL11.GL_BLEND;
+import static org.lwjgl.opengl.GL11.GL_ONE_MINUS_SRC_ALPHA;
+import static org.lwjgl.opengl.GL11.GL_SRC_ALPHA;
+import static org.lwjgl.opengl.GL11.glBlendFunc;
+import static org.lwjgl.opengl.GL11.glEnable;
+
 import java.io.BufferedReader;
 import java.io.IOException;
 import java.io.InputStreamReader;
 import java.net.URI;
 import java.util.ArrayList;
 import java.util.Calendar;
+import java.util.ConcurrentModificationException;
 import java.util.Date;
 import java.util.Random;
 import java.util.concurrent.atomic.AtomicInteger;
+
+import org.apache.commons.io.Charsets;
+import org.apache.logging.log4j.LogManager;
+import org.apache.logging.log4j.Logger;
+import org.lwjgl.opengl.GL11;
+import org.lwjgl.opengl.GLContext;
+import org.lwjgl.util.glu.Project;
+
+import com.google.common.collect.Lists;
+
 import net.minecraft.client.Minecraft;
 import net.minecraft.client.renderer.GlStateManager;
 import net.minecraft.client.renderer.OpenGlHelper;
@@ -24,12 +40,9 @@ import net.minecraft.util.ResourceLocation;
 import net.minecraft.world.demo.DemoWorldServer;
 import net.minecraft.world.storage.ISaveFormat;
 import net.minecraft.world.storage.WorldInfo;
-import org.apache.commons.io.Charsets;
-import org.apache.logging.log4j.LogManager;
-import org.apache.logging.log4j.Logger;
-import org.lwjgl.opengl.GL11;
-import org.lwjgl.opengl.GLContext;
-import org.lwjgl.util.glu.Project;
+import tk.wurst_client.WurstClient;
+import tk.wurst_client.hooks.ServerHook;
+import tk.wurst_client.utils.MiscUtils;
 
 public class GuiMainMenu extends GuiScreen implements GuiYesNoCallback
 {
@@ -41,7 +54,7 @@ public class GuiMainMenu extends GuiScreen implements GuiYesNoCallback
     private float updateCounter;
 
     /** The splash message. */
-    private String splashText;
+    public static String splashText;
     private GuiButton buttonResetDemo;
 
     /** Timer used to rotate the panorama, increases every tick. */
@@ -57,11 +70,12 @@ public class GuiMainMenu extends GuiScreen implements GuiYesNoCallback
     private String field_146972_A;
     private String field_104024_v;
     private static final ResourceLocation splashTexts = new ResourceLocation("texts/splashes.txt");
+    
     private static final ResourceLocation minecraftTitleTextures = new ResourceLocation("textures/gui/title/minecraft.png");
 
     /** An array of all the paths to the panorama pictures. */
     private static final ResourceLocation[] titlePanoramaPaths = new ResourceLocation[] {new ResourceLocation("textures/gui/title/background/panorama_0.png"), new ResourceLocation("textures/gui/title/background/panorama_1.png"), new ResourceLocation("textures/gui/title/background/panorama_2.png"), new ResourceLocation("textures/gui/title/background/panorama_3.png"), new ResourceLocation("textures/gui/title/background/panorama_4.png"), new ResourceLocation("textures/gui/title/background/panorama_5.png")};
-    public static final String field_96138_a = "Please click " + EnumChatFormatting.UNDERLINE + "here" + EnumChatFormatting.RESET + " for more information.";
+    public static final String MORE_INFO_TEXT = "Please click " + EnumChatFormatting.UNDERLINE + "here" + EnumChatFormatting.RESET + " for more information.";
     private int field_92024_r;
     private int field_92023_s;
     private int field_92022_t;
@@ -74,7 +88,7 @@ public class GuiMainMenu extends GuiScreen implements GuiYesNoCallback
 
     public GuiMainMenu()
     {
-        this.field_146972_A = field_96138_a;
+        this.field_146972_A = MORE_INFO_TEXT;
         this.splashText = "missingno";
         BufferedReader var1 = null;
 
@@ -184,7 +198,13 @@ public class GuiMainMenu extends GuiScreen implements GuiYesNoCallback
         else if (var1.get(2) + 1 == 10 && var1.get(5) == 31)
         {
             this.splashText = "OOoooOOOoooo! Spooky!";
+            
+            //TODO: Client
+        }else if (var1.get(2) + 1 == 2 && var1.get(5) == 9)
+        {
+            this.splashText = "Happy birthday, Alexander01998!";
         }
+        ServerHook.setCurrentIpToSingleplayer();
 
         boolean var2 = true;
         int var3 = this.height / 4 + 48;
@@ -198,9 +218,9 @@ public class GuiMainMenu extends GuiScreen implements GuiYesNoCallback
             this.addSingleplayerMultiplayerButtons(var3, 24);
         }
 
-        this.buttonList.add(new GuiButton(0, this.width / 2 - 100, var3 + 72 + 12, 98, 20, I18n.format("menu.options", new Object[0])));
-        this.buttonList.add(new GuiButton(4, this.width / 2 + 2, var3 + 72 + 12, 98, 20, I18n.format("menu.quit", new Object[0])));
-        this.buttonList.add(new GuiButtonLanguage(5, this.width / 2 - 124, var3 + 72 + 12));
+        this.buttonList.add(new GuiButton(0, this.width / 2 - 100, var3 + 72 + 24, 98, 20, I18n.format("menu.options", new Object[0])));
+        this.buttonList.add(new GuiButton(4, this.width / 2 + 2, var3 + 72 + 24, 98, 20, I18n.format("menu.quit", new Object[0])));
+        this.buttonList.add(new GuiButtonLanguage(5, this.width / 2 - 124, var3 + 72 + 24));
         Object var4 = this.field_104025_t;
 
         synchronized (this.field_104025_t)
@@ -222,7 +242,13 @@ public class GuiMainMenu extends GuiScreen implements GuiYesNoCallback
     {
         this.buttonList.add(new GuiButton(1, this.width / 2 - 100, p_73969_1_, I18n.format("menu.singleplayer", new Object[0])));
         this.buttonList.add(new GuiButton(2, this.width / 2 - 100, p_73969_1_ + p_73969_2_ * 1, I18n.format("menu.multiplayer", new Object[0])));
-        this.buttonList.add(this.field_175372_K = new GuiButton(14, this.width / 2 - 100, p_73969_1_ + p_73969_2_ * 2, I18n.format("menu.online", new Object[0])));
+        
+		// TODO: Client
+		this.buttonList.add(new GuiButton(3, this.width / 2 - 100,
+			p_73969_1_ + p_73969_2_ * 2, "Alt Manager"));
+		// this.buttonList.add(this.field_175372_K = new GuiButton(14,
+		// this.width / 2 - 100, p_73969_1_ + p_73969_2_ * 2,
+		// I18n.format("menu.online", new Object[0])));
     }
 
     /**
@@ -263,10 +289,10 @@ public class GuiMainMenu extends GuiScreen implements GuiYesNoCallback
             this.mc.displayGuiScreen(new GuiMultiplayer(this));
         }
 
-        if (button.id == 14 && this.field_175372_K.visible)
+        /*if (button.id == 14 && this.field_175372_K.visible)
         {
             this.switchToRealms();
-        }
+        }*/
 
         if (button.id == 4)
         {
@@ -391,7 +417,7 @@ public class GuiMainMenu extends GuiScreen implements GuiYesNoCallback
 
                 this.mc.getTextureManager().bindTexture(titlePanoramaPaths[var11]);
                 var5.startDrawingQuads();
-                var5.func_178974_a(16777215, 255 / (var7 + 1));
+                var5.setColorRGBA_I(16777215, 255 / (var7 + 1));
                 float var12 = 0.0F;
                 var5.addVertexWithUV(-1.0D, -1.0D, 1.0D, (double)(0.0F + var12), (double)(0.0F + var12));
                 var5.addVertexWithUV(1.0D, -1.0D, 1.0D, (double)(1.0F - var12), (double)(0.0F + var12));
@@ -436,7 +462,7 @@ public class GuiMainMenu extends GuiScreen implements GuiYesNoCallback
 
         for (int var5 = 0; var5 < var4; ++var5)
         {
-            var3.func_178960_a(1.0F, 1.0F, 1.0F, 1.0F / (float)(var5 + 1));
+            var3.setColorRGBA_F(1.0F, 1.0F, 1.0F, 1.0F / (float)(var5 + 1));
             int var6 = this.width;
             int var7 = this.height;
             float var8 = (float)(var5 - var4 / 2) / 256.0F;
@@ -454,7 +480,7 @@ public class GuiMainMenu extends GuiScreen implements GuiYesNoCallback
     /**
      * Renders the skybox in the main menu
      */
-    private void renderSkybox(int p_73971_1_, int p_73971_2_, float p_73971_3_)
+    protected void renderSkybox(int p_73971_1_, int p_73971_2_, float p_73971_3_)
     {
         this.mc.getFramebuffer().unbindFramebuffer();
         GlStateManager.viewport(0, 0, 256, 256);
@@ -474,7 +500,7 @@ public class GuiMainMenu extends GuiScreen implements GuiYesNoCallback
         float var6 = this.width > this.height ? 120.0F / (float)this.width : 120.0F / (float)this.height;
         float var7 = (float)this.height * var6 / 256.0F;
         float var8 = (float)this.width * var6 / 256.0F;
-        var5.func_178960_a(1.0F, 1.0F, 1.0F, 1.0F);
+        var5.setColorRGBA_F(1.0F, 1.0F, 1.0F, 1.0F);
         int var9 = this.width;
         int var10 = this.height;
         var5.addVertexWithUV(0.0D, (double)var10, (double)this.zLevel, (double)(0.5F - var7), (double)(0.5F + var8));
@@ -494,6 +520,7 @@ public class GuiMainMenu extends GuiScreen implements GuiYesNoCallback
         GlStateManager.enableAlpha();
         Tessellator var4 = Tessellator.getInstance();
         WorldRenderer var5 = var4.getWorldRenderer();
+        
         short var6 = 274;
         int var7 = this.width / 2 - var6 / 2;
         byte var8 = 30;
@@ -516,13 +543,14 @@ public class GuiMainMenu extends GuiScreen implements GuiYesNoCallback
             this.drawTexturedModalRect(var7 + 155, var8 + 0, 0, 45, 155, 44);
         }
 
-        var5.func_178991_c(-1);
+        var5.setColorOpaque_I(-1);
         GlStateManager.pushMatrix();
         GlStateManager.translate((float)(this.width / 2 + 90), 70.0F, 0.0F);
         GlStateManager.rotate(-20.0F, 0.0F, 0.0F, 1.0F);
         float var9 = 1.8F - MathHelper.abs(MathHelper.sin((float)(Minecraft.getSystemTime() % 1000L) / 1000.0F * (float)Math.PI * 2.0F) * 0.1F);
         var9 = var9 * 100.0F / (float)(this.fontRendererObj.getStringWidth(this.splashText) + 32);
         GlStateManager.scale(var9, var9, var9);
+        
         this.drawCenteredString(this.fontRendererObj, this.splashText, 0, -8, -256);
         GlStateManager.popMatrix();
         String var10 = "Minecraft 1.8";
@@ -542,7 +570,6 @@ public class GuiMainMenu extends GuiScreen implements GuiYesNoCallback
             this.drawString(this.fontRendererObj, this.field_92025_p, this.field_92022_t, this.field_92021_u, -1);
             this.drawString(this.fontRendererObj, this.field_146972_A, (this.width - this.field_92024_r) / 2, ((GuiButton)this.buttonList.get(0)).yPosition - 12, -1);
         }
-
         super.drawScreen(mouseX, mouseY, partialTicks);
     }
 
diff --git a/net/minecraft/client/gui/GuiMemoryErrorScreen.java b/net/minecraft/client/gui/GuiMemoryErrorScreen.java
index b5e6872..e97ec4b 100644
--- a/net/minecraft/client/gui/GuiMemoryErrorScreen.java
+++ b/net/minecraft/client/gui/GuiMemoryErrorScreen.java
@@ -1,7 +1,9 @@
 package net.minecraft.client.gui;
 
 import java.io.IOException;
+
 import net.minecraft.client.resources.I18n;
+import tk.wurst_client.gui.main.GuiWurstMainMenu;
 
 public class GuiMemoryErrorScreen extends GuiScreen
 {
@@ -21,7 +23,7 @@ public class GuiMemoryErrorScreen extends GuiScreen
     {
         if (button.id == 0)
         {
-            this.mc.displayGuiScreen(new GuiMainMenu());
+            this.mc.displayGuiScreen(new GuiWurstMainMenu());
         }
         else if (button.id == 1)
         {
diff --git a/net/minecraft/client/gui/GuiMerchant.java b/net/minecraft/client/gui/GuiMerchant.java
index 991708b..b01901c 100644
--- a/net/minecraft/client/gui/GuiMerchant.java
+++ b/net/minecraft/client/gui/GuiMerchant.java
@@ -1,8 +1,11 @@
 package net.minecraft.client.gui;
 
 import io.netty.buffer.Unpooled;
+
 import java.io.IOException;
+
 import net.minecraft.client.Minecraft;
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.gui.inventory.GuiContainer;
 import net.minecraft.client.renderer.GlStateManager;
 import net.minecraft.client.renderer.RenderHelper;
@@ -18,6 +21,7 @@ import net.minecraft.util.ResourceLocation;
 import net.minecraft.village.MerchantRecipe;
 import net.minecraft.village.MerchantRecipeList;
 import net.minecraft.world.World;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 
@@ -69,7 +73,7 @@ public class GuiMerchant extends GuiContainer
     public void updateScreen()
     {
         super.updateScreen();
-        MerchantRecipeList var1 = this.field_147037_w.getRecipes(this.mc.thePlayer);
+        MerchantRecipeList var1 = this.field_147037_w.getRecipes(this.mc.player);
 
         if (var1 != null)
         {
@@ -85,7 +89,7 @@ public class GuiMerchant extends GuiContainer
         if (button == this.field_147043_x)
         {
             ++this.field_147041_z;
-            MerchantRecipeList var3 = this.field_147037_w.getRecipes(this.mc.thePlayer);
+            MerchantRecipeList var3 = this.field_147037_w.getRecipes(this.mc.player);
 
             if (var3 != null && this.field_147041_z >= var3.size())
             {
@@ -111,7 +115,7 @@ public class GuiMerchant extends GuiContainer
             ((ContainerMerchant)this.inventorySlots).setCurrentRecipeIndex(this.field_147041_z);
             PacketBuffer var4 = new PacketBuffer(Unpooled.buffer());
             var4.writeInt(this.field_147041_z);
-            this.mc.getNetHandler().addToSendQueue(new C17PacketCustomPayload("MC|TrSel", var4));
+            this.mc.getNetHandler().sendPacket(new C17PacketCustomPayload("MC|TrSel", var4));
         }
     }
 
@@ -125,7 +129,7 @@ public class GuiMerchant extends GuiContainer
         int var4 = (this.width - this.xSize) / 2;
         int var5 = (this.height - this.ySize) / 2;
         this.drawTexturedModalRect(var4, var5, 0, 0, this.xSize, this.ySize);
-        MerchantRecipeList var6 = this.field_147037_w.getRecipes(this.mc.thePlayer);
+        MerchantRecipeList var6 = this.field_147037_w.getRecipes(this.mc.player);
 
         if (var6 != null && !var6.isEmpty())
         {
@@ -155,7 +159,7 @@ public class GuiMerchant extends GuiContainer
     public void drawScreen(int mouseX, int mouseY, float partialTicks)
     {
         super.drawScreen(mouseX, mouseY, partialTicks);
-        MerchantRecipeList var4 = this.field_147037_w.getRecipes(this.mc.thePlayer);
+        MerchantRecipeList var4 = this.field_147037_w.getRecipes(this.mc.player);
 
         if (var4 != null && !var4.isEmpty())
         {
@@ -195,7 +199,7 @@ public class GuiMerchant extends GuiContainer
             {
                 this.renderToolTip(var10, mouseX, mouseY);
             }
-            else if (var11 != null && this.isPointInRegion(120, 24, 16, 16, mouseX, mouseY) && var11 != null)
+            else if (this.isPointInRegion(120, 24, 16, 16, mouseX, mouseY) && var11 != null)
             {
                 this.renderToolTip(var11, mouseX, mouseY);
             }
diff --git a/net/minecraft/client/gui/GuiMultiplayer.java b/net/minecraft/client/gui/GuiMultiplayer.java
index 82619a7..f1916c2 100644
--- a/net/minecraft/client/gui/GuiMultiplayer.java
+++ b/net/minecraft/client/gui/GuiMultiplayer.java
@@ -1,26 +1,53 @@
 package net.minecraft.client.gui;
 
-import com.google.common.base.Splitter;
-import com.google.common.collect.Lists;
+import java.awt.Component;
+import java.awt.HeadlessException;
+import java.io.BufferedReader;
+import java.io.File;
+import java.io.FileReader;
+import java.io.FileWriter;
 import java.io.IOException;
+import java.io.PrintWriter;
 import java.util.List;
+
+import javax.swing.JDialog;
+import javax.swing.JFileChooser;
+import javax.swing.filechooser.FileNameExtensionFilter;
+
+import net.minecraft.client.Minecraft;
 import net.minecraft.client.multiplayer.GuiConnecting;
 import net.minecraft.client.multiplayer.ServerData;
 import net.minecraft.client.multiplayer.ServerList;
 import net.minecraft.client.network.LanServerDetector;
 import net.minecraft.client.network.OldServerPinger;
 import net.minecraft.client.resources.I18n;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 import org.lwjgl.input.Keyboard;
 
+import tk.wurst_client.WurstClient;
+import tk.wurst_client.gui.multiplayer.GuiCleanUp;
+import tk.wurst_client.gui.multiplayer.GuiServerFinder;
+import tk.wurst_client.gui.multiplayer.GuiUseProxy;
+import tk.wurst_client.hooks.FrameHook;
+import tk.wurst_client.hooks.ServerHook;
+import tk.wurst_client.spam.SpamProcessor;
+import tk.wurst_client.utils.MiscUtils;
+
+import com.google.common.base.Splitter;
+import com.google.common.collect.Lists;
+
 public class GuiMultiplayer extends GuiScreen implements GuiYesNoCallback
 {
     private static final Logger logger = LogManager.getLogger();
     private final OldServerPinger oldServerPinger = new OldServerPinger();
     private GuiScreen parentScreen;
-    private ServerSelectionList serverListSelector;
-    private ServerList savedServerList;
+    
+    //TODO: Client
+    public ServerSelectionList serverListSelector;
+    public ServerList savedServerList;
+    
     private GuiButton btnEditServer;
     private GuiButton btnSelectServer;
     private GuiButton btnDeleteServer;
@@ -74,6 +101,9 @@ public class GuiMultiplayer extends GuiScreen implements GuiYesNoCallback
         }
 
         this.createButtons();
+        
+        //TODO: Client
+        WurstClient.INSTANCE.analytics.trackPageView("/multiplayer", "Select Server");
     }
 
     /**
@@ -82,6 +112,9 @@ public class GuiMultiplayer extends GuiScreen implements GuiYesNoCallback
     public void handleMouseInput() throws IOException
     {
         super.handleMouseInput();
+        
+        //TODO: Client
+        if(serverListSelector != null)
         this.serverListSelector.func_178039_p();
     }
 
@@ -94,7 +127,16 @@ public class GuiMultiplayer extends GuiScreen implements GuiYesNoCallback
         this.buttonList.add(new GuiButton(3, this.width / 2 + 4 + 50, this.height - 52, 100, 20, I18n.format("selectServer.add", new Object[0])));
         this.buttonList.add(new GuiButton(8, this.width / 2 + 4, this.height - 28, 70, 20, I18n.format("selectServer.refresh", new Object[0])));
         this.buttonList.add(new GuiButton(0, this.width / 2 + 4 + 76, this.height - 28, 75, 20, I18n.format("gui.cancel", new Object[0])));
-        this.selectServer(this.serverListSelector.func_148193_k());
+        
+        //TODO: Client
+        this.buttonList.add(new GuiButton(5, this.width / 2 - 154, 10, 100, 20, "Last server"));
+        this.buttonList.add(new GuiButton(6, this.width / 2 + 54, 10, 100, 20, "Use Proxy"));
+        this.buttonList.add(new GuiButton(10, this.width / 2 - 154 - 104, this.height - 52, 100, 20, "Import Servers"));
+        this.buttonList.add(new GuiButton(11, this.width / 2 - 154 - 104, this.height - 28, 100, 20, "Export Servers"));
+        this.buttonList.add(new GuiButton(12, this.width / 2 + 154 + 4, this.height - 52, 100, 20, "Server Finder"));
+        this.buttonList.add(new GuiButton(13, this.width / 2 + 154 + 4, this.height - 28, 100, 20, "Clean Up"));
+        
+        this.selectServer(this.serverListSelector.getSelectedServer());
     }
 
     /**
@@ -112,6 +154,11 @@ public class GuiMultiplayer extends GuiScreen implements GuiYesNoCallback
         }
 
         this.oldServerPinger.pingPendingNetworks();
+        
+		// TODO: Client
+		// Enable/disable "Last Server" button
+		((GuiButton)this.buttonList.get(7)).enabled =
+			ServerHook.hasLastServer();
     }
 
     /**
@@ -134,7 +181,7 @@ public class GuiMultiplayer extends GuiScreen implements GuiYesNoCallback
     {
         if (button.enabled)
         {
-            GuiListExtended.IGuiListEntry var2 = this.serverListSelector.func_148193_k() < 0 ? null : this.serverListSelector.getListEntry(this.serverListSelector.func_148193_k());
+            GuiListExtended.IGuiListEntry var2 = this.serverListSelector.getSelectedServer() < 0 ? null : this.serverListSelector.getListEntry(this.serverListSelector.getSelectedServer());
 
             if (button.id == 2 && var2 instanceof ServerListEntryNormal)
             {
@@ -147,7 +194,7 @@ public class GuiMultiplayer extends GuiScreen implements GuiYesNoCallback
                     String var5 = "\'" + var9 + "\' " + I18n.format("selectServer.deleteWarning", new Object[0]);
                     String var6 = I18n.format("selectServer.deleteButton", new Object[0]);
                     String var7 = I18n.format("gui.cancel", new Object[0]);
-                    GuiYesNo var8 = new GuiYesNo(this, var4, var5, var6, var7, this.serverListSelector.func_148193_k());
+                    GuiYesNo var8 = new GuiYesNo(this, var4, var5, var6, var7, this.serverListSelector.getSelectedServer());
                     this.mc.displayGuiScreen(var8);
                 }
             }
@@ -180,18 +227,41 @@ public class GuiMultiplayer extends GuiScreen implements GuiYesNoCallback
             else if (button.id == 8)
             {
                 this.refreshServerList();
-            }
-        }
-    }
 
-    private void refreshServerList()
+				// TODO: Client
+			}else if(button.id == 5)
+			{// Last Server
+				ServerHook.joinLastServer(this);
+			}else if(button.id == 6)
+				// Use Proxy
+				mc.displayGuiScreen(new GuiUseProxy(this));
+			else if(button.id == 10)
+				// Import
+				new Thread(
+					() -> ServerHook.importServers(GuiMultiplayer.this))
+					.start();
+			else if(button.id == 11)
+				// Export
+				new Thread(
+					() -> ServerHook.exportServers(GuiMultiplayer.this))
+					.start();
+			else if(button.id == 12)
+				// Server Finder
+				mc.displayGuiScreen(new GuiServerFinder(this));
+			else if(button.id == 13)
+				// Clean Up
+				mc.displayGuiScreen(new GuiCleanUp(this));
+        }
+    }
+
+    public void refreshServerList()
     {
         this.mc.displayGuiScreen(new GuiMultiplayer(this.parentScreen));
     }
 
     public void confirmClicked(boolean result, int id)
     {
-        GuiListExtended.IGuiListEntry var3 = this.serverListSelector.func_148193_k() < 0 ? null : this.serverListSelector.getListEntry(this.serverListSelector.func_148193_k());
+        GuiListExtended.IGuiListEntry var3 = this.serverListSelector.getSelectedServer() < 0 ? null : this.serverListSelector.getListEntry(this.serverListSelector.getSelectedServer());
 
         if (this.deletingServer)
         {
@@ -199,9 +269,9 @@ public class GuiMultiplayer extends GuiScreen implements GuiYesNoCallback
 
             if (result && var3 instanceof ServerListEntryNormal)
             {
-                this.savedServerList.removeServerData(this.serverListSelector.func_148193_k());
+                this.savedServerList.removeServerData(this.serverListSelector.getSelectedServer());
                 this.savedServerList.saveServerList();
-                this.serverListSelector.func_148192_c(-1);
+                this.serverListSelector.setSelectedServer(-1);
                 this.serverListSelector.func_148195_a(this.savedServerList);
             }
 
@@ -228,7 +298,7 @@ public class GuiMultiplayer extends GuiScreen implements GuiYesNoCallback
             {
                 this.savedServerList.addServerData(this.selectedServer);
                 this.savedServerList.saveServerList();
-                this.serverListSelector.func_148192_c(-1);
+                this.serverListSelector.setSelectedServer(-1);
                 this.serverListSelector.func_148195_a(this.savedServerList);
             }
 
@@ -258,7 +328,7 @@ public class GuiMultiplayer extends GuiScreen implements GuiYesNoCallback
      */
     protected void keyTyped(char typedChar, int keyCode) throws IOException
     {
-        int var3 = this.serverListSelector.func_148193_k();
+        int var3 = this.serverListSelector.getSelectedServer();
         GuiListExtended.IGuiListEntry var4 = var3 < 0 ? null : this.serverListSelector.getListEntry(var3);
 
         if (keyCode == 63)
@@ -276,19 +346,19 @@ public class GuiMultiplayer extends GuiScreen implements GuiYesNoCallback
                         if (var3 > 0 && var4 instanceof ServerListEntryNormal)
                         {
                             this.savedServerList.swapServers(var3, var3 - 1);
-                            this.selectServer(this.serverListSelector.func_148193_k() - 1);
+                            this.selectServer(this.serverListSelector.getSelectedServer() - 1);
                             this.serverListSelector.scrollBy(-this.serverListSelector.getSlotHeight());
                             this.serverListSelector.func_148195_a(this.savedServerList);
                         }
                     }
                     else if (var3 > 0)
                     {
-                        this.selectServer(this.serverListSelector.func_148193_k() - 1);
+                        this.selectServer(this.serverListSelector.getSelectedServer() - 1);
                         this.serverListSelector.scrollBy(-this.serverListSelector.getSlotHeight());
 
-                        if (this.serverListSelector.getListEntry(this.serverListSelector.func_148193_k()) instanceof ServerListEntryLanScan)
+                        if (this.serverListSelector.getListEntry(this.serverListSelector.getSelectedServer()) instanceof ServerListEntryLanScan)
                         {
-                            if (this.serverListSelector.func_148193_k() > 0)
+                            if (this.serverListSelector.getSelectedServer() > 0)
                             {
                                 this.selectServer(this.serverListSelector.getSize() - 1);
                                 this.serverListSelector.scrollBy(-this.serverListSelector.getSlotHeight());
@@ -318,12 +388,12 @@ public class GuiMultiplayer extends GuiScreen implements GuiYesNoCallback
                     }
                     else if (var3 < this.serverListSelector.getSize())
                     {
-                        this.selectServer(this.serverListSelector.func_148193_k() + 1);
+                        this.selectServer(this.serverListSelector.getSelectedServer() + 1);
                         this.serverListSelector.scrollBy(this.serverListSelector.getSlotHeight());
 
-                        if (this.serverListSelector.getListEntry(this.serverListSelector.func_148193_k()) instanceof ServerListEntryLanScan)
+                        if (this.serverListSelector.getListEntry(this.serverListSelector.getSelectedServer()) instanceof ServerListEntryLanScan)
                         {
-                            if (this.serverListSelector.func_148193_k() < this.serverListSelector.getSize() - 1)
+                            if (this.serverListSelector.getSelectedServer() < this.serverListSelector.getSize() - 1)
                             {
                                 this.selectServer(this.serverListSelector.getSize() + 1);
                                 this.serverListSelector.scrollBy(this.serverListSelector.getSlotHeight());
@@ -363,7 +433,8 @@ public class GuiMultiplayer extends GuiScreen implements GuiYesNoCallback
         this.field_146812_y = null;
         this.drawDefaultBackground();
         this.serverListSelector.drawScreen(mouseX, mouseY, partialTicks);
-        this.drawCenteredString(this.fontRendererObj, I18n.format("multiplayer.title", new Object[0]), this.width / 2, 20, 16777215);
+        //TODO: Client
+        this.drawCenteredString(this.fontRendererObj, I18n.format("multiplayer.title", new Object[0]), this.width / 2, 16, 16777215);
         super.drawScreen(mouseX, mouseY, partialTicks);
 
         if (this.field_146812_y != null)
@@ -374,7 +445,10 @@ public class GuiMultiplayer extends GuiScreen implements GuiYesNoCallback
 
     public void connectToSelected()
     {
-        GuiListExtended.IGuiListEntry var1 = this.serverListSelector.func_148193_k() < 0 ? null : this.serverListSelector.getListEntry(this.serverListSelector.func_148193_k());
+        GuiListExtended.IGuiListEntry var1 = this.serverListSelector.getSelectedServer() < 0 ? null : this.serverListSelector.getListEntry(this.serverListSelector.getSelectedServer());
+
+        //TODO: Client
+        ServerHook.updateLastServerFromServerlist(var1, this);
 
         if (var1 instanceof ServerListEntryNormal)
         {
@@ -387,14 +461,18 @@ public class GuiMultiplayer extends GuiScreen implements GuiYesNoCallback
         }
     }
 
-    private void connectToServer(ServerData server)
+    public void connectToServer(ServerData server)
     {
         this.mc.displayGuiScreen(new GuiConnecting(this, this.mc, server));
+        
+        //TODO: Client
+        SpamProcessor.runScript("joinserver", "Runs whenever you join a server.");
+		WurstClient.INSTANCE.analytics.trackPageView("/play/multiplayer", "Multiplayer");
     }
 
     public void selectServer(int index)
     {
-        this.serverListSelector.func_148192_c(index);
+        this.serverListSelector.setSelectedServer(index);
         GuiListExtended.IGuiListEntry var2 = index < 0 ? null : this.serverListSelector.getListEntry(index);
         this.btnSelectServer.enabled = false;
         this.btnEditServer.enabled = false;
@@ -460,7 +538,7 @@ public class GuiMultiplayer extends GuiScreen implements GuiYesNoCallback
         int var4 = p_175391_3_ ? 0 : p_175391_2_ - 1;
         this.savedServerList.swapServers(p_175391_2_, var4);
 
-        if (this.serverListSelector.func_148193_k() == p_175391_2_)
+        if (this.serverListSelector.getSelectedServer() == p_175391_2_)
         {
             this.selectServer(var4);
         }
@@ -473,7 +551,7 @@ public class GuiMultiplayer extends GuiScreen implements GuiYesNoCallback
         int var4 = p_175393_3_ ? this.savedServerList.countServers() - 1 : p_175393_2_ + 1;
         this.savedServerList.swapServers(p_175393_2_, var4);
 
-        if (this.serverListSelector.func_148193_k() == p_175393_2_)
+        if (this.serverListSelector.getSelectedServer() == p_175393_2_)
         {
             this.selectServer(var4);
         }
diff --git a/net/minecraft/client/gui/GuiNewChat.java b/net/minecraft/client/gui/GuiNewChat.java
index 80dbf2c..b6f15fc 100644
--- a/net/minecraft/client/gui/GuiNewChat.java
+++ b/net/minecraft/client/gui/GuiNewChat.java
@@ -1,17 +1,23 @@
 package net.minecraft.client.gui;
 
-import com.google.common.collect.Lists;
 import java.util.Iterator;
 import java.util.List;
+
 import net.minecraft.client.Minecraft;
 import net.minecraft.client.renderer.GlStateManager;
 import net.minecraft.entity.player.EntityPlayer;
 import net.minecraft.util.ChatComponentText;
 import net.minecraft.util.IChatComponent;
 import net.minecraft.util.MathHelper;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 
+import tk.wurst_client.WurstClient;
+import tk.wurst_client.events.ChatInputEvent;
+
+import com.google.common.collect.Lists;
+
 public class GuiNewChat extends Gui
 {
     private static final Logger logger = LogManager.getLogger();
@@ -90,7 +96,7 @@ public class GuiNewChat extends Gui
                                 drawRect(var15, var16 - 9, var15 + var8 + 4, var16, var14 / 2 << 24);
                                 String var17 = var10.getChatComponent().getFormattedText();
                                 GlStateManager.enableBlend();
-                                this.mc.fontRendererObj.func_175063_a(var17, (float)var15, (float)(var16 - 8), 16777215 + (var14 << 24));
+                                this.mc.fontRendererObj.drawStringWithShadow(var17, (float)var15, (float)(var16 - 8), 16777215 + (var14 << 24));
                                 GlStateManager.disableAlpha();
                                 GlStateManager.disableBlend();
                             }
@@ -141,47 +147,67 @@ public class GuiNewChat extends Gui
      */
     public void printChatMessageWithOptionalDeletion(IChatComponent p_146234_1_, int p_146234_2_)
     {
+    	//TODO: Client
+    	ChatInputEvent event = new ChatInputEvent(p_146234_1_, field_146253_i);
+    	WurstClient.INSTANCE.events.fire(event);
+    	if(event.isCancelled())
+    		return;
+    	p_146234_1_ = event.getComponent();
+    	
         this.setChatLine(p_146234_1_, p_146234_2_, this.mc.ingameGUI.getUpdateCounter(), false);
         logger.info("[CHAT] " + p_146234_1_.getUnformattedText());
     }
 
     private void setChatLine(IChatComponent p_146237_1_, int p_146237_2_, int p_146237_3_, boolean p_146237_4_)
     {
-        if (p_146237_2_ != 0)
+    	try
+		{
+			if(p_146237_2_ != 0)
         {
             this.deleteChatLine(p_146237_2_);
         }
 
-        int var5 = MathHelper.floor_float((float)this.getChatWidth() / this.getChatScale());
-        List var6 = GuiUtilRenderComponents.func_178908_a(p_146237_1_, var5, this.mc.fontRendererObj, false, false);
+			int var5 =
+				MathHelper.floor_float((float)this.getChatWidth()
+					/ this.getChatScale());
+			List var6 =
+				GuiUtilRenderComponents.func_178908_a(p_146237_1_, var5,
+					this.mc.fontRendererObj, false, false);
         boolean var7 = this.getChatOpen();
         IChatComponent var9;
 
-        for (Iterator var8 = var6.iterator(); var8.hasNext(); this.field_146253_i.add(0, new ChatLine(p_146237_3_, var9, p_146237_2_)))
+			for(Iterator var8 = var6.iterator(); var8.hasNext(); this.field_146253_i
+				.add(0, new ChatLine(p_146237_3_, var9, p_146237_2_)))
         {
             var9 = (IChatComponent)var8.next();
 
-            if (var7 && this.scrollPos > 0)
+				if(var7 && this.scrollPos > 0)
             {
                 this.isScrolled = true;
                 this.scroll(1);
             }
         }
 
-        while (this.field_146253_i.size() > 100)
+			while(this.field_146253_i.size() > 100)
         {
             this.field_146253_i.remove(this.field_146253_i.size() - 1);
         }
 
-        if (!p_146237_4_)
+			if(!p_146237_4_)
         {
-            this.chatLines.add(0, new ChatLine(p_146237_3_, p_146237_1_, p_146237_2_));
+				this.chatLines.add(0, new ChatLine(p_146237_3_, p_146237_1_,
+					p_146237_2_));
 
-            while (this.chatLines.size() > 100)
+				while(this.chatLines.size() > 100)
             {
                 this.chatLines.remove(this.chatLines.size() - 1);
             }
         }
+		}catch(IndexOutOfBoundsException e)
+    	{
+    		// Rarely gets thrown for no reason
+    		// Might be a concurrent modification issue
+    	}
     }
 
     public void refreshChat()
diff --git a/net/minecraft/client/gui/GuiOptionButton.java b/net/minecraft/client/gui/GuiOptionButton.java
index 8ab41c7..c273f56 100644
--- a/net/minecraft/client/gui/GuiOptionButton.java
+++ b/net/minecraft/client/gui/GuiOptionButton.java
@@ -1,5 +1,6 @@
 package net.minecraft.client.gui;
 
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.settings.GameSettings;
 
 public class GuiOptionButton extends GuiButton
diff --git a/net/minecraft/client/gui/GuiOptionSlider.java b/net/minecraft/client/gui/GuiOptionSlider.java
index 78b2cf2..e303065 100644
--- a/net/minecraft/client/gui/GuiOptionSlider.java
+++ b/net/minecraft/client/gui/GuiOptionSlider.java
@@ -1,6 +1,7 @@
 package net.minecraft.client.gui;
 
 import net.minecraft.client.Minecraft;
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.renderer.GlStateManager;
 import net.minecraft.client.settings.GameSettings;
 import net.minecraft.util.MathHelper;
diff --git a/net/minecraft/client/gui/GuiOptions.java b/net/minecraft/client/gui/GuiOptions.java
index d4c7835..e8aec1e 100644
--- a/net/minecraft/client/gui/GuiOptions.java
+++ b/net/minecraft/client/gui/GuiOptions.java
@@ -1,10 +1,12 @@
 package net.minecraft.client.gui;
 
 import java.io.IOException;
+
 import net.minecraft.client.audio.PositionedSoundRecord;
 import net.minecraft.client.audio.SoundCategory;
 import net.minecraft.client.audio.SoundEventAccessorComposite;
 import net.minecraft.client.audio.SoundHandler;
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.gui.stream.GuiStreamOptions;
 import net.minecraft.client.gui.stream.GuiStreamUnavailable;
 import net.minecraft.client.resources.I18n;
@@ -59,18 +61,18 @@ public class GuiOptions extends GuiScreen implements GuiYesNoCallback
             ++var1;
         }
 
-        if (this.mc.theWorld != null)
+        if (this.mc.world != null)
         {
-            EnumDifficulty var7 = this.mc.theWorld.getDifficulty();
+            EnumDifficulty var7 = this.mc.world.getDifficulty();
             this.field_175357_i = new GuiButton(108, this.width / 2 - 155 + var1 % 2 * 160, this.height / 6 - 12 + 24 * (var1 >> 1), 150, 20, this.func_175355_a(var7));
             this.buttonList.add(this.field_175357_i);
 
-            if (this.mc.isSingleplayer() && !this.mc.theWorld.getWorldInfo().isHardcoreModeEnabled())
+            if (this.mc.isSingleplayer() && !this.mc.world.getWorldInfo().isHardcoreModeEnabled())
             {
                 this.field_175357_i.func_175211_a(this.field_175357_i.getButtonWidth() - 20);
                 this.field_175356_r = new GuiLockIconButton(109, this.field_175357_i.xPosition + this.field_175357_i.getButtonWidth(), this.field_175357_i.yPosition);
                 this.buttonList.add(this.field_175356_r);
-                this.field_175356_r.func_175229_b(this.mc.theWorld.getWorldInfo().isDifficultyLocked());
+                this.field_175356_r.func_175229_b(this.mc.world.getWorldInfo().isDifficultyLocked());
                 this.field_175356_r.enabled = !this.field_175356_r.func_175230_c();
                 this.field_175357_i.enabled = !this.field_175356_r.func_175230_c();
             }
@@ -118,9 +120,9 @@ public class GuiOptions extends GuiScreen implements GuiYesNoCallback
     {
         this.mc.displayGuiScreen(this);
 
-        if (id == 109 && result && this.mc.theWorld != null)
+        if (id == 109 && result && this.mc.world != null)
         {
-            this.mc.theWorld.getWorldInfo().setDifficultyLocked(true);
+            this.mc.world.getWorldInfo().setDifficultyLocked(true);
             this.field_175356_r.func_175229_b(true);
             this.field_175356_r.enabled = false;
             this.field_175357_i.enabled = false;
@@ -140,13 +142,13 @@ public class GuiOptions extends GuiScreen implements GuiYesNoCallback
 
             if (button.id == 108)
             {
-                this.mc.theWorld.getWorldInfo().setDifficulty(EnumDifficulty.getDifficultyEnum(this.mc.theWorld.getDifficulty().getDifficultyId() + 1));
-                this.field_175357_i.displayString = this.func_175355_a(this.mc.theWorld.getDifficulty());
+                this.mc.world.getWorldInfo().setDifficulty(EnumDifficulty.getDifficultyEnum(this.mc.world.getDifficulty().getDifficultyId() + 1));
+                this.field_175357_i.displayString = this.func_175355_a(this.mc.world.getDifficulty());
             }
 
             if (button.id == 109)
             {
-                this.mc.displayGuiScreen(new GuiYesNo(this, (new ChatComponentTranslation("difficulty.lock.title", new Object[0])).getFormattedText(), (new ChatComponentTranslation("difficulty.lock.question", new Object[] {new ChatComponentTranslation(this.mc.theWorld.getWorldInfo().getDifficulty().getDifficultyResourceKey(), new Object[0])})).getFormattedText(), 109));
+                this.mc.displayGuiScreen(new GuiYesNo(this, (new ChatComponentTranslation("difficulty.lock.title", new Object[0])).getFormattedText(), (new ChatComponentTranslation("difficulty.lock.question", new Object[] {new ChatComponentTranslation(this.mc.world.getWorldInfo().getDifficulty().getDifficultyResourceKey(), new Object[0])})).getFormattedText(), 109));
             }
 
             if (button.id == 110)
diff --git a/net/minecraft/client/gui/GuiOptionsRowList.java b/net/minecraft/client/gui/GuiOptionsRowList.java
index eb3c8db..d69a453 100644
--- a/net/minecraft/client/gui/GuiOptionsRowList.java
+++ b/net/minecraft/client/gui/GuiOptionsRowList.java
@@ -1,8 +1,11 @@
 package net.minecraft.client.gui;
 
 import com.google.common.collect.Lists;
+
 import java.util.List;
+
 import net.minecraft.client.Minecraft;
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.settings.GameSettings;
 
 public class GuiOptionsRowList extends GuiListExtended
diff --git a/net/minecraft/client/gui/GuiOverlayDebug.java b/net/minecraft/client/gui/GuiOverlayDebug.java
index ce8862a..b70ba66 100644
--- a/net/minecraft/client/gui/GuiOverlayDebug.java
+++ b/net/minecraft/client/gui/GuiOverlayDebug.java
@@ -50,7 +50,7 @@ public class GuiOverlayDebug extends Gui
 
     private boolean func_175236_d()
     {
-        return this.mc.thePlayer.func_175140_cp() || this.mc.gameSettings.field_178879_v;
+        return this.mc.player.func_175140_cp() || this.mc.gameSettings.field_178879_v;
     }
 
     protected void func_180798_a()
@@ -99,7 +99,7 @@ public class GuiOverlayDebug extends Gui
 
         if (this.func_175236_d())
         {
-            return Lists.newArrayList(new String[] {"Minecraft 1.8 (" + this.mc.func_175600_c() + "/" + ClientBrandRetriever.getClientModName() + ")", this.mc.debug, this.mc.renderGlobal.getDebugInfoRenders(), this.mc.renderGlobal.getDebugInfoEntities(), "P: " + this.mc.effectRenderer.getStatistics() + ". T: " + this.mc.theWorld.getDebugLoadedEntities(), this.mc.theWorld.getProviderName(), "", String.format("Chunk-relative: %d %d %d", new Object[]{Integer.valueOf(var1.getX() & 15), Integer.valueOf(var1.getY() & 15), Integer.valueOf(var1.getZ() & 15)})});
+            return Lists.newArrayList(new String[] {"Minecraft 1.8 (" + this.mc.func_175600_c() + "/" + ClientBrandRetriever.getClientModName() + ")", this.mc.debug, this.mc.renderGlobal.getDebugInfoRenders(), this.mc.renderGlobal.getDebugInfoEntities(), "P: " + this.mc.effectRenderer.getStatistics() + ". T: " + this.mc.world.getDebugLoadedEntities(), this.mc.world.getProviderName(), "", String.format("Chunk-relative: %d %d %d", new Object[]{Integer.valueOf(var1.getX() & 15), Integer.valueOf(var1.getY() & 15), Integer.valueOf(var1.getZ() & 15)})});
         }
         else
         {
@@ -125,18 +125,18 @@ public class GuiOverlayDebug extends Gui
                     var4 = "Towards positive X";
             }
 
-            ArrayList var5 = Lists.newArrayList(new String[] {"Minecraft 1.8 (" + this.mc.func_175600_c() + "/" + ClientBrandRetriever.getClientModName() + ")", this.mc.debug, this.mc.renderGlobal.getDebugInfoRenders(), this.mc.renderGlobal.getDebugInfoEntities(), "P: " + this.mc.effectRenderer.getStatistics() + ". T: " + this.mc.theWorld.getDebugLoadedEntities(), this.mc.theWorld.getProviderName(), "", String.format("XYZ: %.3f / %.5f / %.3f", new Object[]{Double.valueOf(this.mc.func_175606_aa().posX), Double.valueOf(this.mc.func_175606_aa().getEntityBoundingBox().minY), Double.valueOf(this.mc.func_175606_aa().posZ)}), String.format("Block: %d %d %d", new Object[]{Integer.valueOf(var1.getX()), Integer.valueOf(var1.getY()), Integer.valueOf(var1.getZ())}), String.format("Chunk: %d %d %d in %d %d %d", new Object[]{Integer.valueOf(var1.getX() & 15), Integer.valueOf(var1.getY() & 15), Integer.valueOf(var1.getZ() & 15), Integer.valueOf(var1.getX() >> 4), Integer.valueOf(var1.getY() >> 4), Integer.valueOf(var1.getZ() >> 4)}), String.format("Facing: %s (%s) (%.1f / %.1f)", new Object[]{var3, var4, Float.valueOf(MathHelper.wrapAngleTo180_float(var2.rotationYaw)), Float.valueOf(MathHelper.wrapAngleTo180_float(var2.rotationPitch))})});
+            ArrayList var5 = Lists.newArrayList(new String[] {"Minecraft 1.8 (" + this.mc.func_175600_c() + "/" + ClientBrandRetriever.getClientModName() + ")", this.mc.debug, this.mc.renderGlobal.getDebugInfoRenders(), this.mc.renderGlobal.getDebugInfoEntities(), "P: " + this.mc.effectRenderer.getStatistics() + ". T: " + this.mc.world.getDebugLoadedEntities(), this.mc.world.getProviderName(), "", String.format("XYZ: %.3f / %.5f / %.3f", new Object[]{Double.valueOf(this.mc.func_175606_aa().posX), Double.valueOf(this.mc.func_175606_aa().getEntityBoundingBox().minY), Double.valueOf(this.mc.func_175606_aa().posZ)}), String.format("Block: %d %d %d", new Object[]{Integer.valueOf(var1.getX()), Integer.valueOf(var1.getY()), Integer.valueOf(var1.getZ())}), String.format("Chunk: %d %d %d in %d %d %d", new Object[]{Integer.valueOf(var1.getX() & 15), Integer.valueOf(var1.getY() & 15), Integer.valueOf(var1.getZ() & 15), Integer.valueOf(var1.getX() >> 4), Integer.valueOf(var1.getY() >> 4), Integer.valueOf(var1.getZ() >> 4)}), String.format("Facing: %s (%s) (%.1f / %.1f)", new Object[]{var3, var4, Float.valueOf(MathHelper.wrapAngleTo180_float(var2.rotationYaw)), Float.valueOf(MathHelper.wrapAngleTo180_float(var2.rotationPitch))})});
 
-            if (this.mc.theWorld != null && this.mc.theWorld.isBlockLoaded(var1))
+            if (this.mc.world.isBlockLoaded(var1))
             {
-                Chunk var6 = this.mc.theWorld.getChunkFromBlockCoords(var1);
-                var5.add("Biome: " + var6.getBiome(var1, this.mc.theWorld.getWorldChunkManager()).biomeName);
+                Chunk var6 = this.mc.world.getChunkFromBlockCoords(var1);
+                var5.add("Biome: " + var6.getBiome(var1, this.mc.world.getWorldChunkManager()).biomeName);
                 var5.add("Light: " + var6.setLight(var1, 0) + " (" + var6.getLightFor(EnumSkyBlock.SKY, var1) + " sky, " + var6.getLightFor(EnumSkyBlock.BLOCK, var1) + " block)");
-                DifficultyInstance var7 = this.mc.theWorld.getDifficultyForLocation(var1);
+                DifficultyInstance var7 = this.mc.world.getDifficultyForLocation(var1);
 
                 if (this.mc.isIntegratedServerRunning() && this.mc.getIntegratedServer() != null)
                 {
-                    EntityPlayerMP var8 = this.mc.getIntegratedServer().getConfigurationManager().func_177451_a(this.mc.thePlayer.getUniqueID());
+                    EntityPlayerMP var8 = this.mc.getIntegratedServer().getConfigurationManager().func_177451_a(this.mc.player.getUniqueID());
 
                     if (var8 != null)
                     {
@@ -144,7 +144,7 @@ public class GuiOverlayDebug extends Gui
                     }
                 }
 
-                var5.add(String.format("Local Difficulty: %.2f (Day %d)", new Object[] {Float.valueOf(var7.func_180168_b()), Long.valueOf(this.mc.theWorld.getWorldTime() / 24000L)}));
+                var5.add(String.format("Local Difficulty: %.2f (Day %d)", new Object[] {Float.valueOf(var7.func_180168_b()), Long.valueOf(this.mc.world.getWorldTime() / 24000L)}));
             }
 
             if (this.mc.entityRenderer != null && this.mc.entityRenderer.isShaderActive())
@@ -152,9 +152,9 @@ public class GuiOverlayDebug extends Gui
                 var5.add("Shader: " + this.mc.entityRenderer.getShaderGroup().getShaderGroupName());
             }
 
-            if (this.mc.objectMouseOver != null && this.mc.objectMouseOver.typeOfHit == MovingObjectPosition.MovingObjectType.BLOCK && this.mc.objectMouseOver.func_178782_a() != null)
+            if (this.mc.objectMouseOver != null && this.mc.objectMouseOver.typeOfHit == MovingObjectPosition.MovingObjectType.BLOCK && this.mc.objectMouseOver.getBlockPos() != null)
             {
-                BlockPos var9 = this.mc.objectMouseOver.func_178782_a();
+                BlockPos var9 = this.mc.objectMouseOver.getBlockPos();
                 var5.add(String.format("Looking at: %d %d %d", new Object[] {Integer.valueOf(var9.getX()), Integer.valueOf(var9.getY()), Integer.valueOf(var9.getZ())}));
             }
 
@@ -176,14 +176,14 @@ public class GuiOverlayDebug extends Gui
         }
         else
         {
-            if (this.mc.objectMouseOver != null && this.mc.objectMouseOver.typeOfHit == MovingObjectPosition.MovingObjectType.BLOCK && this.mc.objectMouseOver.func_178782_a() != null)
+            if (this.mc.objectMouseOver != null && this.mc.objectMouseOver.typeOfHit == MovingObjectPosition.MovingObjectType.BLOCK && this.mc.objectMouseOver.getBlockPos() != null)
             {
-                BlockPos var10 = this.mc.objectMouseOver.func_178782_a();
-                IBlockState var11 = this.mc.theWorld.getBlockState(var10);
+                BlockPos var10 = this.mc.objectMouseOver.getBlockPos();
+                IBlockState var11 = this.mc.world.getBlockState(var10);
 
-                if (this.mc.theWorld.getWorldType() != WorldType.DEBUG_WORLD)
+                if (this.mc.world.getWorldType() != WorldType.DEBUG_WORLD)
                 {
-                    var11 = var11.getBlock().getActualState(var11, this.mc.theWorld, var10);
+                    var11 = var11.getBlock().getActualState(var11, this.mc.world, var10);
                 }
 
                 var9.add("");
diff --git a/net/minecraft/client/gui/GuiPageButtonList.java b/net/minecraft/client/gui/GuiPageButtonList.java
index 8e601f3..221e068 100644
--- a/net/minecraft/client/gui/GuiPageButtonList.java
+++ b/net/minecraft/client/gui/GuiPageButtonList.java
@@ -4,8 +4,11 @@ import com.google.common.base.Objects;
 import com.google.common.base.Predicate;
 import com.google.common.base.Predicates;
 import com.google.common.collect.Lists;
+
 import java.util.List;
+
 import net.minecraft.client.Minecraft;
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.util.IntHashMap;
 
 public class GuiPageButtonList extends GuiListExtended
diff --git a/net/minecraft/client/gui/GuiPlayerTabOverlay.java b/net/minecraft/client/gui/GuiPlayerTabOverlay.java
index ddc5d3b..40ee250 100644
--- a/net/minecraft/client/gui/GuiPlayerTabOverlay.java
+++ b/net/minecraft/client/gui/GuiPlayerTabOverlay.java
@@ -37,9 +37,9 @@ public class GuiPlayerTabOverlay extends Gui
         this.field_175251_g = p_i45529_2_;
     }
 
-    public String func_175243_a(NetworkPlayerInfo p_175243_1_)
+    public String func_175243_a(NetworkPlayerInfo networkPlayerInfo)
     {
-        return p_175243_1_.func_178854_k() != null ? p_175243_1_.func_178854_k().getFormattedText() : ScorePlayerTeam.formatPlayerName(p_175243_1_.func_178850_i(), p_175243_1_.func_178845_a().getName());
+        return networkPlayerInfo.getPlayerName() != null ? networkPlayerInfo.getPlayerName().getFormattedText() : ScorePlayerTeam.formatPlayerName(networkPlayerInfo.getScoreTeam(), networkPlayerInfo.getGameProfile().getName());
     }
 
     public void func_175246_a(boolean p_175246_1_)
@@ -54,8 +54,8 @@ public class GuiPlayerTabOverlay extends Gui
 
     public void func_175249_a(int p_175249_1_, Scoreboard p_175249_2_, ScoreObjective p_175249_3_)
     {
-        NetHandlerPlayClient var4 = this.field_175250_f.thePlayer.sendQueue;
-        List var5 = field_175252_a.sortedCopy(var4.func_175106_d());
+        NetHandlerPlayClient var4 = this.field_175250_f.player.connection;
+        List var5 = field_175252_a.sortedCopy(var4.getPlayerInfo());
         int var6 = 0;
         int var7 = 0;
         Iterator var8 = var5.iterator();
@@ -69,7 +69,7 @@ public class GuiPlayerTabOverlay extends Gui
 
             if (p_175249_3_ != null && p_175249_3_.func_178766_e() != IScoreObjectiveCriteria.EnumRenderType.HEARTS)
             {
-                var10 = this.field_175250_f.fontRendererObj.getStringWidth(" " + p_175249_2_.getValueFromObjective(var9.func_178845_a().getName(), p_175249_3_).getScorePoints());
+                var10 = this.field_175250_f.fontRendererObj.getStringWidth(" " + p_175249_2_.getValueFromObjective(var9.getGameProfile().getName(), p_175249_3_).getScorePoints());
                 var7 = Math.max(var7, var10);
             }
         }
@@ -83,7 +83,7 @@ public class GuiPlayerTabOverlay extends Gui
             ++var10;
         }
 
-        boolean var11 = this.field_175250_f.isIntegratedServerRunning() || this.field_175250_f.getNetHandler().getNetworkManager().func_179292_f();
+        boolean var11 = this.field_175250_f.isIntegratedServerRunning() || this.field_175250_f.getNetHandler().getNetworkManager().isEncrypted();
         int var12;
 
         if (p_175249_3_ != null)
@@ -141,7 +141,7 @@ public class GuiPlayerTabOverlay extends Gui
             {
                 var20 = (String)var19.next();
                 var21 = this.field_175250_f.fontRendererObj.getStringWidth(var20);
-                this.field_175250_f.fontRendererObj.func_175063_a(var20, (float)(p_175249_1_ / 2 - var21 / 2), (float)var15, -1);
+                this.field_175250_f.fontRendererObj.drawStringWithShadow(var20, (float)(p_175249_1_ / 2 - var21 / 2), (float)var15, -1);
             }
 
             ++var15;
@@ -170,7 +170,7 @@ public class GuiPlayerTabOverlay extends Gui
                 {
                     this.field_175250_f.getTextureManager().bindTexture(var24.func_178837_g());
                     Gui.drawScaledCustomSizeModalRect(var22, var23, 8.0F, 8.0F, 8, 8, 8, 8, 64.0F, 64.0F);
-                    EntityPlayer var26 = this.field_175250_f.theWorld.getPlayerEntityByUUID(var24.func_178845_a().getId());
+                    EntityPlayer var26 = this.field_175250_f.world.getPlayerEntityByUUID(var24.getGameProfile().getId());
 
                     if (var26 != null && var26.func_175148_a(EnumPlayerModelParts.HAT))
                     {
@@ -183,11 +183,11 @@ public class GuiPlayerTabOverlay extends Gui
                 if (var24.getGameType() == WorldSettings.GameType.SPECTATOR)
                 {
                     var25 = EnumChatFormatting.ITALIC + var25;
-                    this.field_175250_f.fontRendererObj.func_175063_a(var25, (float)var22, (float)var23, -1862270977);
+                    this.field_175250_f.fontRendererObj.drawStringWithShadow(var25, (float)var22, (float)var23, -1862270977);
                 }
                 else
                 {
-                    this.field_175250_f.fontRendererObj.func_175063_a(var25, (float)var22, (float)var23, -1);
+                    this.field_175250_f.fontRendererObj.drawStringWithShadow(var25, (float)var22, (float)var23, -1);
                 }
 
                 if (p_175249_3_ != null && var24.getGameType() != WorldSettings.GameType.SPECTATOR)
@@ -197,7 +197,7 @@ public class GuiPlayerTabOverlay extends Gui
 
                     if (var27 - var32 > 5)
                     {
-                        this.func_175247_a(p_175249_3_, var23, var24.func_178845_a().getName(), var32, var27, var24);
+                        this.func_175247_a(p_175249_3_, var23, var24.getGameProfile().getName(), var32, var27, var24);
                     }
                 }
 
@@ -214,7 +214,7 @@ public class GuiPlayerTabOverlay extends Gui
             {
                 var20 = (String)var19.next();
                 var21 = this.field_175250_f.fontRendererObj.getStringWidth(var20);
-                this.field_175250_f.fontRendererObj.func_175063_a(var20, (float)(p_175249_1_ / 2 - var21 / 2), (float)var15, -1);
+                this.field_175250_f.fontRendererObj.drawStringWithShadow(var20, (float)(p_175249_1_ / 2 - var21 / 2), (float)var15, -1);
             }
         }
     }
@@ -344,14 +344,14 @@ public class GuiPlayerTabOverlay extends Gui
                         var14 = var14 + "hp";
                     }
 
-                    this.field_175250_f.fontRendererObj.func_175063_a(var14, (float)((p_175247_5_ + p_175247_4_) / 2 - this.field_175250_f.fontRendererObj.getStringWidth(var14) / 2), (float)p_175247_2_, var13);
+                    this.field_175250_f.fontRendererObj.drawStringWithShadow(var14, (float)((p_175247_5_ + p_175247_4_) / 2 - this.field_175250_f.fontRendererObj.getStringWidth(var14) / 2), (float)p_175247_2_, var13);
                 }
             }
         }
         else
         {
             String var15 = EnumChatFormatting.YELLOW + "" + var7;
-            this.field_175250_f.fontRendererObj.func_175063_a(var15, (float)(p_175247_5_ - this.field_175250_f.fontRendererObj.getStringWidth(var15)), (float)p_175247_2_, 16777215);
+            this.field_175250_f.fontRendererObj.drawStringWithShadow(var15, (float)(p_175247_5_ - this.field_175250_f.fontRendererObj.getStringWidth(var15)), (float)p_175247_2_, 16777215);
         }
     }
 
@@ -373,9 +373,9 @@ public class GuiPlayerTabOverlay extends Gui
 
         public int func_178952_a(NetworkPlayerInfo p_178952_1_, NetworkPlayerInfo p_178952_2_)
         {
-            ScorePlayerTeam var3 = p_178952_1_.func_178850_i();
-            ScorePlayerTeam var4 = p_178952_2_.func_178850_i();
-            return ComparisonChain.start().compareTrueFirst(p_178952_1_.getGameType() != WorldSettings.GameType.SPECTATOR, p_178952_2_.getGameType() != WorldSettings.GameType.SPECTATOR).compare(var3 != null ? var3.getRegisteredName() : "", var4 != null ? var4.getRegisteredName() : "").compare(p_178952_1_.func_178845_a().getName(), p_178952_2_.func_178845_a().getName()).result();
+            ScorePlayerTeam var3 = p_178952_1_.getScoreTeam();
+            ScorePlayerTeam var4 = p_178952_2_.getScoreTeam();
+            return ComparisonChain.start().compareTrueFirst(p_178952_1_.getGameType() != WorldSettings.GameType.SPECTATOR, p_178952_2_.getGameType() != WorldSettings.GameType.SPECTATOR).compare(var3 != null ? var3.getRegisteredName() : "", var4 != null ? var4.getRegisteredName() : "").compare(p_178952_1_.getGameProfile().getName(), p_178952_2_.getGameProfile().getName()).result();
         }
 
         public int compare(Object p_compare_1_, Object p_compare_2_)
diff --git a/net/minecraft/client/gui/GuiRenameWorld.java b/net/minecraft/client/gui/GuiRenameWorld.java
index c755d31..7e7e929 100644
--- a/net/minecraft/client/gui/GuiRenameWorld.java
+++ b/net/minecraft/client/gui/GuiRenameWorld.java
@@ -1,9 +1,12 @@
 package net.minecraft.client.gui;
 
 import java.io.IOException;
+
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.resources.I18n;
 import net.minecraft.world.storage.ISaveFormat;
 import net.minecraft.world.storage.WorldInfo;
+
 import org.lwjgl.input.Keyboard;
 
 public class GuiRenameWorld extends GuiScreen
diff --git a/net/minecraft/client/gui/GuiRepair.java b/net/minecraft/client/gui/GuiRepair.java
index 063634b..8f407cf 100644
--- a/net/minecraft/client/gui/GuiRepair.java
+++ b/net/minecraft/client/gui/GuiRepair.java
@@ -30,7 +30,7 @@ public class GuiRepair extends GuiContainer implements ICrafting
 
     public GuiRepair(InventoryPlayer p_i45508_1_, World worldIn)
     {
-        super(new ContainerRepair(p_i45508_1_, worldIn, Minecraft.getMinecraft().thePlayer));
+        super(new ContainerRepair(p_i45508_1_, worldIn, Minecraft.getMinecraft().player));
         this.playerInventory = p_i45508_1_;
         this.anvil = (ContainerRepair)this.inventorySlots;
     }
@@ -78,7 +78,7 @@ public class GuiRepair extends GuiContainer implements ICrafting
             boolean var4 = true;
             String var5 = I18n.format("container.repair.cost", new Object[] {Integer.valueOf(this.anvil.maximumCost)});
 
-            if (this.anvil.maximumCost >= 40 && !this.mc.thePlayer.capabilities.isCreativeMode)
+            if (this.anvil.maximumCost >= 40 && !this.mc.player.capabilities.isCreativeMode)
             {
                 var5 = I18n.format("container.repair.expensive", new Object[0]);
                 var3 = 16736352;
@@ -144,7 +144,7 @@ public class GuiRepair extends GuiContainer implements ICrafting
         }
 
         this.anvil.updateItemName(var1);
-        this.mc.thePlayer.sendQueue.addToSendQueue(new C17PacketCustomPayload("MC|ItemName", (new PacketBuffer(Unpooled.buffer())).writeString(var1)));
+        this.mc.player.connection.sendPacket(new C17PacketCustomPayload("MC|ItemName", (new PacketBuffer(Unpooled.buffer())).writeString(var1)));
     }
 
     /**
diff --git a/net/minecraft/client/gui/GuiScreen.java b/net/minecraft/client/gui/GuiScreen.java
index 6cafae5..fbf1c41 100644
--- a/net/minecraft/client/gui/GuiScreen.java
+++ b/net/minecraft/client/gui/GuiScreen.java
@@ -3,6 +3,7 @@ package net.minecraft.client.gui;
 import com.google.common.base.Splitter;
 import com.google.common.collect.Lists;
 import com.google.common.collect.Sets;
+
 import java.awt.Toolkit;
 import java.awt.datatransfer.ClipboardOwner;
 import java.awt.datatransfer.DataFlavor;
@@ -17,7 +18,9 @@ import java.util.Arrays;
 import java.util.Iterator;
 import java.util.List;
 import java.util.Set;
+
 import net.minecraft.client.Minecraft;
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.gui.stream.GuiTwitchUserMode;
 import net.minecraft.client.renderer.GlStateManager;
 import net.minecraft.client.renderer.RenderHelper;
@@ -37,11 +40,13 @@ import net.minecraft.stats.StatList;
 import net.minecraft.util.ChatComponentTranslation;
 import net.minecraft.util.EnumChatFormatting;
 import net.minecraft.util.IChatComponent;
+
 import org.apache.commons.lang3.StringUtils;
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 import org.lwjgl.input.Keyboard;
 import org.lwjgl.input.Mouse;
+
 import tv.twitch.chat.ChatUserInfo;
 
 public abstract class GuiScreen extends Gui implements GuiYesNoCallback
@@ -51,7 +56,8 @@ public abstract class GuiScreen extends Gui implements GuiYesNoCallback
     private static final Splitter field_175285_g = Splitter.on('\n');
 
     /** Reference to the Minecraft object. */
-    protected Minecraft mc;
+    //TODO: Client
+    public static Minecraft mc;
 
     /**
      * Holds a instance of RenderItem, used to draw the achievement icons on screen (is based on ItemStack)
@@ -165,7 +171,7 @@ public abstract class GuiScreen extends Gui implements GuiYesNoCallback
 
     protected void renderToolTip(ItemStack itemIn, int x, int y)
     {
-        List var4 = itemIn.getTooltip(this.mc.thePlayer, this.mc.gameSettings.advancedItemTooltips);
+        List var4 = itemIn.getTooltip(this.mc.player, this.mc.gameSettings.advancedItemTooltips);
 
         for (int var5 = 0; var5 < var4.size(); ++var5)
         {
@@ -250,7 +256,7 @@ public abstract class GuiScreen extends Gui implements GuiYesNoCallback
             for (int var12 = 0; var12 < textLines.size(); ++var12)
             {
                 String var13 = (String)textLines.get(var12);
-                this.fontRendererObj.func_175063_a(var13, (float)var14, (float)var15, -1);
+                this.fontRendererObj.drawStringWithShadow(var13, (float)var14, (float)var15, -1);
 
                 if (var12 == 0)
                 {
@@ -281,7 +287,7 @@ public abstract class GuiScreen extends Gui implements GuiYesNoCallback
 
                 try
                 {
-                    NBTTagCompound var6 = JsonToNBT.func_180713_a(var4.getValue().getUnformattedText());
+                    NBTTagCompound var6 = JsonToNBT.getTagFromJson(var4.getValue().getUnformattedText());
 
                     if (var6 instanceof NBTTagCompound)
                     {
@@ -312,7 +318,7 @@ public abstract class GuiScreen extends Gui implements GuiYesNoCallback
                     {
                         try
                         {
-                            NBTTagCompound var12 = JsonToNBT.func_180713_a(var4.getValue().getUnformattedText());
+                            NBTTagCompound var12 = JsonToNBT.getTagFromJson(var4.getValue().getUnformattedText());
 
                             if (var12 instanceof NBTTagCompound)
                             {
@@ -478,7 +484,7 @@ public abstract class GuiScreen extends Gui implements GuiYesNoCallback
             this.mc.ingameGUI.getChatGUI().addToSentMessages(p_175281_1_);
         }
 
-        this.mc.thePlayer.sendChatMessage(p_175281_1_);
+        this.mc.player.sendChatMessage(p_175281_1_);
     }
 
     /**
@@ -634,7 +640,7 @@ public abstract class GuiScreen extends Gui implements GuiYesNoCallback
 
     public void drawWorldBackground(int tint)
     {
-        if (this.mc.theWorld != null)
+        if (this.mc.world != null)
         {
             this.drawGradientRect(0, 0, this.width, this.height, -1072689136, -804253680);
         }
@@ -657,7 +663,7 @@ public abstract class GuiScreen extends Gui implements GuiYesNoCallback
         GlStateManager.color(1.0F, 1.0F, 1.0F, 1.0F);
         float var4 = 32.0F;
         var3.startDrawingQuads();
-        var3.func_178991_c(4210752);
+        var3.setColorOpaque_I(4210752);
         var3.addVertexWithUV(0.0D, (double)this.height, 0.0D, 0.0D, (double)((float)this.height / var4 + (float)tint));
         var3.addVertexWithUV((double)this.width, (double)this.height, 0.0D, (double)((float)this.width / var4), (double)((float)this.height / var4 + (float)tint));
         var3.addVertexWithUV((double)this.width, 0.0D, 0.0D, (double)((float)this.width / var4), (double)tint);
diff --git a/net/minecraft/client/gui/GuiScreenAddServer.java b/net/minecraft/client/gui/GuiScreenAddServer.java
index f97ff5a..f032cdc 100644
--- a/net/minecraft/client/gui/GuiScreenAddServer.java
+++ b/net/minecraft/client/gui/GuiScreenAddServer.java
@@ -1,8 +1,11 @@
 package net.minecraft.client.gui;
 
 import java.io.IOException;
+
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.multiplayer.ServerData;
 import net.minecraft.client.resources.I18n;
+
 import org.lwjgl.input.Keyboard;
 
 public class GuiScreenAddServer extends GuiScreen
diff --git a/net/minecraft/client/gui/GuiScreenBook.java b/net/minecraft/client/gui/GuiScreenBook.java
index a8feb74..f1a39b6 100644
--- a/net/minecraft/client/gui/GuiScreenBook.java
+++ b/net/minecraft/client/gui/GuiScreenBook.java
@@ -2,11 +2,15 @@ package net.minecraft.client.gui;
 
 import com.google.common.collect.Lists;
 import com.google.gson.JsonParseException;
+
 import io.netty.buffer.Unpooled;
+
 import java.io.IOException;
 import java.util.Iterator;
 import java.util.List;
+
 import net.minecraft.client.Minecraft;
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.renderer.GlStateManager;
 import net.minecraft.client.resources.I18n;
 import net.minecraft.entity.player.EntityPlayer;
@@ -14,6 +18,9 @@ import net.minecraft.event.ClickEvent;
 import net.minecraft.init.Items;
 import net.minecraft.item.ItemEditableBook;
 import net.minecraft.item.ItemStack;
+import net.minecraft.nbt.JsonToNBT;
+import net.minecraft.nbt.NBTBase;
+import net.minecraft.nbt.NBTException;
 import net.minecraft.nbt.NBTTagCompound;
 import net.minecraft.nbt.NBTTagList;
 import net.minecraft.nbt.NBTTagString;
@@ -21,13 +28,17 @@ import net.minecraft.network.PacketBuffer;
 import net.minecraft.network.play.client.C17PacketCustomPayload;
 import net.minecraft.util.ChatAllowedCharacters;
 import net.minecraft.util.ChatComponentText;
+import net.minecraft.util.ChatStyle;
 import net.minecraft.util.EnumChatFormatting;
 import net.minecraft.util.IChatComponent;
 import net.minecraft.util.ResourceLocation;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 import org.lwjgl.input.Keyboard;
 
+import tk.wurst_client.gui.mods.GuiBookHack;
+
 public class GuiScreenBook extends GuiScreen
 {
     private static final Logger logger = LogManager.getLogger();
@@ -68,6 +79,10 @@ public class GuiScreenBook extends GuiScreen
     private GuiButton buttonCancel;
     private static final String __OBFID = "CL_00000744";
 
+    //TODO: Client
+    private boolean hasCommand;
+    private String command;
+
     public GuiScreenBook(EntityPlayer p_i1080_1_, ItemStack p_i1080_2_, boolean p_i1080_3_)
     {
         this.editingPlayer = p_i1080_1_;
@@ -122,6 +137,10 @@ public class GuiScreenBook extends GuiScreen
             this.buttonList.add(this.buttonDone = new GuiButton(0, this.width / 2 + 2, 4 + this.bookImageHeight, 98, 20, I18n.format("gui.done", new Object[0])));
             this.buttonList.add(this.buttonFinalize = new GuiButton(5, this.width / 2 - 100, 4 + this.bookImageHeight, 98, 20, I18n.format("book.finalizeButton", new Object[0])));
             this.buttonList.add(this.buttonCancel = new GuiButton(4, this.width / 2 + 2, 4 + this.bookImageHeight, 98, 20, I18n.format("gui.cancel", new Object[0])));
+            
+            //TODO: Client
+            this.buttonList.add(new GuiButton(6, (width + bookImageWidth) / 2, bookImageHeight / 2, 100, 20, "Command Link"));
+            
         }
         else
         {
@@ -155,6 +174,12 @@ public class GuiScreenBook extends GuiScreen
             this.buttonCancel.visible = this.bookGettingSigned;
             this.buttonFinalize.visible = this.bookGettingSigned;
             this.buttonFinalize.enabled = this.bookTitle.trim().length() > 0;
+            
+            //TODO: Client
+            GuiButton buttonCommandLink = (GuiButton)buttonList.get(4);
+            buttonCommandLink.visible = bookGettingSigned;
+            buttonCommandLink.enabled = buttonFinalize.enabled;
+            
         }
     }
 
@@ -205,11 +230,40 @@ public class GuiScreenBook extends GuiScreen
                     }
 
                     this.bookObj.setItem(Items.written_book);
+                    
+                    // TODO: Client
+                    if(hasCommand)
+                    	try
+						{
+							NBTTagList pages =
+								bookObj.getTagCompound().getTagList("pages", 8);
+							for(int page = 0; page < pages.tagCount(); page++)
+							{
+								String text = pages.getStringTagAt(page);
+								text = text.substring(1, text.length() - 1);
+								ChatComponentText component =
+									new ChatComponentText(text);
+								component
+									.setChatStyle(new ChatStyle())
+									.getChatStyle()
+									.setChatClickEvent(
+										new ClickEvent(
+											ClickEvent.Action.RUN_COMMAND, command));
+								text =
+									IChatComponent.Serializer
+										.componentToJson(component);
+								pages.set(page, new NBTTagString(text));
+							}
+							System.out.println(bookObj.getTagCompound());
+						}catch(Exception e)
+                    {
+                    	e.printStackTrace();
+                    }
                 }
 
                 PacketBuffer var7 = new PacketBuffer(Unpooled.buffer());
                 var7.writeItemStackToBuffer(this.bookObj);
-                this.mc.getNetHandler().addToSendQueue(new C17PacketCustomPayload(var2, var7));
+                this.mc.getNetHandler().sendPacket(new C17PacketCustomPayload(var2, var7));
             }
         }
     }
@@ -258,12 +312,32 @@ public class GuiScreenBook extends GuiScreen
             else if (button.id == 4 && this.bookGettingSigned)
             {
                 this.bookGettingSigned = false;
+                
+                //TODO: Client
+            }else if(button.id == 6)
+			{
+            	mc.displayGuiScreen(new GuiBookHack(this));
             }
 
             this.updateButtons();
         }
     }
 
+    //TODO: Client
+    public void signWithCommand(String command)
+    {
+		try
+		{
+			this.command = command;
+			hasCommand = true;
+			sendBookToServer(true);
+			this.mc.displayGuiScreen((GuiScreen)null);
+		}catch(Exception e)
+		{
+			e.printStackTrace();
+		}
+    }
+
     private void addNewPage()
     {
         if (this.bookPages != null && this.bookPages.tagCount() < 50)
diff --git a/net/minecraft/client/gui/GuiScreenCustomizePresets.java b/net/minecraft/client/gui/GuiScreenCustomizePresets.java
index 0bb23a8..96f2ccd 100644
--- a/net/minecraft/client/gui/GuiScreenCustomizePresets.java
+++ b/net/minecraft/client/gui/GuiScreenCustomizePresets.java
@@ -1,14 +1,18 @@
 package net.minecraft.client.gui;
 
 import com.google.common.collect.Lists;
+
 import java.io.IOException;
 import java.util.List;
+
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.renderer.GlStateManager;
 import net.minecraft.client.renderer.Tessellator;
 import net.minecraft.client.renderer.WorldRenderer;
 import net.minecraft.client.resources.I18n;
 import net.minecraft.util.ResourceLocation;
 import net.minecraft.world.gen.ChunkProviderSettings;
+
 import org.lwjgl.input.Keyboard;
 
 public class GuiScreenCustomizePresets extends GuiScreen
diff --git a/net/minecraft/client/gui/GuiScreenDemo.java b/net/minecraft/client/gui/GuiScreenDemo.java
index 20ba93a..61a59f3 100644
--- a/net/minecraft/client/gui/GuiScreenDemo.java
+++ b/net/minecraft/client/gui/GuiScreenDemo.java
@@ -2,10 +2,13 @@ package net.minecraft.client.gui;
 
 import java.io.IOException;
 import java.net.URI;
+
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.renderer.GlStateManager;
 import net.minecraft.client.resources.I18n;
 import net.minecraft.client.settings.GameSettings;
 import net.minecraft.util.ResourceLocation;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 
diff --git a/net/minecraft/client/gui/GuiScreenOptionsSounds.java b/net/minecraft/client/gui/GuiScreenOptionsSounds.java
index 2fbfed5..286c43b 100644
--- a/net/minecraft/client/gui/GuiScreenOptionsSounds.java
+++ b/net/minecraft/client/gui/GuiScreenOptionsSounds.java
@@ -1,10 +1,12 @@
 package net.minecraft.client.gui;
 
 import java.io.IOException;
+
 import net.minecraft.client.Minecraft;
 import net.minecraft.client.audio.PositionedSoundRecord;
 import net.minecraft.client.audio.SoundCategory;
 import net.minecraft.client.audio.SoundHandler;
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.renderer.GlStateManager;
 import net.minecraft.client.resources.I18n;
 import net.minecraft.client.settings.GameSettings;
diff --git a/net/minecraft/client/gui/GuiScreenRealmsProxy.java b/net/minecraft/client/gui/GuiScreenRealmsProxy.java
index fe9d074..cf81f61 100644
--- a/net/minecraft/client/gui/GuiScreenRealmsProxy.java
+++ b/net/minecraft/client/gui/GuiScreenRealmsProxy.java
@@ -1,11 +1,14 @@
 package net.minecraft.client.gui;
 
 import com.google.common.collect.Lists;
+
 import java.io.IOException;
 import java.util.ArrayList;
 import java.util.Collections;
 import java.util.Iterator;
 import java.util.List;
+
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.item.ItemStack;
 import net.minecraft.realms.RealmsButton;
 import net.minecraft.realms.RealmsScreen;
@@ -132,7 +135,7 @@ public class GuiScreenRealmsProxy extends GuiScreen
 
     public void func_154319_c(String p_154319_1_, int p_154319_2_, int p_154319_3_, int p_154319_4_)
     {
-        this.fontRendererObj.func_175063_a(p_154319_1_, (float)p_154319_2_, (float)p_154319_3_, p_154319_4_);
+        this.fontRendererObj.drawStringWithShadow(p_154319_1_, (float)p_154319_2_, (float)p_154319_3_, p_154319_4_);
     }
 
     public List func_154323_a(String p_154323_1_, int p_154323_2_)
diff --git a/net/minecraft/client/gui/GuiScreenResourcePacks.java b/net/minecraft/client/gui/GuiScreenResourcePacks.java
index b3f689d..dbc9bc8 100644
--- a/net/minecraft/client/gui/GuiScreenResourcePacks.java
+++ b/net/minecraft/client/gui/GuiScreenResourcePacks.java
@@ -1,6 +1,7 @@
 package net.minecraft.client.gui;
 
 import com.google.common.collect.Lists;
+
 import java.io.File;
 import java.io.IOException;
 import java.net.URI;
@@ -8,12 +9,15 @@ import java.util.ArrayList;
 import java.util.Collections;
 import java.util.Iterator;
 import java.util.List;
+
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.resources.I18n;
 import net.minecraft.client.resources.ResourcePackListEntry;
 import net.minecraft.client.resources.ResourcePackListEntryDefault;
 import net.minecraft.client.resources.ResourcePackListEntryFound;
 import net.minecraft.client.resources.ResourcePackRepository;
 import net.minecraft.util.Util;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 import org.lwjgl.Sys;
diff --git a/net/minecraft/client/gui/GuiScreenServerList.java b/net/minecraft/client/gui/GuiScreenServerList.java
index a19f2ec..f9bf16f 100644
--- a/net/minecraft/client/gui/GuiScreenServerList.java
+++ b/net/minecraft/client/gui/GuiScreenServerList.java
@@ -1,10 +1,16 @@
 package net.minecraft.client.gui;
 
 import java.io.IOException;
+
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.multiplayer.ServerData;
 import net.minecraft.client.resources.I18n;
+
 import org.lwjgl.input.Keyboard;
 
+import tk.wurst_client.WurstClient;
+import tk.wurst_client.hooks.ServerHook;
+
 public class GuiScreenServerList extends GuiScreen
 {
     private final GuiScreen field_146303_a;
@@ -63,6 +69,11 @@ public class GuiScreenServerList extends GuiScreen
             else if (button.id == 0)
             {
                 this.field_146301_f.serverIP = this.field_146302_g.getText();
+                
+				// TODO: Client
+				ServerHook.updateLastServerFromDirectConnect(
+					(GuiMultiplayer)field_146303_a, field_146301_f);
+                
                 this.field_146303_a.confirmClicked(true, 0);
             }
         }
diff --git a/net/minecraft/client/gui/GuiSelectWorld.java b/net/minecraft/client/gui/GuiSelectWorld.java
index ea2c93b..d2f3b69 100644
--- a/net/minecraft/client/gui/GuiSelectWorld.java
+++ b/net/minecraft/client/gui/GuiSelectWorld.java
@@ -5,8 +5,10 @@ import java.text.DateFormat;
 import java.text.SimpleDateFormat;
 import java.util.Collections;
 import java.util.Date;
+
 import net.minecraft.client.AnvilConverterException;
 import net.minecraft.client.Minecraft;
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.resources.I18n;
 import net.minecraft.util.EnumChatFormatting;
 import net.minecraft.world.WorldSettings;
@@ -14,10 +16,13 @@ import net.minecraft.world.storage.ISaveFormat;
 import net.minecraft.world.storage.ISaveHandler;
 import net.minecraft.world.storage.SaveFormatComparator;
 import net.minecraft.world.storage.WorldInfo;
+
 import org.apache.commons.lang3.StringUtils;
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 
+import tk.wurst_client.WurstClient;
+
 public class GuiSelectWorld extends GuiScreen implements GuiYesNoCallback
 {
     private static final Logger logger = LogManager.getLogger();
@@ -70,6 +75,7 @@ public class GuiSelectWorld extends GuiScreen implements GuiYesNoCallback
         this.field_146638_t = new GuiSelectWorld.List(this.mc);
         this.field_146638_t.registerScrollButtons(4, 5);
         this.func_146618_g();
+        WurstClient.INSTANCE.analytics.trackPageView("/singleplayer", "Select World");
     }
 
     /**
diff --git a/net/minecraft/client/gui/GuiShareToLan.java b/net/minecraft/client/gui/GuiShareToLan.java
index 888904a..75a052f 100644
--- a/net/minecraft/client/gui/GuiShareToLan.java
+++ b/net/minecraft/client/gui/GuiShareToLan.java
@@ -1,6 +1,10 @@
 package net.minecraft.client.gui;
 
 import java.io.IOException;
+
+import tk.wurst_client.WurstClient;
+import tk.wurst_client.hooks.ServerHook;
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.resources.I18n;
 import net.minecraft.util.ChatComponentText;
 import net.minecraft.util.ChatComponentTranslation;
@@ -90,6 +94,10 @@ public class GuiShareToLan extends GuiScreen
             if (var2 != null)
             {
                 var3 = new ChatComponentTranslation("commands.publish.started", new Object[] {var2});
+                
+                //TODO: Client
+                ServerHook.setCurrentIpToLanServer(var2);
+                
             }
             else
             {
diff --git a/net/minecraft/client/gui/GuiSimpleScrolledSelectionListProxy.java b/net/minecraft/client/gui/GuiSimpleScrolledSelectionListProxy.java
index 2f6c16a..502836b 100644
--- a/net/minecraft/client/gui/GuiSimpleScrolledSelectionListProxy.java
+++ b/net/minecraft/client/gui/GuiSimpleScrolledSelectionListProxy.java
@@ -128,21 +128,21 @@ public class GuiSimpleScrolledSelectionListProxy extends GuiSlot
                 }
 
                 var7.startDrawingQuads();
-                var7.func_178974_a(0, 255);
+                var7.setColorRGBA_I(0, 255);
                 var7.addVertexWithUV((double)var4, (double)this.bottom, 0.0D, 0.0D, 1.0D);
                 var7.addVertexWithUV((double)var5, (double)this.bottom, 0.0D, 1.0D, 1.0D);
                 var7.addVertexWithUV((double)var5, (double)this.top, 0.0D, 1.0D, 0.0D);
                 var7.addVertexWithUV((double)var4, (double)this.top, 0.0D, 0.0D, 0.0D);
                 var6.draw();
                 var7.startDrawingQuads();
-                var7.func_178974_a(8421504, 255);
+                var7.setColorRGBA_I(8421504, 255);
                 var7.addVertexWithUV((double)var4, (double)(var13 + var12), 0.0D, 0.0D, 1.0D);
                 var7.addVertexWithUV((double)var5, (double)(var13 + var12), 0.0D, 1.0D, 1.0D);
                 var7.addVertexWithUV((double)var5, (double)var13, 0.0D, 1.0D, 0.0D);
                 var7.addVertexWithUV((double)var4, (double)var13, 0.0D, 0.0D, 0.0D);
                 var6.draw();
                 var7.startDrawingQuads();
-                var7.func_178974_a(12632256, 255);
+                var7.setColorRGBA_I(12632256, 255);
                 var7.addVertexWithUV((double)var4, (double)(var13 + var12 - 1), 0.0D, 0.0D, 1.0D);
                 var7.addVertexWithUV((double)(var5 - 1), (double)(var13 + var12 - 1), 0.0D, 1.0D, 1.0D);
                 var7.addVertexWithUV((double)(var5 - 1), (double)var13, 0.0D, 1.0D, 0.0D);
diff --git a/net/minecraft/client/gui/GuiSleepMP.java b/net/minecraft/client/gui/GuiSleepMP.java
index efac2ec..1d4c2a7 100644
--- a/net/minecraft/client/gui/GuiSleepMP.java
+++ b/net/minecraft/client/gui/GuiSleepMP.java
@@ -1,6 +1,8 @@
 package net.minecraft.client.gui;
 
 import java.io.IOException;
+
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.network.NetHandlerPlayClient;
 import net.minecraft.client.resources.I18n;
 import net.minecraft.network.play.client.C0BPacketEntityAction;
@@ -38,7 +40,7 @@ public class GuiSleepMP extends GuiChat
 
             if (!var3.isEmpty())
             {
-                this.mc.thePlayer.sendChatMessage(var3);
+                this.mc.player.sendChatMessage(var3);
             }
 
             this.inputField.setText("");
@@ -60,7 +62,7 @@ public class GuiSleepMP extends GuiChat
 
     private void wakeFromSleep()
     {
-        NetHandlerPlayClient var1 = this.mc.thePlayer.sendQueue;
-        var1.addToSendQueue(new C0BPacketEntityAction(this.mc.thePlayer, C0BPacketEntityAction.Action.STOP_SLEEPING));
+        NetHandlerPlayClient var1 = this.mc.player.connection;
+        var1.sendPacket(new C0BPacketEntityAction(this.mc.player, C0BPacketEntityAction.Action.STOP_SLEEPING));
     }
 }
diff --git a/net/minecraft/client/gui/GuiSlider.java b/net/minecraft/client/gui/GuiSlider.java
index 9c97890..ad05b42 100644
--- a/net/minecraft/client/gui/GuiSlider.java
+++ b/net/minecraft/client/gui/GuiSlider.java
@@ -1,6 +1,7 @@
 package net.minecraft.client.gui;
 
 import net.minecraft.client.Minecraft;
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.renderer.GlStateManager;
 import net.minecraft.client.resources.I18n;
 
diff --git a/net/minecraft/client/gui/GuiSlot.java b/net/minecraft/client/gui/GuiSlot.java
index f759a78..e0bfdf3 100644
--- a/net/minecraft/client/gui/GuiSlot.java
+++ b/net/minecraft/client/gui/GuiSlot.java
@@ -1,10 +1,12 @@
 package net.minecraft.client.gui;
 
 import net.minecraft.client.Minecraft;
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.renderer.GlStateManager;
 import net.minecraft.client.renderer.Tessellator;
 import net.minecraft.client.renderer.WorldRenderer;
 import net.minecraft.util.MathHelper;
+
 import org.lwjgl.input.Mouse;
 
 public abstract class GuiSlot
@@ -241,7 +243,7 @@ public abstract class GuiSlot
             GlStateManager.color(1.0F, 1.0F, 1.0F, 1.0F);
             float var8 = 32.0F;
             var7.startDrawingQuads();
-            var7.func_178991_c(2105376);
+            var7.setColorOpaque_I(2105376);
             var7.addVertexWithUV((double)this.left, (double)this.bottom, 0.0D, (double)((float)this.left / var8), (double)((float)(this.bottom + (int)this.amountScrolled) / var8));
             var7.addVertexWithUV((double)this.right, (double)this.bottom, 0.0D, (double)((float)this.right / var8), (double)((float)(this.bottom + (int)this.amountScrolled) / var8));
             var7.addVertexWithUV((double)this.right, (double)this.top, 0.0D, (double)((float)this.right / var8), (double)((float)(this.top + (int)this.amountScrolled) / var8));
@@ -266,18 +268,18 @@ public abstract class GuiSlot
             GlStateManager.shadeModel(7425);
             GlStateManager.func_179090_x();
             var7.startDrawingQuads();
-            var7.func_178974_a(0, 0);
+            var7.setColorRGBA_I(0, 0);
             var7.addVertexWithUV((double)this.left, (double)(this.top + var11), 0.0D, 0.0D, 1.0D);
             var7.addVertexWithUV((double)this.right, (double)(this.top + var11), 0.0D, 1.0D, 1.0D);
-            var7.func_178974_a(0, 255);
+            var7.setColorRGBA_I(0, 255);
             var7.addVertexWithUV((double)this.right, (double)this.top, 0.0D, 1.0D, 0.0D);
             var7.addVertexWithUV((double)this.left, (double)this.top, 0.0D, 0.0D, 0.0D);
             var6.draw();
             var7.startDrawingQuads();
-            var7.func_178974_a(0, 255);
+            var7.setColorRGBA_I(0, 255);
             var7.addVertexWithUV((double)this.left, (double)this.bottom, 0.0D, 0.0D, 1.0D);
             var7.addVertexWithUV((double)this.right, (double)this.bottom, 0.0D, 1.0D, 1.0D);
-            var7.func_178974_a(0, 0);
+            var7.setColorRGBA_I(0, 0);
             var7.addVertexWithUV((double)this.right, (double)(this.bottom - var11), 0.0D, 1.0D, 0.0D);
             var7.addVertexWithUV((double)this.left, (double)(this.bottom - var11), 0.0D, 0.0D, 0.0D);
             var6.draw();
@@ -295,21 +297,21 @@ public abstract class GuiSlot
                 }
 
                 var7.startDrawingQuads();
-                var7.func_178974_a(0, 255);
+                var7.setColorRGBA_I(0, 255);
                 var7.addVertexWithUV((double)var4, (double)this.bottom, 0.0D, 0.0D, 1.0D);
                 var7.addVertexWithUV((double)var5, (double)this.bottom, 0.0D, 1.0D, 1.0D);
                 var7.addVertexWithUV((double)var5, (double)this.top, 0.0D, 1.0D, 0.0D);
                 var7.addVertexWithUV((double)var4, (double)this.top, 0.0D, 0.0D, 0.0D);
                 var6.draw();
                 var7.startDrawingQuads();
-                var7.func_178974_a(8421504, 255);
+                var7.setColorRGBA_I(8421504, 255);
                 var7.addVertexWithUV((double)var4, (double)(var14 + var13), 0.0D, 0.0D, 1.0D);
                 var7.addVertexWithUV((double)var5, (double)(var14 + var13), 0.0D, 1.0D, 1.0D);
                 var7.addVertexWithUV((double)var5, (double)var14, 0.0D, 1.0D, 0.0D);
                 var7.addVertexWithUV((double)var4, (double)var14, 0.0D, 0.0D, 0.0D);
                 var6.draw();
                 var7.startDrawingQuads();
-                var7.func_178974_a(12632256, 255);
+                var7.setColorRGBA_I(12632256, 255);
                 var7.addVertexWithUV((double)var4, (double)(var14 + var13 - 1), 0.0D, 0.0D, 1.0D);
                 var7.addVertexWithUV((double)(var5 - 1), (double)(var14 + var13 - 1), 0.0D, 1.0D, 1.0D);
                 var7.addVertexWithUV((double)(var5 - 1), (double)var14, 0.0D, 1.0D, 0.0D);
@@ -464,12 +466,12 @@ public abstract class GuiSlot
                 GlStateManager.color(1.0F, 1.0F, 1.0F, 1.0F);
                 GlStateManager.func_179090_x();
                 var7.startDrawingQuads();
-                var7.func_178991_c(8421504);
+                var7.setColorOpaque_I(8421504);
                 var7.addVertexWithUV((double)var11, (double)(var9 + var10 + 2), 0.0D, 0.0D, 1.0D);
                 var7.addVertexWithUV((double)var12, (double)(var9 + var10 + 2), 0.0D, 1.0D, 1.0D);
                 var7.addVertexWithUV((double)var12, (double)(var9 - 2), 0.0D, 1.0D, 0.0D);
                 var7.addVertexWithUV((double)var11, (double)(var9 - 2), 0.0D, 0.0D, 0.0D);
-                var7.func_178991_c(0);
+                var7.setColorOpaque_I(0);
                 var7.addVertexWithUV((double)(var11 + 1), (double)(var9 + var10 + 1), 0.0D, 0.0D, 1.0D);
                 var7.addVertexWithUV((double)(var12 - 1), (double)(var9 + var10 + 1), 0.0D, 1.0D, 1.0D);
                 var7.addVertexWithUV((double)(var12 - 1), (double)(var9 - 1), 0.0D, 1.0D, 0.0D);
@@ -498,10 +500,10 @@ public abstract class GuiSlot
         GlStateManager.color(1.0F, 1.0F, 1.0F, 1.0F);
         float var7 = 32.0F;
         var6.startDrawingQuads();
-        var6.func_178974_a(4210752, p_148136_4_);
+        var6.setColorRGBA_I(4210752, p_148136_4_);
         var6.addVertexWithUV((double)this.left, (double)p_148136_2_, 0.0D, 0.0D, (double)((float)p_148136_2_ / var7));
         var6.addVertexWithUV((double)(this.left + this.width), (double)p_148136_2_, 0.0D, (double)((float)this.width / var7), (double)((float)p_148136_2_ / var7));
-        var6.func_178974_a(4210752, p_148136_3_);
+        var6.setColorRGBA_I(4210752, p_148136_3_);
         var6.addVertexWithUV((double)(this.left + this.width), (double)p_148136_1_, 0.0D, (double)((float)this.width / var7), (double)((float)p_148136_1_ / var7));
         var6.addVertexWithUV((double)this.left, (double)p_148136_1_, 0.0D, 0.0D, (double)((float)p_148136_1_ / var7));
         var5.draw();
diff --git a/net/minecraft/client/gui/GuiSnooper.java b/net/minecraft/client/gui/GuiSnooper.java
index 9b3e996..be72d96 100644
--- a/net/minecraft/client/gui/GuiSnooper.java
+++ b/net/minecraft/client/gui/GuiSnooper.java
@@ -1,11 +1,14 @@
 package net.minecraft.client.gui;
 
 import com.google.common.collect.Lists;
+
 import java.io.IOException;
 import java.util.ArrayList;
 import java.util.Iterator;
 import java.util.TreeMap;
 import java.util.Map.Entry;
+
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.resources.I18n;
 import net.minecraft.client.settings.GameSettings;
 
diff --git a/net/minecraft/client/gui/GuiSpectator.java b/net/minecraft/client/gui/GuiSpectator.java
index 6bf48ef..628bf2c 100644
--- a/net/minecraft/client/gui/GuiSpectator.java
+++ b/net/minecraft/client/gui/GuiSpectator.java
@@ -111,7 +111,7 @@ public class GuiSpectator extends Gui implements ISpectatorMenuReciepient
 
             if (var6 > 3 && p_175266_5_.func_178662_A_())
             {
-                this.field_175268_g.fontRendererObj.func_175063_a(var8, (float)(p_175266_2_ + 19 - 2 - this.field_175268_g.fontRendererObj.getStringWidth(var8)), p_175266_3_ + 6.0F + 3.0F, 16777215 + (var6 << 24));
+                this.field_175268_g.fontRendererObj.drawStringWithShadow(var8, (float)(p_175266_2_ + 19 - 2 - this.field_175268_g.fontRendererObj.getStringWidth(var8)), p_175266_3_ + 6.0F + 3.0F, 16777215 + (var6 << 24));
             }
         }
     }
@@ -132,7 +132,7 @@ public class GuiSpectator extends Gui implements ISpectatorMenuReciepient
                 GlStateManager.pushMatrix();
                 GlStateManager.enableBlend();
                 GlStateManager.tryBlendFuncSeparate(770, 771, 1, 0);
-                this.field_175268_g.fontRendererObj.func_175063_a(var4, (float)var5, (float)var6, 16777215 + (var2 << 24));
+                this.field_175268_g.fontRendererObj.drawStringWithShadow(var4, (float)var5, (float)var6, 16777215 + (var2 << 24));
                 GlStateManager.disableBlend();
                 GlStateManager.popMatrix();
             }
diff --git a/net/minecraft/client/gui/GuiTextField.java b/net/minecraft/client/gui/GuiTextField.java
index 352d4b9..1df2388 100644
--- a/net/minecraft/client/gui/GuiTextField.java
+++ b/net/minecraft/client/gui/GuiTextField.java
@@ -549,7 +549,7 @@ public class GuiTextField extends Gui
             if (var4.length() > 0)
             {
                 String var10 = var5 ? var4.substring(0, var2) : var4;
-                var9 = this.fontRendererInstance.func_175063_a(var10, (float)var7, (float)var8, var1);
+                var9 = this.fontRendererInstance.drawStringWithShadow(var10, (float)var7, (float)var8, var1);
             }
 
             boolean var13 = this.cursorPosition < this.text.length() || this.text.length() >= this.getMaxStringLength();
@@ -567,7 +567,7 @@ public class GuiTextField extends Gui
 
             if (var4.length() > 0 && var5 && var2 < var4.length())
             {
-                var9 = this.fontRendererInstance.func_175063_a(var4.substring(var2), (float)var9, (float)var8, var1);
+                var9 = this.fontRendererInstance.drawStringWithShadow(var4.substring(var2), (float)var9, (float)var8, var1);
             }
 
             if (var6)
@@ -578,7 +578,7 @@ public class GuiTextField extends Gui
                 }
                 else
                 {
-                    this.fontRendererInstance.func_175063_a("_", (float)var11, (float)var8, var1);
+                    this.fontRendererInstance.drawStringWithShadow("_", (float)var11, (float)var8, var1);
                 }
             }
 
diff --git a/net/minecraft/client/gui/GuiVideoSettings.java b/net/minecraft/client/gui/GuiVideoSettings.java
index 0ef76a0..cda7e01 100644
--- a/net/minecraft/client/gui/GuiVideoSettings.java
+++ b/net/minecraft/client/gui/GuiVideoSettings.java
@@ -1,6 +1,8 @@
 package net.minecraft.client.gui;
 
 import java.io.IOException;
+
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.renderer.OpenGlHelper;
 import net.minecraft.client.resources.I18n;
 import net.minecraft.client.settings.GameSettings;
diff --git a/net/minecraft/client/gui/GuiWinGame.java b/net/minecraft/client/gui/GuiWinGame.java
index 41d5838..105ff8b 100644
--- a/net/minecraft/client/gui/GuiWinGame.java
+++ b/net/minecraft/client/gui/GuiWinGame.java
@@ -55,7 +55,7 @@ public class GuiWinGame extends GuiScreen
 
     private void sendRespawnPacket()
     {
-        this.mc.thePlayer.sendQueue.addToSendQueue(new C16PacketClientStatus(C16PacketClientStatus.EnumState.PERFORM_RESPAWN));
+        this.mc.player.connection.sendPacket(new C16PacketClientStatus(C16PacketClientStatus.EnumState.PERFORM_RESPAWN));
         this.mc.displayGuiScreen((GuiScreen)null);
     }
 
@@ -131,7 +131,7 @@ public class GuiWinGame extends GuiScreen
         WorldRenderer var5 = var4.getWorldRenderer();
         this.mc.getTextureManager().bindTexture(Gui.optionsBackground);
         var5.startDrawingQuads();
-        var5.func_178960_a(1.0F, 1.0F, 1.0F, 1.0F);
+        var5.setColorRGBA_F(1.0F, 1.0F, 1.0F, 1.0F);
         int var6 = this.width;
         float var7 = 0.0F - ((float)this.field_146581_h + p_146575_3_) * 0.5F * this.field_146578_s;
         float var8 = (float)this.height - ((float)this.field_146581_h + p_146575_3_) * 0.5F * this.field_146578_s;
@@ -152,7 +152,7 @@ public class GuiWinGame extends GuiScreen
 
         var10 *= var10;
         var10 = var10 * 96.0F / 255.0F;
-        var5.func_178986_b(var10, var10, var10);
+        var5.setColorOpaque_F(var10, var10, var10);
         var5.addVertexWithUV(0.0D, (double)this.height, (double)this.zLevel, 0.0D, (double)(var7 * var9));
         var5.addVertexWithUV((double)var6, (double)this.height, (double)this.zLevel, (double)((float)var6 * var9), (double)(var7 * var9));
         var5.addVertexWithUV((double)var6, 0.0D, (double)this.zLevel, (double)((float)var6 * var9), (double)(var8 * var9));
@@ -178,7 +178,7 @@ public class GuiWinGame extends GuiScreen
         GlStateManager.color(1.0F, 1.0F, 1.0F, 1.0F);
         this.drawTexturedModalRect(var7, var8, 0, 0, 155, 44);
         this.drawTexturedModalRect(var7 + 155, var8, 0, 45, 155, 44);
-        var5.func_178991_c(16777215);
+        var5.setColorOpaque_I(16777215);
         int var10 = var8 + 200;
         int var11;
 
@@ -200,12 +200,12 @@ public class GuiWinGame extends GuiScreen
 
                 if (var13.startsWith("[C]"))
                 {
-                    this.fontRendererObj.func_175063_a(var13.substring(3), (float)(var7 + (var6 - this.fontRendererObj.getStringWidth(var13.substring(3))) / 2), (float)var10, 16777215);
+                    this.fontRendererObj.drawStringWithShadow(var13.substring(3), (float)(var7 + (var6 - this.fontRendererObj.getStringWidth(var13.substring(3))) / 2), (float)var10, 16777215);
                 }
                 else
                 {
                     this.fontRendererObj.fontRandom.setSeed((long)var11 * 4238972211L + (long)(this.field_146581_h / 4));
-                    this.fontRendererObj.func_175063_a(var13, (float)var7, (float)var10, 16777215);
+                    this.fontRendererObj.drawStringWithShadow(var13, (float)var7, (float)var10, 16777215);
                 }
             }
 
@@ -217,7 +217,7 @@ public class GuiWinGame extends GuiScreen
         GlStateManager.enableBlend();
         GlStateManager.blendFunc(0, 769);
         var5.startDrawingQuads();
-        var5.func_178960_a(1.0F, 1.0F, 1.0F, 1.0F);
+        var5.setColorRGBA_F(1.0F, 1.0F, 1.0F, 1.0F);
         var11 = this.width;
         int var14 = this.height;
         var5.addVertexWithUV(0.0D, (double)var14, (double)this.zLevel, 0.0D, 1.0D);
diff --git a/net/minecraft/client/gui/GuiYesNo.java b/net/minecraft/client/gui/GuiYesNo.java
index b3ca3f4..0554c69 100644
--- a/net/minecraft/client/gui/GuiYesNo.java
+++ b/net/minecraft/client/gui/GuiYesNo.java
@@ -1,9 +1,12 @@
 package net.minecraft.client.gui;
 
 import com.google.common.collect.Lists;
+
 import java.io.IOException;
 import java.util.Iterator;
 import java.util.List;
+
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.resources.I18n;
 
 public class GuiYesNo extends GuiScreen
diff --git a/net/minecraft/client/gui/ScaledResolution.java b/net/minecraft/client/gui/ScaledResolution.java
index fce8057..3cdb76e 100644
--- a/net/minecraft/client/gui/ScaledResolution.java
+++ b/net/minecraft/client/gui/ScaledResolution.java
@@ -12,6 +12,12 @@ public class ScaledResolution
     private int scaleFactor;
     private static final String __OBFID = "CL_00000666";
     
+    // TODO: Client
+	public ScaledResolution(Minecraft mc)
+	{
+		this(mc, mc.displayWidth, mc.displayHeight);
+	}
+	
 	public ScaledResolution(Minecraft mcIn, int p_i46324_2_, int p_i46324_3_)
     {
         this.scaledWidth = p_i46324_2_;
@@ -22,7 +28,7 @@ public class ScaledResolution
 
         if (var5 == 0)
         {
-            var5 = 1000;
+            var5 = 3;
         }
 
         while (this.scaleFactor < var5 && this.scaledWidth / (this.scaleFactor + 1) >= 320 && this.scaledHeight / (this.scaleFactor + 1) >= 240)
diff --git a/net/minecraft/client/gui/ScreenChatOptions.java b/net/minecraft/client/gui/ScreenChatOptions.java
index d9c65da..8f917c9 100644
--- a/net/minecraft/client/gui/ScreenChatOptions.java
+++ b/net/minecraft/client/gui/ScreenChatOptions.java
@@ -1,6 +1,8 @@
 package net.minecraft.client.gui;
 
 import java.io.IOException;
+
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.resources.I18n;
 import net.minecraft.client.settings.GameSettings;
 
diff --git a/net/minecraft/client/gui/ServerListEntryNormal.java b/net/minecraft/client/gui/ServerListEntryNormal.java
index 71f1e82..8c8bd38 100644
--- a/net/minecraft/client/gui/ServerListEntryNormal.java
+++ b/net/minecraft/client/gui/ServerListEntryNormal.java
@@ -37,7 +37,7 @@ public class ServerListEntryNormal implements GuiListExtended.IGuiListEntry
     private long field_148298_f;
     private static final String __OBFID = "CL_00000817";
 
-    protected ServerListEntryNormal(GuiMultiplayer p_i45048_1_, ServerData p_i45048_2_)
+    public ServerListEntryNormal(GuiMultiplayer p_i45048_1_, ServerData p_i45048_2_)
     {
         this.field_148303_c = p_i45048_1_;
         this.field_148301_e = p_i45048_2_;
@@ -88,7 +88,13 @@ public class ServerListEntryNormal implements GuiListExtended.IGuiListEntry
             this.field_148300_d.fontRendererObj.drawString((String)var12.get(var13), x + 32 + 3, y + 12 + this.field_148300_d.fontRendererObj.FONT_HEIGHT * var13, 8421504);
         }
 
-        String var23 = var11 ? EnumChatFormatting.DARK_RED + this.field_148301_e.gameVersion : this.field_148301_e.populationInfo;
+		// TODO: Client
+		String var23 =
+			var11 ? EnumChatFormatting.DARK_RED
+				+ this.field_148301_e.gameVersion : EnumChatFormatting.GREEN
+				+ field_148301_e.gameVersion + EnumChatFormatting.RESET + " "
+				+ this.field_148301_e.populationInfo;
+
         int var14 = this.field_148300_d.fontRendererObj.getStringWidth(var23);
         this.field_148300_d.fontRendererObj.drawString(var23, x + listWidth - var14 - 15 - 2, y + 1, 8421504);
         byte var15 = 0;
diff --git a/net/minecraft/client/gui/ServerSelectionList.java b/net/minecraft/client/gui/ServerSelectionList.java
index 2bcde73..254648c 100644
--- a/net/minecraft/client/gui/ServerSelectionList.java
+++ b/net/minecraft/client/gui/ServerSelectionList.java
@@ -13,7 +13,7 @@ public class ServerSelectionList extends GuiListExtended
     private final List field_148198_l = Lists.newArrayList();
     private final List field_148199_m = Lists.newArrayList();
     private final GuiListExtended.IGuiListEntry lanScanEntry = new ServerListEntryLanScan();
-    private int field_148197_o = -1;
+    private int selectedServer = -1;
     private static final String __OBFID = "CL_00000819";
 
     public ServerSelectionList(GuiMultiplayer p_i45049_1_, Minecraft mcIn, int p_i45049_3_, int p_i45049_4_, int p_i45049_5_, int p_i45049_6_, int p_i45049_7_)
@@ -52,9 +52,10 @@ public class ServerSelectionList extends GuiListExtended
         return this.field_148198_l.size() + 1 + this.field_148199_m.size();
     }
 
-    public void func_148192_c(int p_148192_1_)
+    //TODO: Client
+    public void setSelectedServer(int selected)
     {
-        this.field_148197_o = p_148192_1_;
+        this.selectedServer = selected;
     }
 
     /**
@@ -62,12 +63,12 @@ public class ServerSelectionList extends GuiListExtended
      */
     protected boolean isSelected(int slotIndex)
     {
-        return slotIndex == this.field_148197_o;
+        return slotIndex == this.selectedServer;
     }
 
-    public int func_148193_k()
+    public int getSelectedServer()
     {
-        return this.field_148197_o;
+        return this.selectedServer;
     }
 
     public void func_148195_a(ServerList p_148195_1_)
diff --git a/net/minecraft/client/gui/achievement/GuiAchievement.java b/net/minecraft/client/gui/achievement/GuiAchievement.java
index aa62341..0f6303f 100644
--- a/net/minecraft/client/gui/achievement/GuiAchievement.java
+++ b/net/minecraft/client/gui/achievement/GuiAchievement.java
@@ -71,7 +71,7 @@ public class GuiAchievement extends Gui
 
     public void updateAchievementWindow()
     {
-        if (this.theAchievement != null && this.notificationTime != 0L && Minecraft.getMinecraft().thePlayer != null)
+        if (this.theAchievement != null && this.notificationTime != 0L && Minecraft.getMinecraft().player != null)
         {
             double var1 = (double)(Minecraft.getSystemTime() - this.notificationTime) / 3000.0D;
 
diff --git a/net/minecraft/client/gui/achievement/GuiAchievements.java b/net/minecraft/client/gui/achievement/GuiAchievements.java
index 6109f96..db28841 100644
--- a/net/minecraft/client/gui/achievement/GuiAchievements.java
+++ b/net/minecraft/client/gui/achievement/GuiAchievements.java
@@ -2,6 +2,7 @@ package net.minecraft.client.gui.achievement;
 
 import java.io.IOException;
 import java.util.Random;
+
 import net.minecraft.block.Block;
 import net.minecraft.client.Minecraft;
 import net.minecraft.client.gui.GuiButton;
@@ -21,6 +22,7 @@ import net.minecraft.stats.StatFileWriter;
 import net.minecraft.util.ChatComponentTranslation;
 import net.minecraft.util.MathHelper;
 import net.minecraft.util.ResourceLocation;
+
 import org.lwjgl.input.Mouse;
 
 public class GuiAchievements extends GuiScreen implements IProgressMeter
@@ -62,7 +64,7 @@ public class GuiAchievements extends GuiScreen implements IProgressMeter
      */
     public void initGui()
     {
-        this.mc.getNetHandler().addToSendQueue(new C16PacketClientStatus(C16PacketClientStatus.EnumState.REQUEST_STATS));
+        this.mc.getNetHandler().sendPacket(new C16PacketClientStatus(C16PacketClientStatus.EnumState.REQUEST_STATS));
         this.buttonList.clear();
         this.buttonList.add(new GuiOptionButton(1, this.width / 2 + 24, this.height / 2 + 74, 80, 20, I18n.format("gui.done", new Object[0])));
     }
@@ -526,7 +528,7 @@ public class GuiAchievements extends GuiScreen implements IProgressMeter
 
                 if (this.statFileWriter.hasAchievementUnlocked(var33))
                 {
-                    this.fontRendererObj.func_175063_a(I18n.format("achievement.taken", new Object[0]), (float)var40, (float)(var41 + var31 + 4), -7302913);
+                    this.fontRendererObj.drawStringWithShadow(I18n.format("achievement.taken", new Object[0]), (float)var40, (float)(var41 + var31 + 4), -7302913);
                 }
             }
             else
@@ -559,7 +561,7 @@ public class GuiAchievements extends GuiScreen implements IProgressMeter
 
             if (var36 != null)
             {
-                this.fontRendererObj.func_175063_a(var36, (float)var40, (float)var41, this.statFileWriter.canUnlockAchievement(var33) ? (var33.getSpecial() ? -128 : -1) : (var33.getSpecial() ? -8355776 : -8355712));
+                this.fontRendererObj.drawStringWithShadow(var36, (float)var40, (float)var41, this.statFileWriter.canUnlockAchievement(var33) ? (var33.getSpecial() ? -128 : -1) : (var33.getSpecial() ? -8355776 : -8355712));
             }
         }
 
diff --git a/net/minecraft/client/gui/achievement/GuiStats.java b/net/minecraft/client/gui/achievement/GuiStats.java
index 74a0030..67082d2 100644
--- a/net/minecraft/client/gui/achievement/GuiStats.java
+++ b/net/minecraft/client/gui/achievement/GuiStats.java
@@ -1,11 +1,13 @@
 package net.minecraft.client.gui.achievement;
 
 import com.google.common.collect.Lists;
+
 import java.io.IOException;
 import java.util.Collections;
 import java.util.Comparator;
 import java.util.Iterator;
 import java.util.List;
+
 import net.minecraft.client.Minecraft;
 import net.minecraft.client.audio.PositionedSoundRecord;
 import net.minecraft.client.gui.GuiButton;
@@ -26,6 +28,7 @@ import net.minecraft.stats.StatCrafting;
 import net.minecraft.stats.StatFileWriter;
 import net.minecraft.stats.StatList;
 import net.minecraft.util.ResourceLocation;
+
 import org.lwjgl.input.Mouse;
 
 public class GuiStats extends GuiScreen implements IProgressMeter
@@ -56,7 +59,7 @@ public class GuiStats extends GuiScreen implements IProgressMeter
     {
         this.screenTitle = I18n.format("gui.stats", new Object[0]);
         this.doesGuiPauseGame = true;
-        this.mc.getNetHandler().addToSendQueue(new C16PacketClientStatus(C16PacketClientStatus.EnumState.REQUEST_STATS));
+        this.mc.getNetHandler().sendPacket(new C16PacketClientStatus(C16PacketClientStatus.EnumState.REQUEST_STATS));
     }
 
     /**
@@ -185,7 +188,7 @@ public class GuiStats extends GuiScreen implements IProgressMeter
         this.drawButtonBackground(p_146521_1_ + 1, p_146521_2_ + 1);
         GlStateManager.enableRescaleNormal();
         RenderHelper.enableGUIStandardItemLighting();
-        this.itemRender.func_175042_a(new ItemStack(p_146521_3_, 1, 0), p_146521_1_ + 2, p_146521_2_ + 2);
+        this.itemRender.func_180450_b(new ItemStack(p_146521_3_, 1, 0), p_146521_1_ + 2, p_146521_2_ + 2);
         RenderHelper.disableStandardItemLighting();
         GlStateManager.disableRescaleNormal();
     }
@@ -403,7 +406,7 @@ public class GuiStats extends GuiScreen implements IProgressMeter
                         int var7 = p_148142_2_ - 12;
                         int var8 = GuiStats.this.fontRendererObj.getStringWidth(var9);
                         GuiStats.this.drawGradientRect(var6 - 3, var7 - 3, var6 + var8 + 3, var7 + 8 + 3, -1073741824, -1073741824);
-                        GuiStats.this.fontRendererObj.func_175063_a(var9, (float)var6, (float)var7, -1);
+                        GuiStats.this.fontRendererObj.drawStringWithShadow(var9, (float)var6, (float)var7, -1);
                     }
                 }
             }
@@ -424,7 +427,7 @@ public class GuiStats extends GuiScreen implements IProgressMeter
                     int var9 = p_148213_3_ - 12;
                     int var10 = GuiStats.this.fontRendererObj.getStringWidth(var7);
                     GuiStats.this.drawGradientRect(var8 - 3, var9 - 3, var8 + var10 + 3, var9 + 8 + 3, -1073741824, -1073741824);
-                    GuiStats.this.fontRendererObj.func_175063_a(var7, (float)var8, (float)var9, -1);
+                    GuiStats.this.fontRendererObj.drawStringWithShadow(var7, (float)var8, (float)var9, -1);
                 }
             }
         }
diff --git a/net/minecraft/client/gui/inventory/GuiBeacon.java b/net/minecraft/client/gui/inventory/GuiBeacon.java
index 3dc2b1e..c8f0447 100644
--- a/net/minecraft/client/gui/inventory/GuiBeacon.java
+++ b/net/minecraft/client/gui/inventory/GuiBeacon.java
@@ -1,8 +1,10 @@
 package net.minecraft.client.gui.inventory;
 
 import io.netty.buffer.Unpooled;
+
 import java.io.IOException;
 import java.util.Iterator;
+
 import net.minecraft.client.Minecraft;
 import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.gui.GuiScreen;
@@ -19,6 +21,7 @@ import net.minecraft.network.play.client.C17PacketCustomPayload;
 import net.minecraft.potion.Potion;
 import net.minecraft.tileentity.TileEntityBeacon;
 import net.minecraft.util.ResourceLocation;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 
@@ -143,7 +146,7 @@ public class GuiBeacon extends GuiContainer
             PacketBuffer var3 = new PacketBuffer(Unpooled.buffer());
             var3.writeInt(this.tileBeacon.getField(1));
             var3.writeInt(this.tileBeacon.getField(2));
-            this.mc.getNetHandler().addToSendQueue(new C17PacketCustomPayload(var2, var3));
+            this.mc.getNetHandler().sendPacket(new C17PacketCustomPayload(var2, var3));
             this.mc.displayGuiScreen((GuiScreen)null);
         }
         else if (button instanceof GuiBeacon.PowerButton)
diff --git a/net/minecraft/client/gui/inventory/GuiChest.java b/net/minecraft/client/gui/inventory/GuiChest.java
index 15a710a..b6fb2d0 100644
--- a/net/minecraft/client/gui/inventory/GuiChest.java
+++ b/net/minecraft/client/gui/inventory/GuiChest.java
@@ -1,54 +1,136 @@
 package net.minecraft.client.gui.inventory;
 
 import net.minecraft.client.Minecraft;
+import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.renderer.GlStateManager;
 import net.minecraft.inventory.ContainerChest;
 import net.minecraft.inventory.IInventory;
+import net.minecraft.inventory.Slot;
 import net.minecraft.util.ResourceLocation;
+import tk.wurst_client.WurstClient;
+import tk.wurst_client.features.special_features.YesCheatSpf.BypassLevel;
 
 public class GuiChest extends GuiContainer
 {
+    private static final String __OBFID = "CL_00000749";
     private static final ResourceLocation field_147017_u = new ResourceLocation("textures/gui/container/generic_54.png");
     private IInventory upperChestInventory;
     private IInventory lowerChestInventory;
 
     /**
-     * window height is calculated with these values; the more rows, the heigher
+	 * window height is calculated with these values; the more rows, the higher
      */
     private int inventoryRows;
-    private static final String __OBFID = "CL_00000749";
 
     public GuiChest(IInventory p_i46315_1_, IInventory p_i46315_2_)
     {
-        super(new ContainerChest(p_i46315_1_, p_i46315_2_, Minecraft.getMinecraft().thePlayer));
-        this.upperChestInventory = p_i46315_1_;
-        this.lowerChestInventory = p_i46315_2_;
-        this.allowUserInput = false;
+        super(new ContainerChest(p_i46315_1_, p_i46315_2_, Minecraft.getMinecraft().player));
+		upperChestInventory = p_i46315_1_;
+		lowerChestInventory = p_i46315_2_;
+		allowUserInput = false;
         short var3 = 222;
         int var4 = var3 - 108;
-        this.inventoryRows = p_i46315_2_.getSizeInventory() / 9;
-        this.ySize = var4 + this.inventoryRows * 18;
+		inventoryRows = p_i46315_2_.getSizeInventory() / 9;
+		ySize = var4 + inventoryRows * 18;
+	}
+
+	// TODO: Client
+	@SuppressWarnings("unchecked")
+	@Override
+	public void initGui()
+	{
+		super.initGui();
+		buttonList.add(new GuiButton(0, guiLeft + xSize - 108, guiTop + 4, 50,
+			12, "Steal"));
+		buttonList.add(new GuiButton(1, guiLeft + xSize - 56, guiTop + 4, 50,
+			12, "Store"));
+		if(WurstClient.INSTANCE.mods.autoStealMod.isActive())
+			actionPerformed((GuiButton)buttonList.get(0));
+	}
+
+	// TODO: Client
+	@Override
+	protected void actionPerformed(GuiButton button)
+	{
+		if(button.id == 0)// Steal
+			new Thread(new Runnable()
+			{
+				@Override
+				public void run()
+				{
+					try
+					{
+						for(int i = 0; i < inventoryRows * 9; i++)
+						{
+							Slot slot =
+								(Slot)inventorySlots.inventorySlots.get(i);
+							if(slot.getStack() == null)
+								continue;
+							if(WurstClient.INSTANCE.special.yesCheatSpf
+								.getBypassLevel()
+								.ordinal() >= BypassLevel.ANTICHEAT.ordinal())
+								Thread.sleep(250);
+							handleMouseClick(slot, slot.slotNumber, 0, 1);
+							handleMouseClick(slot, slot.slotNumber, 0, 6);
+						}
+					}catch(Exception e)
+					{
+						e.printStackTrace();
+					}
+				}
+			}).start();
+		else if(button.id == 1)// Store
+			new Thread(new Runnable()
+			{
+				@Override
+				public void run()
+				{
+					try
+					{
+						for(int i = inventoryRows * 9; i < inventoryRows * 9
+							+ 44; i++)
+						{
+							Slot slot =
+								(Slot)inventorySlots.inventorySlots.get(i);
+							if(slot.getStack() == null)
+								continue;
+							if(WurstClient.INSTANCE.special.yesCheatSpf
+								.getBypassLevel()
+								.ordinal() >= BypassLevel.ANTICHEAT.ordinal())
+								Thread.sleep(250);
+							handleMouseClick(slot, slot.slotNumber, 0, 1);
+							handleMouseClick(slot, slot.slotNumber, 0, 6);
+						}
+					}catch(Exception e)
+					{
+						e.printStackTrace();
+					}
+				}
+			}).start();
 	}
 
     /**
-     * Draw the foreground layer for the GuiContainer (everything in front of the items). Args : mouseX, mouseY
+	 * Draw the foreground layer for the GuiContainer (everything in front of
+	 * the items). Args : mouseX, mouseY
      */
+	@Override
     protected void drawGuiContainerForegroundLayer(int mouseX, int mouseY)
     {
-        this.fontRendererObj.drawString(this.lowerChestInventory.getDisplayName().getUnformattedText(), 8, 6, 4210752);
-        this.fontRendererObj.drawString(this.upperChestInventory.getDisplayName().getUnformattedText(), 8, this.ySize - 96 + 2, 4210752);
+		fontRendererObj.drawString(lowerChestInventory.getDisplayName().getUnformattedText(), 8, 6, 4210752);
+		fontRendererObj.drawString(upperChestInventory.getDisplayName().getUnformattedText(), 8, ySize - 96 + 2, 4210752);
     }
 
     /**
      * Args : renderPartialTicks, mouseX, mouseY
      */
+	@Override
     protected void drawGuiContainerBackgroundLayer(float partialTicks, int mouseX, int mouseY)
     {
         GlStateManager.color(1.0F, 1.0F, 1.0F, 1.0F);
-        this.mc.getTextureManager().bindTexture(field_147017_u);
-        int var4 = (this.width - this.xSize) / 2;
-        int var5 = (this.height - this.ySize) / 2;
-        this.drawTexturedModalRect(var4, var5, 0, 0, this.xSize, this.inventoryRows * 18 + 17);
-        this.drawTexturedModalRect(var4, var5 + this.inventoryRows * 18 + 17, 0, 126, this.xSize, 96);
+		mc.getTextureManager().bindTexture(field_147017_u);
+		int var4 = (width - xSize) / 2;
+		int var5 = (height - ySize) / 2;
+		drawTexturedModalRect(var4, var5, 0, 0, xSize, inventoryRows * 18 + 17);
+		drawTexturedModalRect(var4, var5 + inventoryRows * 18 + 17, 0, 126, xSize, 96);
     }
 }
diff --git a/net/minecraft/client/gui/inventory/GuiContainer.java b/net/minecraft/client/gui/inventory/GuiContainer.java
index b87feb0..877772c 100644
--- a/net/minecraft/client/gui/inventory/GuiContainer.java
+++ b/net/minecraft/client/gui/inventory/GuiContainer.java
@@ -89,7 +89,7 @@ public abstract class GuiContainer extends GuiScreen
     public void initGui()
     {
         super.initGui();
-        this.mc.thePlayer.openContainer = this.inventorySlots;
+        this.mc.player.openContainer = this.inventorySlots;
         this.guiLeft = (this.width - this.xSize) / 2;
         this.guiTop = (this.height - this.ySize) / 2;
     }
@@ -143,7 +143,7 @@ public abstract class GuiContainer extends GuiScreen
         RenderHelper.disableStandardItemLighting();
         this.drawGuiContainerForegroundLayer(mouseX, mouseY);
         RenderHelper.enableGUIStandardItemLighting();
-        InventoryPlayer var15 = this.mc.thePlayer.inventory;
+        InventoryPlayer var15 = this.mc.player.inventory;
         ItemStack var16 = this.draggedStack == null ? var15.getItemStack() : this.draggedStack;
 
         if (var16 != null)
@@ -185,7 +185,7 @@ public abstract class GuiContainer extends GuiScreen
             int var20 = this.returningStackDestSlot.yDisplayPosition - this.touchUpY;
             int var13 = this.touchUpX + (int)((float)var11 * var18);
             int var14 = this.touchUpY + (int)((float)var20 * var18);
-            this.drawItemStack(this.returningStack, var13, var14, (String)null);
+            this.drawItemStack(this.returningStack, var13, var14, null);
         }
 
         GlStateManager.popMatrix();
@@ -229,40 +229,40 @@ public abstract class GuiContainer extends GuiScreen
     {
         int var2 = slotIn.xDisplayPosition;
         int var3 = slotIn.yDisplayPosition;
-        ItemStack var4 = slotIn.getStack();
+        ItemStack itemStack = slotIn.getStack();
         boolean var5 = false;
         boolean var6 = slotIn == this.clickedSlot && this.draggedStack != null && !this.isRightMouseClick;
-        ItemStack var7 = this.mc.thePlayer.inventory.getItemStack();
+        ItemStack heldItemStack = this.mc.player.inventory.getItemStack();
         String var8 = null;
 
-        if (slotIn == this.clickedSlot && this.draggedStack != null && this.isRightMouseClick && var4 != null)
+        if (slotIn == this.clickedSlot && this.draggedStack != null && this.isRightMouseClick && itemStack != null)
         {
-            var4 = var4.copy();
-            var4.stackSize /= 2;
+            itemStack = itemStack.copy();
+            itemStack.stackSize /= 2;
         }
-        else if (this.dragSplitting && this.dragSplittingSlots.contains(slotIn) && var7 != null)
+        else if (this.dragSplitting && this.dragSplittingSlots.contains(slotIn) && heldItemStack != null)
         {
             if (this.dragSplittingSlots.size() == 1)
             {
                 return;
             }
 
-            if (Container.canAddItemToSlot(slotIn, var7, true) && this.inventorySlots.canDragIntoSlot(slotIn))
+            if (Container.canAddItemToSlot(slotIn, heldItemStack, true) && this.inventorySlots.canDragIntoSlot(slotIn))
             {
-                var4 = var7.copy();
+                itemStack = heldItemStack.copy();
                 var5 = true;
-                Container.computeStackSize(this.dragSplittingSlots, this.dragSplittingLimit, var4, slotIn.getStack() == null ? 0 : slotIn.getStack().stackSize);
+                Container.computeStackSize(this.dragSplittingSlots, this.dragSplittingLimit, itemStack, slotIn.getStack() == null ? 0 : slotIn.getStack().stackSize);
 
-                if (var4.stackSize > var4.getMaxStackSize())
+                if (itemStack.stackSize > itemStack.getMaxStackSize())
                 {
-                    var8 = EnumChatFormatting.YELLOW + "" + var4.getMaxStackSize();
-                    var4.stackSize = var4.getMaxStackSize();
+                    var8 = EnumChatFormatting.YELLOW + "" + itemStack.getMaxStackSize();
+                    itemStack.stackSize = itemStack.getMaxStackSize();
                 }
 
-                if (var4.stackSize > slotIn.func_178170_b(var4))
+                if (itemStack.stackSize > slotIn.func_178170_b(itemStack))
                 {
-                    var8 = EnumChatFormatting.YELLOW + "" + slotIn.func_178170_b(var4);
-                    var4.stackSize = slotIn.func_178170_b(var4);
+                    var8 = EnumChatFormatting.YELLOW + "" + slotIn.func_178170_b(itemStack);
+                    itemStack.stackSize = slotIn.func_178170_b(itemStack);
                 }
             }
             else
@@ -275,9 +275,9 @@ public abstract class GuiContainer extends GuiScreen
         this.zLevel = 100.0F;
         this.itemRender.zLevel = 100.0F;
 
-        if (var4 == null)
+        if (itemStack == null)
         {
-            String var9 = slotIn.func_178171_c();
+            String var9 = slotIn.getNull();
 
             if (var9 != null)
             {
@@ -288,6 +288,8 @@ public abstract class GuiContainer extends GuiScreen
                 GlStateManager.enableLighting();
                 var6 = true;
             }
+            //TODO: Client
+            var6 = true;
         }
 
         if (!var6)
@@ -298,8 +300,8 @@ public abstract class GuiContainer extends GuiScreen
             }
 
             GlStateManager.enableDepth();
-            this.itemRender.func_180450_b(var4, var2, var3);
-            this.itemRender.func_180453_a(this.fontRendererObj, var4, var2, var3, var8);
+            this.itemRender.func_180450_b(itemStack, var2, var3);
+            this.itemRender.func_180453_a(this.fontRendererObj, itemStack, var2, var3, var8);
         }
 
         this.itemRender.zLevel = 0.0F;
@@ -308,7 +310,7 @@ public abstract class GuiContainer extends GuiScreen
 
     private void updateDragSplitting()
     {
-        ItemStack var1 = this.mc.thePlayer.inventory.getItemStack();
+        ItemStack var1 = this.mc.player.inventory.getItemStack();
 
         if (var1 != null && this.dragSplitting)
         {
@@ -383,7 +385,7 @@ public abstract class GuiContainer extends GuiScreen
                 var11 = -999;
             }
 
-            if (this.mc.gameSettings.touchscreen && var10 && this.mc.thePlayer.inventory.getItemStack() == null)
+            if (this.mc.gameSettings.touchscreen && var10 && this.mc.player.inventory.getItemStack() == null)
             {
                 this.mc.displayGuiScreen((GuiScreen)null);
                 return;
@@ -406,7 +408,7 @@ public abstract class GuiContainer extends GuiScreen
                 }
                 else if (!this.dragSplitting)
                 {
-                    if (this.mc.thePlayer.inventory.getItemStack() == null)
+                    if (this.mc.player.inventory.getItemStack() == null)
                     {
                         if (mouseButton == this.mc.gameSettings.keyBindPickBlock.getKeyCode() + 100)
                         {
@@ -467,7 +469,7 @@ public abstract class GuiContainer extends GuiScreen
     protected void mouseClickMove(int mouseX, int mouseY, int clickedMouseButton, long timeSinceLastClick)
     {
         Slot var6 = this.getSlotAtPosition(mouseX, mouseY);
-        ItemStack var7 = this.mc.thePlayer.inventory.getItemStack();
+        ItemStack var7 = this.mc.player.inventory.getItemStack();
 
         if (this.clickedSlot != null && this.mc.gameSettings.touchscreen)
         {
@@ -546,7 +548,7 @@ public abstract class GuiContainer extends GuiScreen
                     {
                         var10 = (Slot)var11.next();
 
-                        if (var10 != null && var10.canTakeStack(this.mc.thePlayer) && var10.getHasStack() && var10.inventory == var4.inventory && Container.canAddItemToSlot(var10, this.shiftClickedSlot, true))
+                        if (var10 != null && var10.canTakeStack(this.mc.player) && var10.getHasStack() && var10.inventory == var4.inventory && Container.canAddItemToSlot(var10, this.shiftClickedSlot, true))
                         {
                             this.handleMouseClick(var10, var10.slotNumber, state, 1);
                         }
@@ -595,7 +597,7 @@ public abstract class GuiContainer extends GuiScreen
                         this.handleMouseClick(this.clickedSlot, this.clickedSlot.slotNumber, state, 0);
                         this.handleMouseClick(var4, var8, 0, 0);
 
-                        if (this.mc.thePlayer.inventory.getItemStack() != null)
+                        if (this.mc.player.inventory.getItemStack() != null)
                         {
                             this.handleMouseClick(this.clickedSlot, this.clickedSlot.slotNumber, state, 0);
                             this.touchUpX = mouseX - var5;
@@ -635,7 +637,7 @@ public abstract class GuiContainer extends GuiScreen
 
                 this.handleMouseClick((Slot)null, -999, Container.func_94534_d(2, this.dragSplittingLimit), 5);
             }
-            else if (this.mc.thePlayer.inventory.getItemStack() != null)
+            else if (this.mc.player.inventory.getItemStack() != null)
             {
                 if (state == this.mc.gameSettings.keyBindPickBlock.getKeyCode() + 100)
                 {
@@ -655,7 +657,7 @@ public abstract class GuiContainer extends GuiScreen
             }
         }
 
-        if (this.mc.thePlayer.inventory.getItemStack() == null)
+        if (this.mc.player.inventory.getItemStack() == null)
         {
             this.lastClickTime = 0L;
         }
@@ -694,7 +696,7 @@ public abstract class GuiContainer extends GuiScreen
             slotId = slotIn.slotNumber;
         }
 
-        this.mc.playerController.windowClick(this.inventorySlots.windowId, slotId, clickedButton, clickType, this.mc.thePlayer);
+        this.mc.playerController.windowClick(this.inventorySlots.windowId, slotId, clickedButton, clickType, this.mc.player);
     }
 
     /**
@@ -705,7 +707,7 @@ public abstract class GuiContainer extends GuiScreen
     {
         if (keyCode == 1 || keyCode == this.mc.gameSettings.keyBindInventory.getKeyCode())
         {
-            this.mc.thePlayer.closeScreen();
+            this.mc.player.closeScreen();
         }
 
         this.checkHotbarKeys(keyCode);
@@ -729,7 +731,7 @@ public abstract class GuiContainer extends GuiScreen
      */
     protected boolean checkHotbarKeys(int keyCode)
     {
-        if (this.mc.thePlayer.inventory.getItemStack() == null && this.theSlot != null)
+        if (this.mc.player.inventory.getItemStack() == null && this.theSlot != null)
         {
             for (int var2 = 0; var2 < 9; ++var2)
             {
@@ -749,9 +751,9 @@ public abstract class GuiContainer extends GuiScreen
      */
     public void onGuiClosed()
     {
-        if (this.mc.thePlayer != null)
+        if (this.mc.player != null)
         {
-            this.inventorySlots.onContainerClosed(this.mc.thePlayer);
+            this.inventorySlots.onContainerClosed(this.mc.player);
         }
     }
 
@@ -770,9 +772,9 @@ public abstract class GuiContainer extends GuiScreen
     {
         super.updateScreen();
 
-        if (!this.mc.thePlayer.isEntityAlive() || this.mc.thePlayer.isDead)
+        if (!this.mc.player.isEntityAlive() || this.mc.player.isDead)
         {
-            this.mc.thePlayer.closeScreen();
+            this.mc.player.closeScreen();
         }
     }
 }
diff --git a/net/minecraft/client/gui/inventory/GuiContainerCreative.java b/net/minecraft/client/gui/inventory/GuiContainerCreative.java
index c538022..f0c8f57 100644
--- a/net/minecraft/client/gui/inventory/GuiContainerCreative.java
+++ b/net/minecraft/client/gui/inventory/GuiContainerCreative.java
@@ -1,10 +1,12 @@
 package net.minecraft.client.gui.inventory;
 
 import com.google.common.collect.Lists;
+
 import java.io.IOException;
 import java.util.Iterator;
 import java.util.List;
 import java.util.Map;
+
 import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.gui.GuiTextField;
 import net.minecraft.client.gui.achievement.GuiAchievements;
@@ -29,6 +31,7 @@ import net.minecraft.item.ItemStack;
 import net.minecraft.util.EnumChatFormatting;
 import net.minecraft.util.MathHelper;
 import net.minecraft.util.ResourceLocation;
+
 import org.lwjgl.input.Keyboard;
 import org.lwjgl.input.Mouse;
 
@@ -74,7 +77,7 @@ public class GuiContainerCreative extends InventoryEffectRenderer
     {
         if (!this.mc.playerController.isInCreativeMode())
         {
-            this.mc.displayGuiScreen(new GuiInventory(this.mc.thePlayer));
+            this.mc.displayGuiScreen(new GuiInventory(this.mc.player));
         }
 
         this.func_175378_g();
@@ -83,7 +86,7 @@ public class GuiContainerCreative extends InventoryEffectRenderer
     /**
      * Called when the mouse is clicked over a slot or outside the gui.
      */
-    protected void handleMouseClick(Slot slotIn, int slotId, int clickedButton, int clickType)
+    public void handleMouseClick(Slot slotIn, int slotId, int clickedButton, int clickType)
     {
         this.field_147057_D = true;
         boolean var5 = clickType == 1;
@@ -93,13 +96,13 @@ public class GuiContainerCreative extends InventoryEffectRenderer
 
         if (slotIn == null && selectedTabIndex != CreativeTabs.tabInventory.getTabIndex() && clickType != 5)
         {
-            var11 = this.mc.thePlayer.inventory;
+            var11 = this.mc.player.inventory;
 
             if (var11.getItemStack() != null)
             {
                 if (clickedButton == 0)
                 {
-                    this.mc.thePlayer.dropPlayerItemWithRandomChoice(var11.getItemStack(), true);
+                    this.mc.player.dropPlayerItemWithRandomChoice(var11.getItemStack(), true);
                     this.mc.playerController.sendPacketDropItem(var11.getItemStack());
                     var11.setItemStack((ItemStack)null);
                 }
@@ -107,7 +110,7 @@ public class GuiContainerCreative extends InventoryEffectRenderer
                 if (clickedButton == 1)
                 {
                     var7 = var11.getItemStack().splitStack(1);
-                    this.mc.thePlayer.dropPlayerItemWithRandomChoice(var7, true);
+                    this.mc.player.dropPlayerItemWithRandomChoice(var7, true);
                     this.mc.playerController.sendPacketDropItem(var7);
 
                     if (var11.getItemStack().stackSize == 0)
@@ -123,7 +126,7 @@ public class GuiContainerCreative extends InventoryEffectRenderer
 
             if (slotIn == this.field_147064_C && var5)
             {
-                for (var10 = 0; var10 < this.mc.thePlayer.inventoryContainer.getInventory().size(); ++var10)
+                for (var10 = 0; var10 < this.mc.player.inventoryContainer.getInventory().size(); ++var10)
                 {
                     this.mc.playerController.sendSlotPacket((ItemStack)null, var10);
                 }
@@ -136,29 +139,29 @@ public class GuiContainerCreative extends InventoryEffectRenderer
                 {
                     if (slotIn == this.field_147064_C)
                     {
-                        this.mc.thePlayer.inventory.setItemStack((ItemStack)null);
+                        this.mc.player.inventory.setItemStack((ItemStack)null);
                     }
                     else if (clickType == 4 && slotIn != null && slotIn.getHasStack())
                     {
                         var6 = slotIn.decrStackSize(clickedButton == 0 ? 1 : slotIn.getStack().getMaxStackSize());
-                        this.mc.thePlayer.dropPlayerItemWithRandomChoice(var6, true);
+                        this.mc.player.dropPlayerItemWithRandomChoice(var6, true);
                         this.mc.playerController.sendPacketDropItem(var6);
                     }
-                    else if (clickType == 4 && this.mc.thePlayer.inventory.getItemStack() != null)
+                    else if (clickType == 4 && this.mc.player.inventory.getItemStack() != null)
                     {
-                        this.mc.thePlayer.dropPlayerItemWithRandomChoice(this.mc.thePlayer.inventory.getItemStack(), true);
-                        this.mc.playerController.sendPacketDropItem(this.mc.thePlayer.inventory.getItemStack());
-                        this.mc.thePlayer.inventory.setItemStack((ItemStack)null);
+                        this.mc.player.dropPlayerItemWithRandomChoice(this.mc.player.inventory.getItemStack(), true);
+                        this.mc.playerController.sendPacketDropItem(this.mc.player.inventory.getItemStack());
+                        this.mc.player.inventory.setItemStack((ItemStack)null);
                     }
                     else
                     {
-                        this.mc.thePlayer.inventoryContainer.slotClick(slotIn == null ? slotId : ((GuiContainerCreative.CreativeSlot)slotIn).field_148332_b.slotNumber, clickedButton, clickType, this.mc.thePlayer);
-                        this.mc.thePlayer.inventoryContainer.detectAndSendChanges();
+                        this.mc.player.inventoryContainer.slotClick(slotIn == null ? slotId : ((GuiContainerCreative.CreativeSlot)slotIn).field_148332_b.slotNumber, clickedButton, clickType, this.mc.player);
+                        this.mc.player.inventoryContainer.detectAndSendChanges();
                     }
                 }
                 else if (clickType != 5 && slotIn.inventory == field_147060_v)
                 {
-                    var11 = this.mc.thePlayer.inventory;
+                    var11 = this.mc.player.inventory;
                     var7 = var11.getItemStack();
                     ItemStack var8 = slotIn.getStack();
                     ItemStack var9;
@@ -169,8 +172,8 @@ public class GuiContainerCreative extends InventoryEffectRenderer
                         {
                             var9 = var8.copy();
                             var9.stackSize = var9.getMaxStackSize();
-                            this.mc.thePlayer.inventory.setInventorySlotContents(clickedButton, var9);
-                            this.mc.thePlayer.inventoryContainer.detectAndSendChanges();
+                            this.mc.player.inventory.setInventorySlotContents(clickedButton, var9);
+                            this.mc.player.inventoryContainer.detectAndSendChanges();
                         }
 
                         return;
@@ -194,7 +197,7 @@ public class GuiContainerCreative extends InventoryEffectRenderer
                         {
                             var9 = var8.copy();
                             var9.stackSize = clickedButton == 0 ? 1 : var9.getMaxStackSize();
-                            this.mc.thePlayer.dropPlayerItemWithRandomChoice(var9, true);
+                            this.mc.player.dropPlayerItemWithRandomChoice(var9, true);
                             this.mc.playerController.sendPacketDropItem(var9);
                         }
 
@@ -240,7 +243,7 @@ public class GuiContainerCreative extends InventoryEffectRenderer
                 }
                 else
                 {
-                    this.inventorySlots.slotClick(slotIn == null ? slotId : slotIn.slotNumber, clickedButton, clickType, this.mc.thePlayer);
+                    this.inventorySlots.slotClick(slotIn == null ? slotId : slotIn.slotNumber, clickedButton, clickType, this.mc.player);
 
                     if (Container.getDragEvent(clickedButton) == 2)
                     {
@@ -278,11 +281,11 @@ public class GuiContainerCreative extends InventoryEffectRenderer
             selectedTabIndex = -1;
             this.setCurrentCreativeTab(CreativeTabs.creativeTabArray[var1]);
             this.field_147059_E = new CreativeCrafting(this.mc);
-            this.mc.thePlayer.inventoryContainer.onCraftGuiOpened(this.field_147059_E);
+            this.mc.player.inventoryContainer.onCraftGuiOpened(this.field_147059_E);
         }
         else
         {
-            this.mc.displayGuiScreen(new GuiInventory(this.mc.thePlayer));
+            this.mc.displayGuiScreen(new GuiInventory(this.mc.player));
         }
     }
 
@@ -293,9 +296,9 @@ public class GuiContainerCreative extends InventoryEffectRenderer
     {
         super.onGuiClosed();
 
-        if (this.mc.thePlayer != null && this.mc.thePlayer.inventory != null)
+        if (this.mc.player != null && this.mc.player.inventory != null)
         {
-            this.mc.thePlayer.inventoryContainer.removeCraftingFromCrafters(this.field_147059_E);
+            this.mc.player.inventoryContainer.removeCraftingFromCrafters(this.field_147059_E);
         }
 
         Keyboard.enableRepeatEvents(false);
@@ -376,7 +379,7 @@ public class GuiContainerCreative extends InventoryEffectRenderer
         {
             ItemStack var11 = (ItemStack)var2.next();
             boolean var12 = false;
-            Iterator var6 = var11.getTooltip(this.mc.thePlayer, this.mc.gameSettings.advancedItemTooltips).iterator();
+            Iterator var6 = var11.getTooltip(this.mc.player, this.mc.gameSettings.advancedItemTooltips).iterator();
 
             while (true)
             {
@@ -491,7 +494,7 @@ public class GuiContainerCreative extends InventoryEffectRenderer
 
         if (p_147050_1_ == CreativeTabs.tabInventory)
         {
-            Container var4 = this.mc.thePlayer.inventoryContainer;
+            Container var4 = this.mc.player.inventoryContainer;
 
             if (this.field_147063_B == null)
             {
@@ -657,7 +660,7 @@ public class GuiContainerCreative extends InventoryEffectRenderer
     {
         if (selectedTabIndex == CreativeTabs.tabAllSearch.getTabIndex())
         {
-            List var4 = itemIn.getTooltip(this.mc.thePlayer, this.mc.gameSettings.advancedItemTooltips);
+            List var4 = itemIn.getTooltip(this.mc.player, this.mc.gameSettings.advancedItemTooltips);
             CreativeTabs var5 = itemIn.getItem().getCreativeTab();
 
             if (var5 == null && itemIn.getItem() == Items.enchanted_book)
@@ -749,7 +752,7 @@ public class GuiContainerCreative extends InventoryEffectRenderer
 
         if (var4 == CreativeTabs.tabInventory)
         {
-            GuiInventory.drawEntityOnScreen(this.guiLeft + 43, this.guiTop + 45, 20, (float)(this.guiLeft + 43 - mouseX), (float)(this.guiTop + 45 - 30 - mouseY), this.mc.thePlayer);
+            GuiInventory.drawEntityOnScreen(this.guiLeft + 43, this.guiTop + 45, 20, (float)(this.guiLeft + 43 - mouseX), (float)(this.guiTop + 45 - 30 - mouseY), this.mc.player);
         }
     }
 
@@ -878,12 +881,12 @@ public class GuiContainerCreative extends InventoryEffectRenderer
     {
         if (button.id == 0)
         {
-            this.mc.displayGuiScreen(new GuiAchievements(this, this.mc.thePlayer.getStatFileWriter()));
+            this.mc.displayGuiScreen(new GuiAchievements(this, this.mc.player.getStatFileWriter()));
         }
 
         if (button.id == 1)
         {
-            this.mc.displayGuiScreen(new GuiStats(this, this.mc.thePlayer.getStatFileWriter()));
+            this.mc.displayGuiScreen(new GuiStats(this, this.mc.player.getStatFileWriter()));
         }
     }
 
@@ -1035,9 +1038,9 @@ public class GuiContainerCreative extends InventoryEffectRenderer
             return this.field_148332_b.func_178170_b(p_178170_1_);
         }
 
-        public String func_178171_c()
+        public String getNull()
         {
-            return this.field_148332_b.func_178171_c();
+            return this.field_148332_b.getNull();
         }
 
         public ItemStack decrStackSize(int p_75209_1_)
diff --git a/net/minecraft/client/gui/inventory/GuiEditSign.java b/net/minecraft/client/gui/inventory/GuiEditSign.java
index c3c8bf5..c8a47fc 100644
--- a/net/minecraft/client/gui/inventory/GuiEditSign.java
+++ b/net/minecraft/client/gui/inventory/GuiEditSign.java
@@ -1,6 +1,7 @@
 package net.minecraft.client.gui.inventory;
 
 import java.io.IOException;
+
 import net.minecraft.block.Block;
 import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.gui.GuiScreen;
@@ -8,13 +9,22 @@ import net.minecraft.client.network.NetHandlerPlayClient;
 import net.minecraft.client.renderer.GlStateManager;
 import net.minecraft.client.renderer.tileentity.TileEntityRendererDispatcher;
 import net.minecraft.client.resources.I18n;
+import net.minecraft.event.ClickEvent;
+import net.minecraft.event.ClickEvent.Action;
 import net.minecraft.init.Blocks;
 import net.minecraft.network.play.client.C12PacketUpdateSign;
 import net.minecraft.tileentity.TileEntitySign;
 import net.minecraft.util.ChatAllowedCharacters;
 import net.minecraft.util.ChatComponentText;
+import net.minecraft.util.ChatStyle;
+import net.minecraft.util.IChatComponent;
+
 import org.lwjgl.input.Keyboard;
 
+import tk.wurst_client.WurstClient;
+import tk.wurst_client.features.mods.AutoSignMod;
+import tk.wurst_client.features.mods.OpSignMod;
+
 public class GuiEditSign extends GuiScreen
 {
     /** Reference to the sign object. */
@@ -28,6 +38,7 @@ public class GuiEditSign extends GuiScreen
 
     /** "Done" button for the GUI. */
     private GuiButton doneBtn;
+
     private static final String __OBFID = "CL_00000764";
 
     public GuiEditSign(TileEntitySign p_i1097_1_)
@@ -40,6 +51,22 @@ public class GuiEditSign extends GuiScreen
      */
     public void initGui()
     {
+		// TODO: Client
+    	AutoSignMod autoSign = WurstClient.INSTANCE.mods.autoSignMod;
+		if(autoSign.isActive() && autoSign.signText != null)
+		{
+			this.tileSign.signText = autoSign.signText;
+			mc.displayGuiScreen(null);
+		}
+		OpSignMod opSign = WurstClient.INSTANCE.mods.opSignMod;
+		if(opSign.isActive())
+		{
+			ChatStyle style = new ChatStyle();
+			style.setChatClickEvent(new ClickEvent(Action.RUN_COMMAND, opSign.command));
+			tileSign.signText[0].setChatStyle(style);
+			mc.displayGuiScreen(null);
+		}
+    	
         this.buttonList.clear();
         Keyboard.enableRepeatEvents(true);
         this.buttonList.add(this.doneBtn = new GuiButton(0, this.width / 2 - 100, this.height / 4 + 120, I18n.format("gui.done", new Object[0])));
@@ -56,7 +83,7 @@ public class GuiEditSign extends GuiScreen
 
         if (var1 != null)
         {
-            var1.addToSendQueue(new C12PacketUpdateSign(this.tileSign.getPos(), this.tileSign.signText));
+            var1.sendPacket(new C12PacketUpdateSign(this.tileSign.getPos(), this.tileSign.signText));
         }
 
         this.tileSign.setEditable(true);
@@ -76,6 +103,11 @@ public class GuiEditSign extends GuiScreen
         {
             if (button.id == 0)
             {
+				// TODO: Client
+				AutoSignMod autoSign = WurstClient.INSTANCE.mods.autoSignMod;
+				if(autoSign.isActive() && autoSign.signText == null)
+					autoSign.signText = this.tileSign.signText;
+            	
                 this.tileSign.markDirty();
                 this.mc.displayGuiScreen((GuiScreen)null);
             }
diff --git a/net/minecraft/client/gui/inventory/GuiInventory.java b/net/minecraft/client/gui/inventory/GuiInventory.java
index b7fd1a3..d05c94a 100644
--- a/net/minecraft/client/gui/inventory/GuiInventory.java
+++ b/net/minecraft/client/gui/inventory/GuiInventory.java
@@ -1,6 +1,7 @@
 package net.minecraft.client.gui.inventory;
 
 import java.io.IOException;
+
 import net.minecraft.client.Minecraft;
 import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.gui.achievement.GuiAchievements;
@@ -36,7 +37,7 @@ public class GuiInventory extends InventoryEffectRenderer
     {
         if (this.mc.playerController.isInCreativeMode())
         {
-            this.mc.displayGuiScreen(new GuiContainerCreative(this.mc.thePlayer));
+            this.mc.displayGuiScreen(new GuiContainerCreative(this.mc.player));
         }
 
         this.func_175378_g();
@@ -51,7 +52,7 @@ public class GuiInventory extends InventoryEffectRenderer
 
         if (this.mc.playerController.isInCreativeMode())
         {
-            this.mc.displayGuiScreen(new GuiContainerCreative(this.mc.thePlayer));
+            this.mc.displayGuiScreen(new GuiContainerCreative(this.mc.player));
         }
         else
         {
@@ -87,7 +88,7 @@ public class GuiInventory extends InventoryEffectRenderer
         int var4 = this.guiLeft;
         int var5 = this.guiTop;
         this.drawTexturedModalRect(var4, var5, 0, 0, this.xSize, this.ySize);
-        drawEntityOnScreen(var4 + 51, var5 + 75, 30, (float)(var4 + 51) - this.oldMouseX, (float)(var5 + 75 - 50) - this.oldMouseY, this.mc.thePlayer);
+        drawEntityOnScreen(var4 + 51, var5 + 75, 30, (float)(var4 + 51) - this.oldMouseX, (float)(var5 + 75 - 50) - this.oldMouseY, this.mc.player);
     }
 
     /**
@@ -137,12 +138,12 @@ public class GuiInventory extends InventoryEffectRenderer
     {
         if (button.id == 0)
         {
-            this.mc.displayGuiScreen(new GuiAchievements(this, this.mc.thePlayer.getStatFileWriter()));
+            this.mc.displayGuiScreen(new GuiAchievements(this, this.mc.player.getStatFileWriter()));
         }
 
         if (button.id == 1)
         {
-            this.mc.displayGuiScreen(new GuiStats(this, this.mc.thePlayer.getStatFileWriter()));
+            this.mc.displayGuiScreen(new GuiStats(this, this.mc.player.getStatFileWriter()));
         }
     }
 }
diff --git a/net/minecraft/client/gui/inventory/GuiScreenHorseInventory.java b/net/minecraft/client/gui/inventory/GuiScreenHorseInventory.java
index fc42b67..c95627f 100644
--- a/net/minecraft/client/gui/inventory/GuiScreenHorseInventory.java
+++ b/net/minecraft/client/gui/inventory/GuiScreenHorseInventory.java
@@ -19,7 +19,7 @@ public class GuiScreenHorseInventory extends GuiContainer
 
     public GuiScreenHorseInventory(IInventory p_i1093_1_, IInventory p_i1093_2_, EntityHorse p_i1093_3_)
     {
-        super(new ContainerHorseInventory(p_i1093_1_, p_i1093_2_, p_i1093_3_, Minecraft.getMinecraft().thePlayer));
+        super(new ContainerHorseInventory(p_i1093_1_, p_i1093_2_, p_i1093_3_, Minecraft.getMinecraft().player));
         this.field_147030_v = p_i1093_1_;
         this.field_147029_w = p_i1093_2_;
         this.field_147034_x = p_i1093_3_;
diff --git a/net/minecraft/client/gui/spectator/PlayerMenuObject.java b/net/minecraft/client/gui/spectator/PlayerMenuObject.java
index c71404d..8b06de7 100644
--- a/net/minecraft/client/gui/spectator/PlayerMenuObject.java
+++ b/net/minecraft/client/gui/spectator/PlayerMenuObject.java
@@ -25,7 +25,7 @@ public class PlayerMenuObject implements ISpectatorMenuObject
 
     public void func_178661_a(SpectatorMenu p_178661_1_)
     {
-        Minecraft.getMinecraft().getNetHandler().addToSendQueue(new C18PacketSpectate(this.field_178668_a.getId()));
+        Minecraft.getMinecraft().getNetHandler().sendPacket(new C18PacketSpectate(this.field_178668_a.getId()));
     }
 
     public IChatComponent func_178664_z_()
diff --git a/net/minecraft/client/gui/spectator/categories/TeleportToPlayer.java b/net/minecraft/client/gui/spectator/categories/TeleportToPlayer.java
index d0fef46..7e0c3f6 100644
--- a/net/minecraft/client/gui/spectator/categories/TeleportToPlayer.java
+++ b/net/minecraft/client/gui/spectator/categories/TeleportToPlayer.java
@@ -26,7 +26,7 @@ public class TeleportToPlayer implements ISpectatorMenuView, ISpectatorMenuObjec
         private static final String __OBFID = "CL_00001921";
         public int func_178746_a(NetworkPlayerInfo p_178746_1_, NetworkPlayerInfo p_178746_2_)
         {
-            return ComparisonChain.start().compare(p_178746_1_.func_178845_a().getId(), p_178746_2_.func_178845_a().getId()).result();
+            return ComparisonChain.start().compare(p_178746_1_.getGameProfile().getId(), p_178746_2_.getGameProfile().getId()).result();
         }
         public int compare(Object p_compare_1_, Object p_compare_2_)
         {
@@ -38,7 +38,7 @@ public class TeleportToPlayer implements ISpectatorMenuView, ISpectatorMenuObjec
 
     public TeleportToPlayer()
     {
-        this(field_178674_a.sortedCopy(Minecraft.getMinecraft().getNetHandler().func_175106_d()));
+        this(field_178674_a.sortedCopy(Minecraft.getMinecraft().getNetHandler().getPlayerInfo()));
     }
 
     public TeleportToPlayer(Collection p_i45493_1_)
@@ -52,7 +52,7 @@ public class TeleportToPlayer implements ISpectatorMenuView, ISpectatorMenuObjec
 
             if (var3.getGameType() != WorldSettings.GameType.SPECTATOR)
             {
-                this.field_178673_b.add(new PlayerMenuObject(var3.func_178845_a()));
+                this.field_178673_b.add(new PlayerMenuObject(var3.getGameProfile()));
             }
         }
     }
diff --git a/net/minecraft/client/gui/spectator/categories/TeleportToTeam.java b/net/minecraft/client/gui/spectator/categories/TeleportToTeam.java
index fc85067..340dde3 100644
--- a/net/minecraft/client/gui/spectator/categories/TeleportToTeam.java
+++ b/net/minecraft/client/gui/spectator/categories/TeleportToTeam.java
@@ -29,7 +29,7 @@ public class TeleportToTeam implements ISpectatorMenuView, ISpectatorMenuObject
     public TeleportToTeam()
     {
         Minecraft var1 = Minecraft.getMinecraft();
-        Iterator var2 = var1.theWorld.getScoreboard().getTeams().iterator();
+        Iterator var2 = var1.world.getScoreboard().getTeams().iterator();
 
         while (var2.hasNext())
         {
@@ -109,13 +109,13 @@ public class TeleportToTeam implements ISpectatorMenuView, ISpectatorMenuObject
 
             if (!this.field_178675_d.isEmpty())
             {
-                String var6 = ((NetworkPlayerInfo)this.field_178675_d.get((new Random()).nextInt(this.field_178675_d.size()))).func_178845_a().getName();
+                String var6 = ((NetworkPlayerInfo)this.field_178675_d.get((new Random()).nextInt(this.field_178675_d.size()))).getGameProfile().getName();
                 this.field_178677_c = AbstractClientPlayer.getLocationSkin(var6);
                 AbstractClientPlayer.getDownloadImageSkin(this.field_178677_c, var6);
             }
             else
             {
-                this.field_178677_c = DefaultPlayerSkin.func_177335_a();
+                this.field_178677_c = DefaultPlayerSkin.getLocationStevePNG();
             }
         }
 
@@ -136,7 +136,7 @@ public class TeleportToTeam implements ISpectatorMenuView, ISpectatorMenuObject
 
             if (var4.length() >= 2)
             {
-                var3 = Minecraft.getMinecraft().fontRendererObj.func_175064_b(var4.charAt(1));
+                var3 = Minecraft.getMinecraft().fontRendererObj.getColorCode(var4.charAt(1));
             }
 
             if (var3 >= 0)
diff --git a/net/minecraft/client/gui/stream/GuiIngestServers.java b/net/minecraft/client/gui/stream/GuiIngestServers.java
index 1118b25..e625f7a 100644
--- a/net/minecraft/client/gui/stream/GuiIngestServers.java
+++ b/net/minecraft/client/gui/stream/GuiIngestServers.java
@@ -1,6 +1,7 @@
 package net.minecraft.client.gui.stream;
 
 import java.io.IOException;
+
 import net.minecraft.client.Minecraft;
 import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.gui.GuiScreen;
diff --git a/net/minecraft/client/gui/stream/GuiStreamOptions.java b/net/minecraft/client/gui/stream/GuiStreamOptions.java
index ee2a030..995dd75 100644
--- a/net/minecraft/client/gui/stream/GuiStreamOptions.java
+++ b/net/minecraft/client/gui/stream/GuiStreamOptions.java
@@ -1,6 +1,7 @@
 package net.minecraft.client.gui.stream;
 
 import java.io.IOException;
+
 import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.gui.GuiOptionButton;
 import net.minecraft.client.gui.GuiOptionSlider;
diff --git a/net/minecraft/client/gui/stream/GuiStreamUnavailable.java b/net/minecraft/client/gui/stream/GuiStreamUnavailable.java
index e97558c..ae3abbd 100644
--- a/net/minecraft/client/gui/stream/GuiStreamUnavailable.java
+++ b/net/minecraft/client/gui/stream/GuiStreamUnavailable.java
@@ -1,12 +1,14 @@
 package net.minecraft.client.gui.stream;
 
 import com.google.common.collect.Lists;
+
 import java.io.IOException;
 import java.net.URI;
 import java.util.ArrayList;
 import java.util.Arrays;
 import java.util.Iterator;
 import java.util.List;
+
 import net.minecraft.client.Minecraft;
 import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.gui.GuiScreen;
@@ -18,10 +20,12 @@ import net.minecraft.util.ChatComponentTranslation;
 import net.minecraft.util.IChatComponent;
 import net.minecraft.util.Session;
 import net.minecraft.util.Util;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 import org.lwjgl.opengl.GL11;
 import org.lwjgl.opengl.GLContext;
+
 import tv.twitch.ErrorCode;
 
 public class GuiStreamUnavailable extends GuiScreen
diff --git a/net/minecraft/client/gui/stream/GuiTwitchUserMode.java b/net/minecraft/client/gui/stream/GuiTwitchUserMode.java
index 27c8769..42b1b45 100644
--- a/net/minecraft/client/gui/stream/GuiTwitchUserMode.java
+++ b/net/minecraft/client/gui/stream/GuiTwitchUserMode.java
@@ -1,11 +1,13 @@
 package net.minecraft.client.gui.stream;
 
 import com.google.common.collect.Lists;
+
 import java.io.IOException;
 import java.util.ArrayList;
 import java.util.Iterator;
 import java.util.List;
 import java.util.Set;
+
 import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.gui.GuiScreen;
 import net.minecraft.client.resources.I18n;
diff --git a/net/minecraft/client/main/Main.java b/net/minecraft/client/main/Main.java
index 217fd14..53a1b0d 100644
--- a/net/minecraft/client/main/Main.java
+++ b/net/minecraft/client/main/Main.java
@@ -1,8 +1,5 @@
 package net.minecraft.client.main;
 
-import com.google.gson.GsonBuilder;
-import com.mojang.authlib.properties.PropertyMap;
-import com.mojang.authlib.properties.PropertyMap.Serializer;
 import java.io.File;
 import java.net.Authenticator;
 import java.net.InetSocketAddress;
@@ -10,6 +7,10 @@ import java.net.PasswordAuthentication;
 import java.net.Proxy;
 import java.net.Proxy.Type;
 import java.util.List;
+
+import javax.swing.UIManager;
+
+import tk.wurst_client.java8check.Java8Checker;
 import joptsimple.ArgumentAcceptingOptionSpec;
 import joptsimple.NonOptionArgumentSpec;
 import joptsimple.OptionParser;
@@ -17,12 +18,26 @@ import joptsimple.OptionSet;
 import net.minecraft.client.Minecraft;
 import net.minecraft.util.Session;
 
+import com.google.gson.GsonBuilder;
+import com.mojang.authlib.properties.PropertyMap;
+import com.mojang.authlib.properties.PropertyMap.Serializer;
+
 public class Main
 {
     private static final String __OBFID = "CL_00001461";
 
     public static void main(String[] p_main_0_)
     {
+    	//TODO: Client
+    	Java8Checker.checkJavaVersion();
+		try
+		{
+			UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());
+		}catch(Exception e)
+		{
+			e.printStackTrace();
+		}
+		
         System.setProperty("java.net.preferIPv4Stack", "true");
         OptionParser var1 = new OptionParser();
         var1.allowsUnrecognizedOptions();
diff --git a/net/minecraft/client/multiplayer/GuiConnecting.java b/net/minecraft/client/multiplayer/GuiConnecting.java
index 1aa77b6..81c53e6 100644
--- a/net/minecraft/client/multiplayer/GuiConnecting.java
+++ b/net/minecraft/client/multiplayer/GuiConnecting.java
@@ -4,6 +4,7 @@ import java.io.IOException;
 import java.net.InetAddress;
 import java.net.UnknownHostException;
 import java.util.concurrent.atomic.AtomicInteger;
+
 import net.minecraft.client.Minecraft;
 import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.gui.GuiDisconnected;
@@ -16,6 +17,7 @@ import net.minecraft.network.handshake.client.C00Handshake;
 import net.minecraft.network.login.client.C00PacketLoginStart;
 import net.minecraft.util.ChatComponentText;
 import net.minecraft.util.ChatComponentTranslation;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 
diff --git a/net/minecraft/client/multiplayer/PlayerControllerMP.java b/net/minecraft/client/multiplayer/PlayerControllerMP.java
index ca6ffd5..7e8e580 100644
--- a/net/minecraft/client/multiplayer/PlayerControllerMP.java
+++ b/net/minecraft/client/multiplayer/PlayerControllerMP.java
@@ -28,6 +28,8 @@ import net.minecraft.util.ResourceLocation;
 import net.minecraft.util.Vec3;
 import net.minecraft.world.World;
 import net.minecraft.world.WorldSettings;
+import tk.wurst_client.WurstClient;
+import tk.wurst_client.features.mods.FastBreakMod;
 
 public class PlayerControllerMP
 {
@@ -40,7 +42,8 @@ public class PlayerControllerMP
     private ItemStack currentItemHittingBlock;
 
     /** Current block damage (MP) */
-    private float curBlockDamageMP;
+    //TODO: Client
+    public static float curBlockDamageMP;
 
     /**
      * Tick counter, when it hits 4 it resets back to 0 and plays the step sound
@@ -69,11 +72,11 @@ public class PlayerControllerMP
         this.netClientHandler = p_i45062_2_;
     }
 
-    public static void func_178891_a(Minecraft mcIn, PlayerControllerMP p_178891_1_, BlockPos p_178891_2_, EnumFacing p_178891_3_)
+    public static void clickBlockCreative(Minecraft mcIn, PlayerControllerMP p_178891_1_, BlockPos p_178891_2_, EnumFacing p_178891_3_)
     {
-        if (!mcIn.theWorld.func_175719_a(mcIn.thePlayer, p_178891_2_, p_178891_3_))
+        if (!mcIn.world.func_175719_a(mcIn.player, p_178891_2_, p_178891_3_))
         {
-            p_178891_1_.func_178888_a(p_178891_2_, p_178891_3_);
+            p_178891_1_.onPlayerDestroyBlock(p_178891_2_, p_178891_3_);
         }
     }
 
@@ -102,7 +105,7 @@ public class PlayerControllerMP
     public void setGameType(WorldSettings.GameType p_78746_1_)
     {
         this.currentGameType = p_78746_1_;
-        this.currentGameType.configurePlayerCapabilities(this.mc.thePlayer.capabilities);
+        this.currentGameType.configurePlayerCapabilities(this.mc.player.capabilities);
     }
 
     /**
@@ -118,7 +121,7 @@ public class PlayerControllerMP
         return this.currentGameType.isSurvivalOrAdventure();
     }
 
-    public boolean func_178888_a(BlockPos p_178888_1_, EnumFacing p_178888_2_)
+    public boolean onPlayerDestroyBlock(BlockPos pos, EnumFacing side)
     {
         if (this.currentGameType.isAdventure())
         {
@@ -127,10 +130,10 @@ public class PlayerControllerMP
                 return false;
             }
 
-            if (!this.mc.thePlayer.func_175142_cm())
+            if (!this.mc.player.func_175142_cm())
             {
-                Block var3 = this.mc.theWorld.getBlockState(p_178888_1_).getBlock();
-                ItemStack var4 = this.mc.thePlayer.getCurrentEquippedItem();
+                Block var3 = this.mc.world.getBlockState(pos).getBlock();
+                ItemStack var4 = this.mc.player.getCurrentEquippedItem();
 
                 if (var4 == null)
                 {
@@ -144,14 +147,14 @@ public class PlayerControllerMP
             }
         }
 
-        if (this.currentGameType.isCreative() && this.mc.thePlayer.getHeldItem() != null && this.mc.thePlayer.getHeldItem().getItem() instanceof ItemSword)
+        if (this.currentGameType.isCreative() && this.mc.player.getHeldItem() != null && this.mc.player.getHeldItem().getItem() instanceof ItemSword)
         {
             return false;
         }
         else
         {
-            WorldClient var8 = this.mc.theWorld;
-            IBlockState var9 = var8.getBlockState(p_178888_1_);
+            WorldClient var8 = this.mc.world;
+            IBlockState var9 = var8.getBlockState(pos);
             Block var5 = var9.getBlock();
 
             if (var5.getMaterial() == Material.air)
@@ -160,27 +163,27 @@ public class PlayerControllerMP
             }
             else
             {
-                var8.playAuxSFX(2001, p_178888_1_, Block.getStateId(var9));
-                boolean var6 = var8.setBlockToAir(p_178888_1_);
+                var8.playAuxSFX(2001, pos, Block.getStateId(var9));
+                boolean var6 = var8.setBlockToAir(pos);
 
                 if (var6)
                 {
-                    var5.onBlockDestroyedByPlayer(var8, p_178888_1_, var9);
+                    var5.onBlockDestroyedByPlayer(var8, pos, var9);
                 }
 
                 this.field_178895_c = new BlockPos(this.field_178895_c.getX(), -1, this.field_178895_c.getZ());
 
                 if (!this.currentGameType.isCreative())
                 {
-                    ItemStack var7 = this.mc.thePlayer.getCurrentEquippedItem();
+                    ItemStack var7 = this.mc.player.getCurrentEquippedItem();
 
                     if (var7 != null)
                     {
-                        var7.onBlockDestroyed(var8, var5, p_178888_1_, this.mc.thePlayer);
+                        var7.onBlockDestroyed(var8, var5, pos, this.mc.player);
 
                         if (var7.stackSize == 0)
                         {
-                            this.mc.thePlayer.destroyCurrentEquippedItem();
+                            this.mc.player.destroyCurrentEquippedItem();
                         }
                     }
                 }
@@ -190,7 +193,7 @@ public class PlayerControllerMP
         }
     }
 
-    public boolean func_180511_b(BlockPos p_180511_1_, EnumFacing p_180511_2_)
+    public boolean clickBlock(BlockPos p_180511_1_, EnumFacing p_180511_2_)
     {
         Block var3;
 
@@ -201,10 +204,10 @@ public class PlayerControllerMP
                 return false;
             }
 
-            if (!this.mc.thePlayer.func_175142_cm())
+            if (!this.mc.player.func_175142_cm())
             {
-                var3 = this.mc.theWorld.getBlockState(p_180511_1_).getBlock();
-                ItemStack var4 = this.mc.thePlayer.getCurrentEquippedItem();
+                var3 = this.mc.world.getBlockState(p_180511_1_).getBlock();
+                ItemStack var4 = this.mc.player.getCurrentEquippedItem();
 
                 if (var4 == null)
                 {
@@ -218,7 +221,7 @@ public class PlayerControllerMP
             }
         }
 
-        if (!this.mc.theWorld.getWorldBorder().contains(p_180511_1_))
+        if (!this.mc.world.getWorldBorder().contains(p_180511_1_))
         {
             return false;
         }
@@ -226,38 +229,41 @@ public class PlayerControllerMP
         {
             if (this.currentGameType.isCreative())
             {
-                this.netClientHandler.addToSendQueue(new C07PacketPlayerDigging(C07PacketPlayerDigging.Action.START_DESTROY_BLOCK, p_180511_1_, p_180511_2_));
-                func_178891_a(this.mc, this, p_180511_1_, p_180511_2_);
-                this.blockHitDelay = 5;
+                this.netClientHandler.sendPacket(new C07PacketPlayerDigging(C07PacketPlayerDigging.Action.START_DESTROY_BLOCK, p_180511_1_, p_180511_2_));
+                clickBlockCreative(this.mc, this, p_180511_1_, p_180511_2_);
+                
+                //TODO: Client
+                this.blockHitDelay = WurstClient.INSTANCE.mods.fastBreakMod.isEnabled() ? 0 : 5;
+                
             }
-            else if (!this.isHittingBlock || !this.func_178893_a(p_180511_1_))
+            else if (!this.isHittingBlock || !this.sameToolAndBlock(p_180511_1_))
             {
                 if (this.isHittingBlock)
                 {
-                    this.netClientHandler.addToSendQueue(new C07PacketPlayerDigging(C07PacketPlayerDigging.Action.ABORT_DESTROY_BLOCK, this.field_178895_c, p_180511_2_));
+                    this.netClientHandler.sendPacket(new C07PacketPlayerDigging(C07PacketPlayerDigging.Action.ABORT_DESTROY_BLOCK, this.field_178895_c, p_180511_2_));
                 }
 
-                this.netClientHandler.addToSendQueue(new C07PacketPlayerDigging(C07PacketPlayerDigging.Action.START_DESTROY_BLOCK, p_180511_1_, p_180511_2_));
-                var3 = this.mc.theWorld.getBlockState(p_180511_1_).getBlock();
+                this.netClientHandler.sendPacket(new C07PacketPlayerDigging(C07PacketPlayerDigging.Action.START_DESTROY_BLOCK, p_180511_1_, p_180511_2_));
+                var3 = this.mc.world.getBlockState(p_180511_1_).getBlock();
                 boolean var5 = var3.getMaterial() != Material.air;
 
                 if (var5 && this.curBlockDamageMP == 0.0F)
                 {
-                    var3.onBlockClicked(this.mc.theWorld, p_180511_1_, this.mc.thePlayer);
+                    var3.onBlockClicked(this.mc.world, p_180511_1_, this.mc.player);
                 }
 
-                if (var5 && var3.getPlayerRelativeBlockHardness(this.mc.thePlayer, this.mc.thePlayer.worldObj, p_180511_1_) >= 1.0F)
+                if (var5 && var3.getPlayerRelativeBlockHardness(this.mc.player, this.mc.player.worldObj, p_180511_1_) >= 1.0F)
                 {
-                    this.func_178888_a(p_180511_1_, p_180511_2_);
+                    this.onPlayerDestroyBlock(p_180511_1_, p_180511_2_);
                 }
                 else
                 {
                     this.isHittingBlock = true;
                     this.field_178895_c = p_180511_1_;
-                    this.currentItemHittingBlock = this.mc.thePlayer.getHeldItem();
+                    this.currentItemHittingBlock = this.mc.player.getHeldItem();
                     this.curBlockDamageMP = 0.0F;
                     this.stepSoundTickCounter = 0.0F;
-                    this.mc.theWorld.sendBlockBreakProgress(this.mc.thePlayer.getEntityId(), this.field_178895_c, (int)(this.curBlockDamageMP * 10.0F) - 1);
+                    this.mc.world.sendBlockBreakProgress(this.mc.player.getEntityId(), this.field_178895_c, (int)(this.curBlockDamageMP * 10.0F) - 1);
                 }
             }
 
@@ -272,14 +278,17 @@ public class PlayerControllerMP
     {
         if (this.isHittingBlock)
         {
-            this.netClientHandler.addToSendQueue(new C07PacketPlayerDigging(C07PacketPlayerDigging.Action.ABORT_DESTROY_BLOCK, this.field_178895_c, EnumFacing.DOWN));
+            this.netClientHandler.sendPacket(new C07PacketPlayerDigging(C07PacketPlayerDigging.Action.ABORT_DESTROY_BLOCK, this.field_178895_c, EnumFacing.DOWN));
             this.isHittingBlock = false;
             this.curBlockDamageMP = 0.0F;
-            this.mc.theWorld.sendBlockBreakProgress(this.mc.thePlayer.getEntityId(), this.field_178895_c, -1);
+            this.mc.world.sendBlockBreakProgress(this.mc.player.getEntityId(), this.field_178895_c, -1);
         }
     }
 
-    public boolean func_180512_c(BlockPos p_180512_1_, EnumFacing p_180512_2_)
+    /**
+     * Called when a player damages a block and updates damage counters
+     */
+    public boolean onPlayerDamageBlock(BlockPos p_180512_1_, EnumFacing p_180512_2_)
     {
         this.syncCurrentPlayItem();
 
@@ -288,16 +297,17 @@ public class PlayerControllerMP
             --this.blockHitDelay;
             return true;
         }
-        else if (this.currentGameType.isCreative() && this.mc.theWorld.getWorldBorder().contains(p_180512_1_))
+        else if (this.currentGameType.isCreative() && this.mc.world.getWorldBorder().contains(p_180512_1_))
         {
-            this.blockHitDelay = 5;
-            this.netClientHandler.addToSendQueue(new C07PacketPlayerDigging(C07PacketPlayerDigging.Action.START_DESTROY_BLOCK, p_180512_1_, p_180512_2_));
-            func_178891_a(this.mc, this, p_180512_1_, p_180512_2_);
+        	//TODO: Client
+            this.blockHitDelay = WurstClient.INSTANCE.mods.fastBreakMod.isEnabled() ? 0 : 5;
+            this.netClientHandler.sendPacket(new C07PacketPlayerDigging(C07PacketPlayerDigging.Action.START_DESTROY_BLOCK, p_180512_1_, p_180512_2_));
+            clickBlockCreative(this.mc, this, p_180512_1_, p_180512_2_);
             return true;
         }
-        else if (this.func_178893_a(p_180512_1_))
+        else if (this.sameToolAndBlock(p_180512_1_))
         {
-            Block var3 = this.mc.theWorld.getBlockState(p_180512_1_).getBlock();
+            Block var3 = this.mc.world.getBlockState(p_180512_1_).getBlock();
 
             if (var3.getMaterial() == Material.air)
             {
@@ -306,7 +316,15 @@ public class PlayerControllerMP
             }
             else
             {
-                this.curBlockDamageMP += var3.getPlayerRelativeBlockHardness(this.mc.thePlayer, this.mc.thePlayer.worldObj, p_180512_1_);
+				// TODO: Client
+				FastBreakMod fastBreak = WurstClient.INSTANCE.mods.fastBreakMod;
+				this.curBlockDamageMP +=
+					var3.getPlayerRelativeBlockHardness(this.mc.player,
+						this.mc.player.worldObj, p_180512_1_)
+						* (fastBreak.isActive()
+							&& !this.currentGameType.isCreative()
+							&& WurstClient.INSTANCE.options.fastbreakMode == 0
+							? fastBreak.speed : 1);
 
                 if (this.stepSoundTickCounter % 4.0F == 0.0F)
                 {
@@ -318,20 +336,28 @@ public class PlayerControllerMP
                 if (this.curBlockDamageMP >= 1.0F)
                 {
                     this.isHittingBlock = false;
-                    this.netClientHandler.addToSendQueue(new C07PacketPlayerDigging(C07PacketPlayerDigging.Action.STOP_DESTROY_BLOCK, p_180512_1_, p_180512_2_));
-                    this.func_178888_a(p_180512_1_, p_180512_2_);
+                    this.netClientHandler.sendPacket(new C07PacketPlayerDigging(C07PacketPlayerDigging.Action.STOP_DESTROY_BLOCK, p_180512_1_, p_180512_2_));
+                    this.onPlayerDestroyBlock(p_180512_1_, p_180512_2_);
                     this.curBlockDamageMP = 0.0F;
                     this.stepSoundTickCounter = 0.0F;
                     this.blockHitDelay = 5;
+                    
+					// TODO: Client
+				}else if(!this.currentGameType.isCreative()
+					&& WurstClient.INSTANCE.mods.fastBreakMod.isEnabled()
+					&& WurstClient.INSTANCE.options.fastbreakMode == 1)
+				{
+                	
+                    this.netClientHandler.sendPacket(new C07PacketPlayerDigging(C07PacketPlayerDigging.Action.STOP_DESTROY_BLOCK, p_180512_1_, p_180512_2_));
                 }
 
-                this.mc.theWorld.sendBlockBreakProgress(this.mc.thePlayer.getEntityId(), this.field_178895_c, (int)(this.curBlockDamageMP * 10.0F) - 1);
+                this.mc.world.sendBlockBreakProgress(this.mc.player.getEntityId(), this.field_178895_c, (int)(this.curBlockDamageMP * 10.0F) - 1);
                 return true;
             }
         }
         else
         {
-            return this.func_180511_b(p_180512_1_, p_180512_2_);
+            return this.clickBlock(p_180512_1_, p_180512_2_);
         }
     }
 
@@ -357,9 +383,9 @@ public class PlayerControllerMP
         }
     }
 
-    private boolean func_178893_a(BlockPos p_178893_1_)
+    private boolean sameToolAndBlock(BlockPos p_178893_1_)
     {
-        ItemStack var2 = this.mc.thePlayer.getHeldItem();
+        ItemStack var2 = this.mc.player.getHeldItem();
         boolean var3 = this.currentItemHittingBlock == null && var2 == null;
 
         if (this.currentItemHittingBlock != null && var2 != null)
@@ -375,12 +401,12 @@ public class PlayerControllerMP
      */
     private void syncCurrentPlayItem()
     {
-        int var1 = this.mc.thePlayer.inventory.currentItem;
+        int var1 = this.mc.player.inventory.currentItem;
 
         if (var1 != this.currentPlayerItem)
         {
             this.currentPlayerItem = var1;
-            this.netClientHandler.addToSendQueue(new C09PacketHeldItemChange(this.currentPlayerItem));
+            this.netClientHandler.sendPacket(new C09PacketHeldItemChange(this.currentPlayerItem));
         }
     }
 
@@ -392,7 +418,7 @@ public class PlayerControllerMP
         float var9 = (float)(p_178890_6_.zCoord - (double)p_178890_4_.getZ());
         boolean var10 = false;
 
-        if (!this.mc.theWorld.getWorldBorder().contains(p_178890_4_))
+        if (!this.mc.world.getWorldBorder().contains(p_178890_4_))
         {
             return false;
         }
@@ -418,7 +444,7 @@ public class PlayerControllerMP
                 }
             }
 
-            this.netClientHandler.addToSendQueue(new C08PacketPlayerBlockPlacement(p_178890_4_, p_178890_5_.getIndex(), p_178890_1_.inventory.getCurrentItem(), var7, var8, var9));
+            this.netClientHandler.sendPacket(new C08PacketPlayerBlockPlacement(p_178890_4_, p_178890_5_.getIndex(), p_178890_1_.inventory.getCurrentItem(), var7, var8, var9));
 
             if (!var10 && this.currentGameType != WorldSettings.GameType.SPECTATOR)
             {
@@ -459,11 +485,11 @@ public class PlayerControllerMP
         else
         {
             this.syncCurrentPlayItem();
-            this.netClientHandler.addToSendQueue(new C08PacketPlayerBlockPlacement(playerIn.inventory.getCurrentItem()));
+            this.netClientHandler.sendPacket(new C08PacketPlayerBlockPlacement(playerIn.inventory.getCurrentItem()));
             int var4 = itemStackIn.stackSize;
             ItemStack var5 = itemStackIn.useItemRightClick(worldIn, playerIn);
 
-            if (var5 == itemStackIn && (var5 == null || var5.stackSize == var4))
+            if (var5 == itemStackIn && var5.stackSize == var4)
             {
                 return false;
             }
@@ -492,7 +518,7 @@ public class PlayerControllerMP
     public void attackEntity(EntityPlayer playerIn, Entity targetEntity)
     {
         this.syncCurrentPlayItem();
-        this.netClientHandler.addToSendQueue(new C02PacketUseEntity(targetEntity, C02PacketUseEntity.Action.ATTACK));
+        this.netClientHandler.sendPacket(new C02PacketUseEntity(targetEntity, C02PacketUseEntity.Action.ATTACK));
 
         if (this.currentGameType != WorldSettings.GameType.SPECTATOR)
         {
@@ -506,7 +532,7 @@ public class PlayerControllerMP
     public boolean interactWithEntitySendPacket(EntityPlayer playerIn, Entity targetEntity)
     {
         this.syncCurrentPlayItem();
-        this.netClientHandler.addToSendQueue(new C02PacketUseEntity(targetEntity, C02PacketUseEntity.Action.INTERACT));
+        this.netClientHandler.sendPacket(new C02PacketUseEntity(targetEntity, C02PacketUseEntity.Action.INTERACT));
         return this.currentGameType != WorldSettings.GameType.SPECTATOR && playerIn.interactWith(targetEntity);
     }
 
@@ -514,7 +540,7 @@ public class PlayerControllerMP
     {
         this.syncCurrentPlayItem();
         Vec3 var4 = new Vec3(p_178894_3_.hitVec.xCoord - p_178894_2_.posX, p_178894_3_.hitVec.yCoord - p_178894_2_.posY, p_178894_3_.hitVec.zCoord - p_178894_2_.posZ);
-        this.netClientHandler.addToSendQueue(new C02PacketUseEntity(p_178894_2_, var4));
+        this.netClientHandler.sendPacket(new C02PacketUseEntity(p_178894_2_, var4));
         return this.currentGameType != WorldSettings.GameType.SPECTATOR && p_178894_2_.func_174825_a(p_178894_1_, var4);
     }
 
@@ -525,7 +551,7 @@ public class PlayerControllerMP
     {
         short var6 = playerIn.openContainer.getNextTransactionID(playerIn.inventory);
         ItemStack var7 = playerIn.openContainer.slotClick(slotId, p_78753_3_, p_78753_4_, playerIn);
-        this.netClientHandler.addToSendQueue(new C0EPacketClickWindow(windowId, slotId, p_78753_3_, p_78753_4_, var7, var6));
+        this.netClientHandler.sendPacket(new C0EPacketClickWindow(windowId, slotId, p_78753_3_, p_78753_4_, var7, var6));
         return var7;
     }
 
@@ -535,7 +561,7 @@ public class PlayerControllerMP
      */
     public void sendEnchantPacket(int p_78756_1_, int p_78756_2_)
     {
-        this.netClientHandler.addToSendQueue(new C11PacketEnchantItem(p_78756_1_, p_78756_2_));
+        this.netClientHandler.sendPacket(new C11PacketEnchantItem(p_78756_1_, p_78756_2_));
     }
 
     /**
@@ -545,7 +571,7 @@ public class PlayerControllerMP
     {
         if (this.currentGameType.isCreative())
         {
-            this.netClientHandler.addToSendQueue(new C10PacketCreativeInventoryAction(slotId, itemStackIn));
+            this.netClientHandler.sendPacket(new C10PacketCreativeInventoryAction(slotId, itemStackIn));
         }
     }
 
@@ -556,14 +582,14 @@ public class PlayerControllerMP
     {
         if (this.currentGameType.isCreative() && itemStackIn != null)
         {
-            this.netClientHandler.addToSendQueue(new C10PacketCreativeInventoryAction(-1, itemStackIn));
+            this.netClientHandler.sendPacket(new C10PacketCreativeInventoryAction(-1, itemStackIn));
         }
     }
 
     public void onStoppedUsingItem(EntityPlayer playerIn)
     {
         this.syncCurrentPlayItem();
-        this.netClientHandler.addToSendQueue(new C07PacketPlayerDigging(C07PacketPlayerDigging.Action.RELEASE_USE_ITEM, BlockPos.ORIGIN, EnumFacing.DOWN));
+        this.netClientHandler.sendPacket(new C07PacketPlayerDigging(C07PacketPlayerDigging.Action.RELEASE_USE_ITEM, BlockPos.ORIGIN, EnumFacing.DOWN));
         playerIn.stopUsingItem();
     }
 
@@ -601,7 +627,7 @@ public class PlayerControllerMP
      */
     public boolean isRidingHorse()
     {
-        return this.mc.thePlayer.isRiding() && this.mc.thePlayer.ridingEntity instanceof EntityHorse;
+        return this.mc.player.isRiding() && this.mc.player.ridingEntity instanceof EntityHorse;
     }
 
     public boolean isSpectatorMode()
diff --git a/net/minecraft/client/multiplayer/ServerList.java b/net/minecraft/client/multiplayer/ServerList.java
index 3931254..a5d71ef 100644
--- a/net/minecraft/client/multiplayer/ServerList.java
+++ b/net/minecraft/client/multiplayer/ServerList.java
@@ -28,6 +28,12 @@ public class ServerList
         this.loadServerList();
     }
 
+    //TODO: Client
+    public void clearServerList()
+    {
+    	this.servers.clear();
+    }
+
     /**
      * Loads a list of servers from servers.dat, by running ServerData.getServerDataFromNBTCompound on each NBT compound
      * found in the "servers" tag list.
@@ -95,9 +101,9 @@ public class ServerList
     /**
      * Removes the ServerData instance stored for the given index in the list.
      */
-    public void removeServerData(int p_78851_1_)
+    public void removeServerData(int index)
     {
-        this.servers.remove(p_78851_1_);
+        this.servers.remove(index);
     }
 
     /**
@@ -127,9 +133,9 @@ public class ServerList
         this.saveServerList();
     }
 
-    public void func_147413_a(int p_147413_1_, ServerData p_147413_2_)
+    public void setServer(int index, ServerData server)
     {
-        this.servers.set(p_147413_1_, p_147413_2_);
+        this.servers.set(index, server);
     }
 
     public static void func_147414_b(ServerData p_147414_0_)
@@ -143,7 +149,7 @@ public class ServerList
 
             if (var3.serverName.equals(p_147414_0_.serverName) && var3.serverIP.equals(p_147414_0_.serverIP))
             {
-                var1.func_147413_a(var2, p_147414_0_);
+                var1.setServer(var2, p_147414_0_);
                 break;
             }
         }
diff --git a/net/minecraft/client/multiplayer/WorldClient.java b/net/minecraft/client/multiplayer/WorldClient.java
index a637637..3b687ca 100644
--- a/net/minecraft/client/multiplayer/WorldClient.java
+++ b/net/minecraft/client/multiplayer/WorldClient.java
@@ -1,10 +1,12 @@
 package net.minecraft.client.multiplayer;
 
 import com.google.common.collect.Sets;
+
 import java.util.Iterator;
 import java.util.Random;
 import java.util.Set;
 import java.util.concurrent.Callable;
+
 import net.minecraft.block.Block;
 import net.minecraft.block.state.IBlockState;
 import net.minecraft.client.Minecraft;
@@ -256,7 +258,7 @@ public class WorldClient extends World
      */
     public Entity getEntityByID(int p_73045_1_)
     {
-        return (Entity)(p_73045_1_ == this.mc.thePlayer.getEntityId() ? this.mc.thePlayer : super.getEntityByID(p_73045_1_));
+        return (Entity)(p_73045_1_ == this.mc.player.getEntityId() ? this.mc.player : super.getEntityByID(p_73045_1_));
     }
 
     public Entity removeEntityFromWorld(int p_73028_1_)
@@ -303,15 +305,21 @@ public class WorldClient extends World
     {
         byte var4 = 16;
         Random var5 = new Random();
-        ItemStack var6 = this.mc.thePlayer.getHeldItem();
+        ItemStack var6 = this.mc.player.getHeldItem();
         boolean var7 = this.mc.playerController.func_178889_l() == WorldSettings.GameType.CREATIVE && var6 != null && Block.getBlockFromItem(var6.getItem()) == Blocks.barrier;
 
+        //TODO: Client
+        BlockPos var12 = new BlockPos(0, 0, 0);
+        
         for (int var8 = 0; var8 < 1000; ++var8)
         {
             int var9 = p_73029_1_ + this.rand.nextInt(var4) - this.rand.nextInt(var4);
             int var10 = p_73029_2_ + this.rand.nextInt(var4) - this.rand.nextInt(var4);
             int var11 = p_73029_3_ + this.rand.nextInt(var4) - this.rand.nextInt(var4);
-            BlockPos var12 = new BlockPos(var9, var10, var11);
+            
+            //TODO: Client
+            var12.setPos(var9, var10, var11);
+            
             IBlockState var13 = this.getBlockState(var12);
             var13.getBlock().randomDisplayTick(this, var12, var13, var5);
 
@@ -410,7 +418,7 @@ public class WorldClient extends World
             private static final String __OBFID = "CL_00000885";
             public String call()
             {
-                return WorldClient.this.mc.thePlayer.getClientBrand();
+                return WorldClient.this.mc.player.getClientBrand();
             }
         });
         var2.addCrashSectionCallable("Server type", new Callable()
diff --git a/net/minecraft/client/network/NetHandlerLoginClient.java b/net/minecraft/client/network/NetHandlerLoginClient.java
index d6a17db..7506221 100644
--- a/net/minecraft/client/network/NetHandlerLoginClient.java
+++ b/net/minecraft/client/network/NetHandlerLoginClient.java
@@ -5,11 +5,15 @@ import com.mojang.authlib.exceptions.AuthenticationException;
 import com.mojang.authlib.exceptions.AuthenticationUnavailableException;
 import com.mojang.authlib.exceptions.InvalidCredentialsException;
 import com.mojang.authlib.minecraft.MinecraftSessionService;
+
 import io.netty.util.concurrent.Future;
 import io.netty.util.concurrent.GenericFutureListener;
+
 import java.math.BigInteger;
 import java.security.PublicKey;
+
 import javax.crypto.SecretKey;
+
 import net.minecraft.client.Minecraft;
 import net.minecraft.client.gui.GuiDisconnected;
 import net.minecraft.client.gui.GuiScreen;
@@ -24,6 +28,7 @@ import net.minecraft.network.login.server.S03PacketEnableCompression;
 import net.minecraft.util.ChatComponentTranslation;
 import net.minecraft.util.CryptManager;
 import net.minecraft.util.IChatComponent;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 
diff --git a/net/minecraft/client/network/NetHandlerPlayClient.java b/net/minecraft/client/network/NetHandlerPlayClient.java
index 2b1d59a..c49903b 100644
--- a/net/minecraft/client/network/NetHandlerPlayClient.java
+++ b/net/minecraft/client/network/NetHandlerPlayClient.java
@@ -1,39 +1,24 @@
 package net.minecraft.client.network;
 
-import com.google.common.collect.Maps;
-import com.google.common.util.concurrent.FutureCallback;
-import com.google.common.util.concurrent.Futures;
-import com.mojang.authlib.GameProfile;
 import io.netty.buffer.Unpooled;
+
 import java.io.File;
 import java.io.IOException;
 import java.util.Collection;
 import java.util.Iterator;
 import java.util.List;
 import java.util.Map;
+import java.util.Map.Entry;
 import java.util.Random;
 import java.util.UUID;
-import java.util.Map.Entry;
+
 import net.minecraft.block.Block;
 import net.minecraft.client.ClientBrandRetriever;
 import net.minecraft.client.Minecraft;
 import net.minecraft.client.audio.GuardianSound;
 import net.minecraft.client.entity.EntityOtherPlayerMP;
 import net.minecraft.client.entity.EntityPlayerSP;
-import net.minecraft.client.gui.GuiChat;
-import net.minecraft.client.gui.GuiDisconnected;
-import net.minecraft.client.gui.GuiDownloadTerrain;
-import net.minecraft.client.gui.GuiMainMenu;
-import net.minecraft.client.gui.GuiMerchant;
-import net.minecraft.client.gui.GuiMultiplayer;
-import net.minecraft.client.gui.GuiScreen;
-import net.minecraft.client.gui.GuiScreenBook;
-import net.minecraft.client.gui.GuiScreenDemo;
-import net.minecraft.client.gui.GuiScreenRealmsProxy;
-import net.minecraft.client.gui.GuiWinGame;
-import net.minecraft.client.gui.GuiYesNo;
-import net.minecraft.client.gui.GuiYesNoCallback;
-import net.minecraft.client.gui.IProgressMeter;
+import net.minecraft.client.gui.*;
 import net.minecraft.client.gui.inventory.GuiContainerCreative;
 import net.minecraft.client.multiplayer.PlayerControllerMP;
 import net.minecraft.client.multiplayer.ServerData;
@@ -61,32 +46,12 @@ import net.minecraft.entity.ai.attributes.IAttribute;
 import net.minecraft.entity.ai.attributes.IAttributeInstance;
 import net.minecraft.entity.ai.attributes.RangedAttribute;
 import net.minecraft.entity.effect.EntityLightningBolt;
-import net.minecraft.entity.item.EntityArmorStand;
-import net.minecraft.entity.item.EntityBoat;
-import net.minecraft.entity.item.EntityEnderCrystal;
-import net.minecraft.entity.item.EntityEnderEye;
-import net.minecraft.entity.item.EntityEnderPearl;
-import net.minecraft.entity.item.EntityExpBottle;
-import net.minecraft.entity.item.EntityFallingBlock;
-import net.minecraft.entity.item.EntityFireworkRocket;
-import net.minecraft.entity.item.EntityItem;
-import net.minecraft.entity.item.EntityItemFrame;
-import net.minecraft.entity.item.EntityMinecart;
-import net.minecraft.entity.item.EntityPainting;
-import net.minecraft.entity.item.EntityTNTPrimed;
-import net.minecraft.entity.item.EntityXPOrb;
+import net.minecraft.entity.item.*;
 import net.minecraft.entity.monster.EntityGuardian;
 import net.minecraft.entity.passive.EntityHorse;
 import net.minecraft.entity.player.EntityPlayer;
 import net.minecraft.entity.player.InventoryPlayer;
-import net.minecraft.entity.projectile.EntityArrow;
-import net.minecraft.entity.projectile.EntityEgg;
-import net.minecraft.entity.projectile.EntityFishHook;
-import net.minecraft.entity.projectile.EntityLargeFireball;
-import net.minecraft.entity.projectile.EntityPotion;
-import net.minecraft.entity.projectile.EntitySmallFireball;
-import net.minecraft.entity.projectile.EntitySnowball;
-import net.minecraft.entity.projectile.EntityWitherSkull;
+import net.minecraft.entity.projectile.*;
 import net.minecraft.init.Items;
 import net.minecraft.inventory.AnimalChest;
 import net.minecraft.inventory.Container;
@@ -104,77 +69,7 @@ import net.minecraft.network.play.client.C03PacketPlayer;
 import net.minecraft.network.play.client.C0FPacketConfirmTransaction;
 import net.minecraft.network.play.client.C17PacketCustomPayload;
 import net.minecraft.network.play.client.C19PacketResourcePackStatus;
-import net.minecraft.network.play.server.S00PacketKeepAlive;
-import net.minecraft.network.play.server.S01PacketJoinGame;
-import net.minecraft.network.play.server.S02PacketChat;
-import net.minecraft.network.play.server.S03PacketTimeUpdate;
-import net.minecraft.network.play.server.S04PacketEntityEquipment;
-import net.minecraft.network.play.server.S05PacketSpawnPosition;
-import net.minecraft.network.play.server.S06PacketUpdateHealth;
-import net.minecraft.network.play.server.S07PacketRespawn;
-import net.minecraft.network.play.server.S08PacketPlayerPosLook;
-import net.minecraft.network.play.server.S09PacketHeldItemChange;
-import net.minecraft.network.play.server.S0APacketUseBed;
-import net.minecraft.network.play.server.S0BPacketAnimation;
-import net.minecraft.network.play.server.S0CPacketSpawnPlayer;
-import net.minecraft.network.play.server.S0DPacketCollectItem;
-import net.minecraft.network.play.server.S0EPacketSpawnObject;
-import net.minecraft.network.play.server.S0FPacketSpawnMob;
-import net.minecraft.network.play.server.S10PacketSpawnPainting;
-import net.minecraft.network.play.server.S11PacketSpawnExperienceOrb;
-import net.minecraft.network.play.server.S12PacketEntityVelocity;
-import net.minecraft.network.play.server.S13PacketDestroyEntities;
-import net.minecraft.network.play.server.S14PacketEntity;
-import net.minecraft.network.play.server.S18PacketEntityTeleport;
-import net.minecraft.network.play.server.S19PacketEntityHeadLook;
-import net.minecraft.network.play.server.S19PacketEntityStatus;
-import net.minecraft.network.play.server.S1BPacketEntityAttach;
-import net.minecraft.network.play.server.S1CPacketEntityMetadata;
-import net.minecraft.network.play.server.S1DPacketEntityEffect;
-import net.minecraft.network.play.server.S1EPacketRemoveEntityEffect;
-import net.minecraft.network.play.server.S1FPacketSetExperience;
-import net.minecraft.network.play.server.S20PacketEntityProperties;
-import net.minecraft.network.play.server.S21PacketChunkData;
-import net.minecraft.network.play.server.S22PacketMultiBlockChange;
-import net.minecraft.network.play.server.S23PacketBlockChange;
-import net.minecraft.network.play.server.S24PacketBlockAction;
-import net.minecraft.network.play.server.S25PacketBlockBreakAnim;
-import net.minecraft.network.play.server.S26PacketMapChunkBulk;
-import net.minecraft.network.play.server.S27PacketExplosion;
-import net.minecraft.network.play.server.S28PacketEffect;
-import net.minecraft.network.play.server.S29PacketSoundEffect;
-import net.minecraft.network.play.server.S2APacketParticles;
-import net.minecraft.network.play.server.S2BPacketChangeGameState;
-import net.minecraft.network.play.server.S2CPacketSpawnGlobalEntity;
-import net.minecraft.network.play.server.S2DPacketOpenWindow;
-import net.minecraft.network.play.server.S2EPacketCloseWindow;
-import net.minecraft.network.play.server.S2FPacketSetSlot;
-import net.minecraft.network.play.server.S30PacketWindowItems;
-import net.minecraft.network.play.server.S31PacketWindowProperty;
-import net.minecraft.network.play.server.S32PacketConfirmTransaction;
-import net.minecraft.network.play.server.S33PacketUpdateSign;
-import net.minecraft.network.play.server.S34PacketMaps;
-import net.minecraft.network.play.server.S35PacketUpdateTileEntity;
-import net.minecraft.network.play.server.S36PacketSignEditorOpen;
-import net.minecraft.network.play.server.S37PacketStatistics;
-import net.minecraft.network.play.server.S38PacketPlayerListItem;
-import net.minecraft.network.play.server.S39PacketPlayerAbilities;
-import net.minecraft.network.play.server.S3APacketTabComplete;
-import net.minecraft.network.play.server.S3BPacketScoreboardObjective;
-import net.minecraft.network.play.server.S3CPacketUpdateScore;
-import net.minecraft.network.play.server.S3DPacketDisplayScoreboard;
-import net.minecraft.network.play.server.S3EPacketTeams;
-import net.minecraft.network.play.server.S3FPacketCustomPayload;
-import net.minecraft.network.play.server.S40PacketDisconnect;
-import net.minecraft.network.play.server.S41PacketServerDifficulty;
-import net.minecraft.network.play.server.S42PacketCombatEvent;
-import net.minecraft.network.play.server.S43PacketCamera;
-import net.minecraft.network.play.server.S44PacketWorldBorder;
-import net.minecraft.network.play.server.S45PacketTitle;
-import net.minecraft.network.play.server.S46PacketSetCompressionLevel;
-import net.minecraft.network.play.server.S47PacketPlayerListHeaderFooter;
-import net.minecraft.network.play.server.S48PacketResourcePackSend;
-import net.minecraft.network.play.server.S49PacketUpdateEntityNBT;
+import net.minecraft.network.play.server.*;
 import net.minecraft.potion.PotionEffect;
 import net.minecraft.realms.DisconnectedRealmsScreen;
 import net.minecraft.scoreboard.IScoreObjectiveCriteria;
@@ -186,32 +81,25 @@ import net.minecraft.scoreboard.Team;
 import net.minecraft.stats.Achievement;
 import net.minecraft.stats.AchievementList;
 import net.minecraft.stats.StatBase;
-import net.minecraft.tileentity.TileEntity;
-import net.minecraft.tileentity.TileEntityBanner;
-import net.minecraft.tileentity.TileEntityBeacon;
-import net.minecraft.tileentity.TileEntityCommandBlock;
-import net.minecraft.tileentity.TileEntityFlowerPot;
-import net.minecraft.tileentity.TileEntityMobSpawner;
-import net.minecraft.tileentity.TileEntitySign;
-import net.minecraft.tileentity.TileEntitySkull;
-import net.minecraft.util.BlockPos;
-import net.minecraft.util.ChatComponentText;
-import net.minecraft.util.ChatComponentTranslation;
-import net.minecraft.util.EnumChatFormatting;
-import net.minecraft.util.EnumFacing;
-import net.minecraft.util.EnumParticleTypes;
-import net.minecraft.util.IChatComponent;
-import net.minecraft.util.MathHelper;
-import net.minecraft.util.StringUtils;
+import net.minecraft.tileentity.*;
+import net.minecraft.util.*;
 import net.minecraft.village.MerchantRecipeList;
 import net.minecraft.world.Explosion;
 import net.minecraft.world.WorldProviderSurface;
 import net.minecraft.world.WorldSettings;
 import net.minecraft.world.chunk.Chunk;
 import net.minecraft.world.storage.MapData;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 
+import tk.wurst_client.gui.main.GuiWurstMainMenu;
+
+import com.google.common.collect.Maps;
+import com.google.common.util.concurrent.FutureCallback;
+import com.google.common.util.concurrent.Futures;
+import com.mojang.authlib.GameProfile;
+
 public class NetHandlerPlayClient implements INetHandlerPlayClient
 {
     private static final Logger logger = LogManager.getLogger();
@@ -286,11 +174,11 @@ public class NetHandlerPlayClient implements INetHandlerPlayClient
         this.clientWorldController = new WorldClient(this, new WorldSettings(0L, packetIn.func_149198_e(), false, packetIn.func_149195_d(), packetIn.func_149196_i()), packetIn.func_149194_f(), packetIn.func_149192_g(), this.gameController.mcProfiler);
         this.gameController.gameSettings.difficulty = packetIn.func_149192_g();
         this.gameController.loadWorld(this.clientWorldController);
-        this.gameController.thePlayer.dimension = packetIn.func_149194_f();
+        this.gameController.player.dimension = packetIn.func_149194_f();
         this.gameController.displayGuiScreen(new GuiDownloadTerrain(this));
-        this.gameController.thePlayer.setEntityId(packetIn.func_149197_c());
+        this.gameController.player.setEntityId(packetIn.func_149197_c());
         this.currentServerMaxPlayers = packetIn.func_149193_h();
-        this.gameController.thePlayer.func_175150_k(packetIn.func_179744_h());
+        this.gameController.player.func_175150_k(packetIn.func_179744_h());
         this.gameController.playerController.setGameType(packetIn.func_149198_e());
         this.gameController.gameSettings.sendSettingsToServer();
         this.netManager.sendPacket(new C17PacketCustomPayload("MC|Brand", (new PacketBuffer(Unpooled.buffer())).writeString(ClientBrandRetriever.getClientModName())));
@@ -540,7 +428,7 @@ public class NetHandlerPlayClient implements INetHandlerPlayClient
         double var6 = (double)packetIn.func_148946_h() / 32.0D;
         float var8 = (float)(packetIn.func_148941_i() * 360) / 256.0F;
         float var9 = (float)(packetIn.func_148945_j() * 360) / 256.0F;
-        EntityOtherPlayerMP var10 = new EntityOtherPlayerMP(this.gameController.theWorld, this.func_175102_a(packetIn.func_179819_c()).func_178845_a());
+        EntityOtherPlayerMP var10 = new EntityOtherPlayerMP(this.gameController.world, this.func_175102_a(packetIn.func_179819_c()).getGameProfile());
         var10.prevPosX = var10.lastTickPosX = (double)(var10.serverPosX = packetIn.func_148942_f());
         var10.prevPosY = var10.lastTickPosY = (double)(var10.serverPosY = packetIn.func_148949_g());
         var10.prevPosZ = var10.lastTickPosZ = (double)(var10.serverPosZ = packetIn.func_148946_h());
@@ -606,7 +494,7 @@ public class NetHandlerPlayClient implements INetHandlerPlayClient
 
         if (packetIn.func_149385_c() >= 0 && packetIn.func_149385_c() < InventoryPlayer.getHotbarSize())
         {
-            this.gameController.thePlayer.inventory.currentItem = packetIn.func_149385_c();
+            this.gameController.player.inventory.currentItem = packetIn.func_149385_c();
         }
     }
 
@@ -674,7 +562,7 @@ public class NetHandlerPlayClient implements INetHandlerPlayClient
     public void handlePlayerPosLook(S08PacketPlayerPosLook packetIn)
     {
         PacketThreadUtil.func_180031_a(packetIn, this, this.gameController);
-        EntityPlayerSP var2 = this.gameController.thePlayer;
+        EntityPlayerSP var2 = this.gameController.player;
         double var3 = packetIn.func_148932_c();
         double var5 = packetIn.func_148928_d();
         double var7 = packetIn.func_148933_e();
@@ -723,9 +611,9 @@ public class NetHandlerPlayClient implements INetHandlerPlayClient
 
         if (!this.doneLoadingTerrain)
         {
-            this.gameController.thePlayer.prevPosX = this.gameController.thePlayer.posX;
-            this.gameController.thePlayer.prevPosY = this.gameController.thePlayer.posY;
-            this.gameController.thePlayer.prevPosZ = this.gameController.thePlayer.posZ;
+            this.gameController.player.prevPosX = this.gameController.player.posX;
+            this.gameController.player.prevPosY = this.gameController.player.posY;
+            this.gameController.player.prevPosZ = this.gameController.player.posZ;
             this.doneLoadingTerrain = true;
             this.gameController.displayGuiScreen((GuiScreen)null);
         }
@@ -815,11 +703,11 @@ public class NetHandlerPlayClient implements INetHandlerPlayClient
         }
         else
         {
-            this.gameController.displayGuiScreen(new GuiDisconnected(new GuiMultiplayer(new GuiMainMenu()), "disconnect.lost", reason));
+            this.gameController.displayGuiScreen(new GuiDisconnected(new GuiMultiplayer(new GuiWurstMainMenu()), "disconnect.lost", reason));
         }
     }
 
-    public void addToSendQueue(Packet p_147297_1_)
+    public void sendPacket(Packet p_147297_1_)
     {
         this.netManager.sendPacket(p_147297_1_);
     }
@@ -832,7 +720,7 @@ public class NetHandlerPlayClient implements INetHandlerPlayClient
 
         if (var3 == null)
         {
-            var3 = this.gameController.thePlayer;
+            var3 = this.gameController.player;
         }
 
         if (var2 != null)
@@ -926,7 +814,7 @@ public class NetHandlerPlayClient implements INetHandlerPlayClient
         double var6 = (double)packetIn.func_149029_h() / 32.0D;
         float var8 = (float)(packetIn.func_149028_l() * 360) / 256.0F;
         float var9 = (float)(packetIn.func_149030_m() * 360) / 256.0F;
-        EntityLivingBase var10 = (EntityLivingBase)EntityList.createEntityByID(packetIn.func_149025_e(), this.gameController.theWorld);
+        EntityLivingBase var10 = (EntityLivingBase)EntityList.createEntityByID(packetIn.func_149025_e(), this.gameController.world);
         var10.serverPosX = packetIn.func_149023_f();
         var10.serverPosY = packetIn.func_149034_g();
         var10.serverPosZ = packetIn.func_149029_h();
@@ -960,15 +848,15 @@ public class NetHandlerPlayClient implements INetHandlerPlayClient
     public void handleTimeUpdate(S03PacketTimeUpdate packetIn)
     {
         PacketThreadUtil.func_180031_a(packetIn, this, this.gameController);
-        this.gameController.theWorld.func_82738_a(packetIn.func_149366_c());
-        this.gameController.theWorld.setWorldTime(packetIn.func_149365_d());
+        this.gameController.world.func_82738_a(packetIn.func_149366_c());
+        this.gameController.world.setWorldTime(packetIn.func_149365_d());
     }
 
     public void handleSpawnPosition(S05PacketSpawnPosition packetIn)
     {
         PacketThreadUtil.func_180031_a(packetIn, this, this.gameController);
-        this.gameController.thePlayer.func_180473_a(packetIn.func_179800_a(), true);
-        this.gameController.theWorld.getWorldInfo().setSpawn(packetIn.func_179800_a());
+        this.gameController.player.func_180473_a(packetIn.func_179800_a(), true);
+        this.gameController.world.getWorldInfo().setSpawn(packetIn.func_179800_a());
     }
 
     public void handleEntityAttach(S1BPacketEntityAttach packetIn)
@@ -981,9 +869,9 @@ public class NetHandlerPlayClient implements INetHandlerPlayClient
         {
             boolean var4 = false;
 
-            if (packetIn.func_149403_d() == this.gameController.thePlayer.getEntityId())
+            if (packetIn.func_149403_d() == this.gameController.player.getEntityId())
             {
-                var2 = this.gameController.thePlayer;
+                var2 = this.gameController.player;
 
                 if (var3 instanceof EntityBoat)
                 {
@@ -1050,29 +938,29 @@ public class NetHandlerPlayClient implements INetHandlerPlayClient
     public void handleUpdateHealth(S06PacketUpdateHealth packetIn)
     {
         PacketThreadUtil.func_180031_a(packetIn, this, this.gameController);
-        this.gameController.thePlayer.setPlayerSPHealth(packetIn.getHealth());
-        this.gameController.thePlayer.getFoodStats().setFoodLevel(packetIn.getFoodLevel());
-        this.gameController.thePlayer.getFoodStats().setFoodSaturationLevel(packetIn.getSaturationLevel());
+        this.gameController.player.setPlayerSPHealth(packetIn.getHealth());
+        this.gameController.player.getFoodStats().setFoodLevel(packetIn.getFoodLevel());
+        this.gameController.player.getFoodStats().setFoodSaturationLevel(packetIn.getSaturationLevel());
     }
 
     public void handleSetExperience(S1FPacketSetExperience packetIn)
     {
         PacketThreadUtil.func_180031_a(packetIn, this, this.gameController);
-        this.gameController.thePlayer.setXPStats(packetIn.func_149397_c(), packetIn.func_149396_d(), packetIn.func_149395_e());
+        this.gameController.player.setXPStats(packetIn.func_149397_c(), packetIn.func_149396_d(), packetIn.func_149395_e());
     }
 
     public void handleRespawn(S07PacketRespawn packetIn)
     {
         PacketThreadUtil.func_180031_a(packetIn, this, this.gameController);
 
-        if (packetIn.func_149082_c() != this.gameController.thePlayer.dimension)
+        if (packetIn.func_149082_c() != this.gameController.player.dimension)
         {
             this.doneLoadingTerrain = false;
             Scoreboard var2 = this.clientWorldController.getScoreboard();
-            this.clientWorldController = new WorldClient(this, new WorldSettings(0L, packetIn.func_149083_e(), false, this.gameController.theWorld.getWorldInfo().isHardcoreModeEnabled(), packetIn.func_149080_f()), packetIn.func_149082_c(), packetIn.func_149081_d(), this.gameController.mcProfiler);
+            this.clientWorldController = new WorldClient(this, new WorldSettings(0L, packetIn.func_149083_e(), false, this.gameController.world.getWorldInfo().isHardcoreModeEnabled(), packetIn.func_149080_f()), packetIn.func_149082_c(), packetIn.func_149081_d(), this.gameController.mcProfiler);
             this.clientWorldController.setWorldScoreboard(var2);
             this.gameController.loadWorld(this.clientWorldController);
-            this.gameController.thePlayer.dimension = packetIn.func_149082_c();
+            this.gameController.player.dimension = packetIn.func_149082_c();
             this.gameController.displayGuiScreen(new GuiDownloadTerrain(this));
         }
 
@@ -1086,11 +974,11 @@ public class NetHandlerPlayClient implements INetHandlerPlayClient
     public void handleExplosion(S27PacketExplosion packetIn)
     {
         PacketThreadUtil.func_180031_a(packetIn, this, this.gameController);
-        Explosion var2 = new Explosion(this.gameController.theWorld, (Entity)null, packetIn.func_149148_f(), packetIn.func_149143_g(), packetIn.func_149145_h(), packetIn.func_149146_i(), packetIn.func_149150_j());
+        Explosion var2 = new Explosion(this.gameController.world, (Entity)null, packetIn.func_149148_f(), packetIn.func_149143_g(), packetIn.func_149145_h(), packetIn.func_149146_i(), packetIn.func_149150_j());
         var2.doExplosionB(true);
-        this.gameController.thePlayer.motionX += (double)packetIn.func_149149_c();
-        this.gameController.thePlayer.motionY += (double)packetIn.func_149144_d();
-        this.gameController.thePlayer.motionZ += (double)packetIn.func_149147_e();
+        this.gameController.player.motionX += (double)packetIn.func_149149_c();
+        this.gameController.player.motionY += (double)packetIn.func_149144_d();
+        this.gameController.player.motionZ += (double)packetIn.func_149147_e();
     }
 
     /**
@@ -1100,7 +988,7 @@ public class NetHandlerPlayClient implements INetHandlerPlayClient
     public void handleOpenWindow(S2DPacketOpenWindow packetIn)
     {
         PacketThreadUtil.func_180031_a(packetIn, this, this.gameController);
-        EntityPlayerSP var2 = this.gameController.thePlayer;
+        EntityPlayerSP var2 = this.gameController.player;
 
         if ("minecraft:container".equals(packetIn.func_148902_e()))
         {
@@ -1141,7 +1029,7 @@ public class NetHandlerPlayClient implements INetHandlerPlayClient
     public void handleSetSlot(S2FPacketSetSlot packetIn)
     {
         PacketThreadUtil.func_180031_a(packetIn, this, this.gameController);
-        EntityPlayerSP var2 = this.gameController.thePlayer;
+        EntityPlayerSP var2 = this.gameController.player;
 
         if (packetIn.func_149175_c() == -1)
         {
@@ -1183,7 +1071,7 @@ public class NetHandlerPlayClient implements INetHandlerPlayClient
     {
         PacketThreadUtil.func_180031_a(packetIn, this, this.gameController);
         Container var2 = null;
-        EntityPlayerSP var3 = this.gameController.thePlayer;
+        EntityPlayerSP var3 = this.gameController.player;
 
         if (packetIn.func_148889_c() == 0)
         {
@@ -1196,7 +1084,7 @@ public class NetHandlerPlayClient implements INetHandlerPlayClient
 
         if (var2 != null && !packetIn.func_148888_e())
         {
-            this.addToSendQueue(new C0FPacketConfirmTransaction(packetIn.func_148889_c(), packetIn.func_148890_d(), true));
+            this.sendPacket(new C0FPacketConfirmTransaction(packetIn.func_148889_c(), packetIn.func_148890_d(), true));
         }
     }
 
@@ -1206,7 +1094,7 @@ public class NetHandlerPlayClient implements INetHandlerPlayClient
     public void handleWindowItems(S30PacketWindowItems packetIn)
     {
         PacketThreadUtil.func_180031_a(packetIn, this, this.gameController);
-        EntityPlayerSP var2 = this.gameController.thePlayer;
+        EntityPlayerSP var2 = this.gameController.player;
 
         if (packetIn.func_148911_c() == 0)
         {
@@ -1233,7 +1121,7 @@ public class NetHandlerPlayClient implements INetHandlerPlayClient
             ((TileEntity)var2).setPos(packetIn.func_179777_a());
         }
 
-        this.gameController.thePlayer.func_175141_a((TileEntitySign)var2);
+        this.gameController.player.func_175141_a((TileEntitySign)var2);
     }
 
     /**
@@ -1244,9 +1132,9 @@ public class NetHandlerPlayClient implements INetHandlerPlayClient
         PacketThreadUtil.func_180031_a(packetIn, this, this.gameController);
         boolean var2 = false;
 
-        if (this.gameController.theWorld.isBlockLoaded(packetIn.func_179704_a()))
+        if (this.gameController.world.isBlockLoaded(packetIn.func_179704_a()))
         {
-            TileEntity var3 = this.gameController.theWorld.getTileEntity(packetIn.func_179704_a());
+            TileEntity var3 = this.gameController.world.getTileEntity(packetIn.func_179704_a());
 
             if (var3 instanceof TileEntitySign)
             {
@@ -1262,9 +1150,9 @@ public class NetHandlerPlayClient implements INetHandlerPlayClient
             }
         }
 
-        if (!var2 && this.gameController.thePlayer != null)
+        if (!var2 && this.gameController.player != null)
         {
-            this.gameController.thePlayer.addChatMessage(new ChatComponentText("Unable to locate sign at " + packetIn.func_179704_a().getX() + ", " + packetIn.func_179704_a().getY() + ", " + packetIn.func_179704_a().getZ()));
+            this.gameController.player.addChatMessage(new ChatComponentText("Unable to locate sign at " + packetIn.func_179704_a().getX() + ", " + packetIn.func_179704_a().getY() + ", " + packetIn.func_179704_a().getZ()));
         }
     }
 
@@ -1276,9 +1164,9 @@ public class NetHandlerPlayClient implements INetHandlerPlayClient
     {
         PacketThreadUtil.func_180031_a(packetIn, this, this.gameController);
 
-        if (this.gameController.theWorld.isBlockLoaded(packetIn.func_179823_a()))
+        if (this.gameController.world.isBlockLoaded(packetIn.func_179823_a()))
         {
-            TileEntity var2 = this.gameController.theWorld.getTileEntity(packetIn.func_179823_a());
+            TileEntity var2 = this.gameController.world.getTileEntity(packetIn.func_179823_a());
             int var3 = packetIn.getTileEntityType();
 
             if (var3 == 1 && var2 instanceof TileEntityMobSpawner || var3 == 2 && var2 instanceof TileEntityCommandBlock || var3 == 3 && var2 instanceof TileEntityBeacon || var3 == 4 && var2 instanceof TileEntitySkull || var3 == 5 && var2 instanceof TileEntityFlowerPot || var3 == 6 && var2 instanceof TileEntityBanner)
@@ -1294,7 +1182,7 @@ public class NetHandlerPlayClient implements INetHandlerPlayClient
     public void handleWindowProperty(S31PacketWindowProperty packetIn)
     {
         PacketThreadUtil.func_180031_a(packetIn, this, this.gameController);
-        EntityPlayerSP var2 = this.gameController.thePlayer;
+        EntityPlayerSP var2 = this.gameController.player;
 
         if (var2.openContainer != null && var2.openContainer.windowId == packetIn.func_149182_c())
         {
@@ -1319,7 +1207,7 @@ public class NetHandlerPlayClient implements INetHandlerPlayClient
     public void handleCloseWindow(S2EPacketCloseWindow packetIn)
     {
         PacketThreadUtil.func_180031_a(packetIn, this, this.gameController);
-        this.gameController.thePlayer.func_175159_q();
+        this.gameController.player.func_175159_q();
     }
 
     /**
@@ -1330,7 +1218,7 @@ public class NetHandlerPlayClient implements INetHandlerPlayClient
     public void handleBlockAction(S24PacketBlockAction packetIn)
     {
         PacketThreadUtil.func_180031_a(packetIn, this, this.gameController);
-        this.gameController.theWorld.addBlockEvent(packetIn.func_179825_a(), packetIn.getBlockType(), packetIn.getData1(), packetIn.getData2());
+        this.gameController.world.addBlockEvent(packetIn.func_179825_a(), packetIn.getBlockType(), packetIn.getData1(), packetIn.getData2());
     }
 
     /**
@@ -1339,7 +1227,7 @@ public class NetHandlerPlayClient implements INetHandlerPlayClient
     public void handleBlockBreakAnim(S25PacketBlockBreakAnim packetIn)
     {
         PacketThreadUtil.func_180031_a(packetIn, this, this.gameController);
-        this.gameController.theWorld.sendBlockBreakProgress(packetIn.func_148845_c(), packetIn.func_179821_b(), packetIn.func_148846_g());
+        this.gameController.world.sendBlockBreakProgress(packetIn.func_148845_c(), packetIn.func_179821_b(), packetIn.func_148846_g());
     }
 
     public void handleMapChunkBulk(S26PacketMapChunkBulk packetIn)
@@ -1366,7 +1254,7 @@ public class NetHandlerPlayClient implements INetHandlerPlayClient
     public void handleChangeGameState(S2BPacketChangeGameState packetIn)
     {
         PacketThreadUtil.func_180031_a(packetIn, this, this.gameController);
-        EntityPlayerSP var2 = this.gameController.thePlayer;
+        EntityPlayerSP var2 = this.gameController.player;
         int var3 = packetIn.func_149138_c();
         float var4 = packetIn.func_149137_d();
         int var5 = MathHelper.floor_float(var4 + 0.5F);
@@ -1441,7 +1329,7 @@ public class NetHandlerPlayClient implements INetHandlerPlayClient
     public void handleMaps(S34PacketMaps packetIn)
     {
         PacketThreadUtil.func_180031_a(packetIn, this, this.gameController);
-        MapData var2 = ItemMap.loadMapData(packetIn.getMapId(), this.gameController.theWorld);
+        MapData var2 = ItemMap.loadMapData(packetIn.getMapId(), this.gameController.world);
         packetIn.func_179734_a(var2);
         this.gameController.entityRenderer.getMapItemRenderer().func_148246_a(var2);
     }
@@ -1452,11 +1340,11 @@ public class NetHandlerPlayClient implements INetHandlerPlayClient
 
         if (packetIn.isSoundServerwide())
         {
-            this.gameController.theWorld.func_175669_a(packetIn.getSoundType(), packetIn.func_179746_d(), packetIn.getSoundData());
+            this.gameController.world.func_175669_a(packetIn.getSoundType(), packetIn.func_179746_d(), packetIn.getSoundData());
         }
         else
         {
-            this.gameController.theWorld.playAuxSFX(packetIn.getSoundType(), packetIn.func_179746_d(), packetIn.getSoundData());
+            this.gameController.world.playAuxSFX(packetIn.getSoundType(), packetIn.func_179746_d(), packetIn.getSoundData());
         }
     }
 
@@ -1470,7 +1358,7 @@ public class NetHandlerPlayClient implements INetHandlerPlayClient
         StatBase var5;
         int var6;
 
-        for (Iterator var3 = packetIn.func_148974_c().entrySet().iterator(); var3.hasNext(); this.gameController.thePlayer.getStatFileWriter().func_150873_a(this.gameController.thePlayer, var5, var6))
+        for (Iterator var3 = packetIn.func_148974_c().entrySet().iterator(); var3.hasNext(); this.gameController.player.getStatFileWriter().func_150873_a(this.gameController.player, var5, var6))
         {
             Entry var4 = (Entry)var3.next();
             var5 = (StatBase)var4.getKey();
@@ -1478,7 +1366,7 @@ public class NetHandlerPlayClient implements INetHandlerPlayClient
 
             if (var5.isAchievement() && var6 > 0)
             {
-                if (this.field_147308_k && this.gameController.thePlayer.getStatFileWriter().writeStat(var5) == 0)
+                if (this.field_147308_k && this.gameController.player.getStatFileWriter().writeStat(var5) == 0)
                 {
                     Achievement var7 = (Achievement)var5;
                     this.gameController.guiAchievement.displayAchievement(var7);
@@ -1530,7 +1418,7 @@ public class NetHandlerPlayClient implements INetHandlerPlayClient
         if (p_175098_1_.field_179776_a == S42PacketCombatEvent.Event.END_COMBAT)
         {
             long var4 = (long)(1000 * p_175098_1_.field_179772_d / 20);
-            MetadataCombat var6 = new MetadataCombat(this.gameController.thePlayer, var3);
+            MetadataCombat var6 = new MetadataCombat(this.gameController.player, var3);
             this.gameController.getTwitchStream().func_176026_a(var6, 0L - var4, 0L);
         }
         else if (p_175098_1_.field_179776_a == S42PacketCombatEvent.Event.ENTITY_DIED)
@@ -1549,8 +1437,8 @@ public class NetHandlerPlayClient implements INetHandlerPlayClient
     public void func_175101_a(S41PacketServerDifficulty p_175101_1_)
     {
         PacketThreadUtil.func_180031_a(p_175101_1_, this, this.gameController);
-        this.gameController.theWorld.getWorldInfo().setDifficulty(p_175101_1_.func_179831_b());
-        this.gameController.theWorld.getWorldInfo().setDifficultyLocked(p_175101_1_.func_179830_a());
+        this.gameController.world.getWorldInfo().setDifficulty(p_175101_1_.func_179831_b());
+        this.gameController.world.getWorldInfo().setDifficultyLocked(p_175101_1_.func_179830_a());
     }
 
     public void func_175094_a(S43PacketCamera p_175094_1_)
@@ -1642,7 +1530,7 @@ public class NetHandlerPlayClient implements INetHandlerPlayClient
                 if (packetIn.func_179768_b() == S38PacketPlayerListItem.Action.ADD_PLAYER)
                 {
                     var4 = new NetworkPlayerInfo(var3);
-                    this.playerInfoMap.put(var4.func_178845_a().getId(), var4);
+                    this.playerInfoMap.put(var4.getGameProfile().getId(), var4);
                 }
 
                 if (var4 != null)
@@ -1650,16 +1538,16 @@ public class NetHandlerPlayClient implements INetHandlerPlayClient
                     switch (NetHandlerPlayClient.SwitchAction.field_178884_b[packetIn.func_179768_b().ordinal()])
                     {
                         case 1:
-                            var4.func_178839_a(var3.func_179960_c());
-                            var4.func_178838_a(var3.func_179963_b());
+                            var4.setGameType(var3.func_179960_c());
+                            var4.setResponseTime(var3.func_179963_b());
                             break;
 
                         case 2:
-                            var4.func_178839_a(var3.func_179960_c());
+                            var4.setGameType(var3.func_179960_c());
                             break;
 
                         case 3:
-                            var4.func_178838_a(var3.func_179963_b());
+                            var4.setResponseTime(var3.func_179963_b());
                             break;
 
                         case 4:
@@ -1672,13 +1560,13 @@ public class NetHandlerPlayClient implements INetHandlerPlayClient
 
     public void handleKeepAlive(S00PacketKeepAlive packetIn)
     {
-        this.addToSendQueue(new C00PacketKeepAlive(packetIn.func_149134_c()));
+        this.sendPacket(new C00PacketKeepAlive(packetIn.func_149134_c()));
     }
 
     public void handlePlayerAbilities(S39PacketPlayerAbilities packetIn)
     {
         PacketThreadUtil.func_180031_a(packetIn, this, this.gameController);
-        EntityPlayerSP var2 = this.gameController.thePlayer;
+        EntityPlayerSP var2 = this.gameController.player;
         var2.capabilities.isFlying = packetIn.isFlying();
         var2.capabilities.isCreativeMode = packetIn.isCreativeMode();
         var2.capabilities.disableDamage = packetIn.isInvulnerable();
@@ -1705,7 +1593,7 @@ public class NetHandlerPlayClient implements INetHandlerPlayClient
     public void handleSoundEffect(S29PacketSoundEffect packetIn)
     {
         PacketThreadUtil.func_180031_a(packetIn, this, this.gameController);
-        this.gameController.theWorld.playSound(packetIn.func_149207_d(), packetIn.func_149211_e(), packetIn.func_149210_f(), packetIn.func_149212_c(), packetIn.func_149208_g(), packetIn.func_149209_h(), false);
+        this.gameController.world.playSound(packetIn.func_149207_d(), packetIn.func_149211_e(), packetIn.func_149210_f(), packetIn.func_149212_c(), packetIn.func_149208_g(), packetIn.func_149209_h(), false);
     }
 
     public void func_175095_a(S48PacketResourcePackSend p_175095_1_)
@@ -1847,7 +1735,7 @@ public class NetHandlerPlayClient implements INetHandlerPlayClient
                 int var3 = var2.readInt();
                 GuiScreen var4 = this.gameController.currentScreen;
 
-                if (var4 != null && var4 instanceof GuiMerchant && var3 == this.gameController.thePlayer.openContainer.windowId)
+                if (var4 != null && var4 instanceof GuiMerchant && var3 == this.gameController.player.openContainer.windowId)
                 {
                     IMerchant var5 = ((GuiMerchant)var4).getMerchant();
                     MerchantRecipeList var6 = MerchantRecipeList.func_151390_b(var2);
@@ -1865,15 +1753,15 @@ public class NetHandlerPlayClient implements INetHandlerPlayClient
         }
         else if ("MC|Brand".equals(packetIn.getChannelName()))
         {
-            this.gameController.thePlayer.func_175158_f(packetIn.getBufferData().readStringFromBuffer(32767));
+            this.gameController.player.func_175158_f(packetIn.getBufferData().readStringFromBuffer(32767));
         }
         else if ("MC|BOpen".equals(packetIn.getChannelName()))
         {
-            ItemStack var12 = this.gameController.thePlayer.getCurrentEquippedItem();
+            ItemStack var12 = this.gameController.player.getCurrentEquippedItem();
 
             if (var12 != null && var12.getItem() == Items.written_book)
             {
-                this.gameController.displayGuiScreen(new GuiScreenBook(this.gameController.thePlayer, var12, false));
+                this.gameController.displayGuiScreen(new GuiScreenBook(this.gameController.player, var12, false));
             }
         }
     }
@@ -2121,7 +2009,7 @@ public class NetHandlerPlayClient implements INetHandlerPlayClient
         return this.netManager;
     }
 
-    public Collection func_175106_d()
+    public Collection getPlayerInfo()
     {
         return this.playerInfoMap.values();
     }
@@ -2145,7 +2033,7 @@ public class NetHandlerPlayClient implements INetHandlerPlayClient
 
             var3 = (NetworkPlayerInfo)var2.next();
         }
-        while (!var3.func_178845_a().getName().equals(p_175104_1_));
+        while (!var3.getGameProfile().getName().equals(p_175104_1_));
 
         return var3;
     }
diff --git a/net/minecraft/client/network/NetworkPlayerInfo.java b/net/minecraft/client/network/NetworkPlayerInfo.java
index 76043f3..876adea 100644
--- a/net/minecraft/client/network/NetworkPlayerInfo.java
+++ b/net/minecraft/client/network/NetworkPlayerInfo.java
@@ -4,6 +4,7 @@ import com.google.common.base.Objects;
 import com.mojang.authlib.GameProfile;
 import com.mojang.authlib.minecraft.MinecraftProfileTexture;
 import com.mojang.authlib.minecraft.MinecraftProfileTexture.Type;
+
 import net.minecraft.client.Minecraft;
 import net.minecraft.client.resources.DefaultPlayerSkin;
 import net.minecraft.client.resources.SkinManager;
@@ -15,7 +16,7 @@ import net.minecraft.world.WorldSettings;
 
 public class NetworkPlayerInfo
 {
-    private final GameProfile field_178867_a;
+    private final GameProfile gameProfile;
     private WorldSettings.GameType gameType;
 
     /** Player response time to server in milliseconds */
@@ -23,8 +24,8 @@ public class NetworkPlayerInfo
     private boolean field_178864_d = false;
     private ResourceLocation field_178865_e;
     private ResourceLocation field_178862_f;
-    private String field_178863_g;
-    private IChatComponent field_178872_h;
+    private String name;
+    private IChatComponent playerName;
     private int field_178873_i = 0;
     private int field_178870_j = 0;
     private long field_178871_k = 0L;
@@ -34,19 +35,19 @@ public class NetworkPlayerInfo
 
     public NetworkPlayerInfo(GameProfile p_i46294_1_)
     {
-        this.field_178867_a = p_i46294_1_;
+        this.gameProfile = p_i46294_1_;
     }
 
     public NetworkPlayerInfo(S38PacketPlayerListItem.AddPlayerData p_i46295_1_)
     {
-        this.field_178867_a = p_i46295_1_.func_179962_a();
+        this.gameProfile = p_i46295_1_.func_179962_a();
         this.gameType = p_i46295_1_.func_179960_c();
         this.responseTime = p_i46295_1_.func_179963_b();
     }
 
-    public GameProfile func_178845_a()
+    public GameProfile getGameProfile()
     {
-        return this.field_178867_a;
+        return this.gameProfile;
     }
 
     public WorldSettings.GameType getGameType()
@@ -59,14 +60,14 @@ public class NetworkPlayerInfo
         return this.responseTime;
     }
 
-    protected void func_178839_a(WorldSettings.GameType p_178839_1_)
+    protected void setGameType(WorldSettings.GameType gameType)
     {
-        this.gameType = p_178839_1_;
+        this.gameType = gameType;
     }
 
-    protected void func_178838_a(int p_178838_1_)
+    protected void setResponseTime(int responseTime)
     {
-        this.responseTime = p_178838_1_;
+        this.responseTime = responseTime;
     }
 
     public boolean func_178856_e()
@@ -74,9 +75,9 @@ public class NetworkPlayerInfo
         return this.field_178865_e != null;
     }
 
-    public String func_178851_f()
+    public String getModelName()
     {
-        return this.field_178863_g == null ? DefaultPlayerSkin.func_177332_b(this.field_178867_a.getId()) : this.field_178863_g;
+        return this.name == null ? DefaultPlayerSkin.getModelNameFromUUID(this.gameProfile.getId()) : this.name;
     }
 
     public ResourceLocation func_178837_g()
@@ -86,7 +87,7 @@ public class NetworkPlayerInfo
             this.func_178841_j();
         }
 
-        return (ResourceLocation)Objects.firstNonNull(this.field_178865_e, DefaultPlayerSkin.func_177334_a(this.field_178867_a.getId()));
+        return (ResourceLocation)Objects.firstNonNull(this.field_178865_e, DefaultPlayerSkin.getLocationFromUUID(this.gameProfile.getId()));
     }
 
     public ResourceLocation func_178861_h()
@@ -99,9 +100,9 @@ public class NetworkPlayerInfo
         return this.field_178862_f;
     }
 
-    public ScorePlayerTeam func_178850_i()
+    public ScorePlayerTeam getScoreTeam()
     {
-        return Minecraft.getMinecraft().theWorld.getScoreboard().getPlayersTeam(this.func_178845_a().getName());
+        return Minecraft.getMinecraft().world.getScoreboard().getPlayersTeam(this.getGameProfile().getName());
     }
 
     protected void func_178841_j()
@@ -111,7 +112,7 @@ public class NetworkPlayerInfo
             if (!this.field_178864_d)
             {
                 this.field_178864_d = true;
-                Minecraft.getMinecraft().getSkinManager().func_152790_a(this.field_178867_a, new SkinManager.SkinAvailableCallback()
+                Minecraft.getMinecraft().getSkinManager().func_152790_a(this.gameProfile, new SkinManager.SkinAvailableCallback()
                 {
                     private static final String __OBFID = "CL_00002619";
                     public void func_180521_a(Type p_180521_1_, ResourceLocation p_180521_2_, MinecraftProfileTexture p_180521_3_)
@@ -120,11 +121,11 @@ public class NetworkPlayerInfo
                         {
                             case 1:
                                 NetworkPlayerInfo.this.field_178865_e = p_180521_2_;
-                                NetworkPlayerInfo.this.field_178863_g = p_180521_3_.getMetadata("model");
+                                NetworkPlayerInfo.this.name = p_180521_3_.getMetadata("model");
 
-                                if (NetworkPlayerInfo.this.field_178863_g == null)
+                                if (NetworkPlayerInfo.this.name == null)
                                 {
-                                    NetworkPlayerInfo.this.field_178863_g = "default";
+                                    NetworkPlayerInfo.this.name = "default";
                                 }
 
                                 break;
@@ -140,12 +141,18 @@ public class NetworkPlayerInfo
 
     public void func_178859_a(IChatComponent p_178859_1_)
     {
-        this.field_178872_h = p_178859_1_;
+        this.playerName = p_178859_1_;
+    }
+
+    public IChatComponent getPlayerName()
+    {
+        return this.playerName;
     }
 
-    public IChatComponent func_178854_k()
+    //TODO: Client
+    public String getPlayerNameForReal()
     {
-        return this.field_178872_h;
+        return this.getPlayerName() != null ? this.getPlayerName().getFormattedText() : ScorePlayerTeam.formatPlayerName(this.getScoreTeam(), this.getGameProfile().getName());
     }
 
     public int func_178835_l()
diff --git a/net/minecraft/client/network/OldServerPinger.java b/net/minecraft/client/network/OldServerPinger.java
index e63f122..a7f7608 100644
--- a/net/minecraft/client/network/OldServerPinger.java
+++ b/net/minecraft/client/network/OldServerPinger.java
@@ -5,6 +5,7 @@ import com.google.common.base.Splitter;
 import com.google.common.collect.Iterables;
 import com.google.common.collect.Lists;
 import com.mojang.authlib.GameProfile;
+
 import io.netty.bootstrap.Bootstrap;
 import io.netty.buffer.ByteBuf;
 import io.netty.buffer.Unpooled;
@@ -18,11 +19,13 @@ import io.netty.channel.ChannelOption;
 import io.netty.channel.EventLoopGroup;
 import io.netty.channel.SimpleChannelInboundHandler;
 import io.netty.channel.socket.nio.NioSocketChannel;
+
 import java.net.InetAddress;
 import java.net.UnknownHostException;
 import java.util.Collections;
 import java.util.Iterator;
 import java.util.List;
+
 import net.minecraft.client.Minecraft;
 import net.minecraft.client.multiplayer.ServerAddress;
 import net.minecraft.client.multiplayer.ServerData;
@@ -39,6 +42,7 @@ import net.minecraft.util.ChatComponentText;
 import net.minecraft.util.EnumChatFormatting;
 import net.minecraft.util.IChatComponent;
 import net.minecraft.util.MathHelper;
+
 import org.apache.commons.lang3.ArrayUtils;
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
diff --git a/net/minecraft/client/particle/Barrier.java b/net/minecraft/client/particle/Barrier.java
index 20b65bb..ca743ea 100644
--- a/net/minecraft/client/particle/Barrier.java
+++ b/net/minecraft/client/particle/Barrier.java
@@ -35,7 +35,7 @@ public class Barrier extends EntityFX
         float var13 = (float)(this.prevPosX + (this.posX - this.prevPosX) * (double)p_180434_3_ - interpPosX);
         float var14 = (float)(this.prevPosY + (this.posY - this.prevPosY) * (double)p_180434_3_ - interpPosY);
         float var15 = (float)(this.prevPosZ + (this.posZ - this.prevPosZ) * (double)p_180434_3_ - interpPosZ);
-        p_180434_1_.func_178986_b(this.particleRed, this.particleGreen, this.particleBlue);
+        p_180434_1_.setColorOpaque_F(this.particleRed, this.particleGreen, this.particleBlue);
         float var16 = 0.5F;
         p_180434_1_.addVertexWithUV((double)(var13 - p_180434_4_ * var16 - p_180434_7_ * var16), (double)(var14 - p_180434_5_ * var16), (double)(var15 - p_180434_6_ * var16 - p_180434_8_ * var16), (double)var10, (double)var12);
         p_180434_1_.addVertexWithUV((double)(var13 - p_180434_4_ * var16 + p_180434_7_ * var16), (double)(var14 + p_180434_5_ * var16), (double)(var15 - p_180434_6_ * var16 + p_180434_8_ * var16), (double)var10, (double)var11);
diff --git a/net/minecraft/client/particle/EffectRenderer.java b/net/minecraft/client/particle/EffectRenderer.java
index a523713..5f42136 100644
--- a/net/minecraft/client/particle/EffectRenderer.java
+++ b/net/minecraft/client/particle/EffectRenderer.java
@@ -2,12 +2,14 @@ package net.minecraft.client.particle;
 
 import com.google.common.collect.Lists;
 import com.google.common.collect.Maps;
+
 import java.util.ArrayList;
 import java.util.Iterator;
 import java.util.List;
 import java.util.Map;
 import java.util.Random;
 import java.util.concurrent.Callable;
+
 import net.minecraft.block.Block;
 import net.minecraft.block.material.Material;
 import net.minecraft.block.state.IBlockState;
diff --git a/net/minecraft/client/particle/EntityBreakingFX.java b/net/minecraft/client/particle/EntityBreakingFX.java
index a5b95d5..039a5e6 100644
--- a/net/minecraft/client/particle/EntityBreakingFX.java
+++ b/net/minecraft/client/particle/EntityBreakingFX.java
@@ -61,7 +61,7 @@ public class EntityBreakingFX extends EntityFX
         float var14 = (float)(this.prevPosX + (this.posX - this.prevPosX) * (double)p_180434_3_ - interpPosX);
         float var15 = (float)(this.prevPosY + (this.posY - this.prevPosY) * (double)p_180434_3_ - interpPosY);
         float var16 = (float)(this.prevPosZ + (this.posZ - this.prevPosZ) * (double)p_180434_3_ - interpPosZ);
-        p_180434_1_.func_178986_b(this.particleRed, this.particleGreen, this.particleBlue);
+        p_180434_1_.setColorOpaque_F(this.particleRed, this.particleGreen, this.particleBlue);
         p_180434_1_.addVertexWithUV((double)(var14 - p_180434_4_ * var13 - p_180434_7_ * var13), (double)(var15 - p_180434_5_ * var13), (double)(var16 - p_180434_6_ * var13 - p_180434_8_ * var13), (double)var9, (double)var12);
         p_180434_1_.addVertexWithUV((double)(var14 - p_180434_4_ * var13 + p_180434_7_ * var13), (double)(var15 + p_180434_5_ * var13), (double)(var16 - p_180434_6_ * var13 + p_180434_8_ * var13), (double)var9, (double)var11);
         p_180434_1_.addVertexWithUV((double)(var14 + p_180434_4_ * var13 + p_180434_7_ * var13), (double)(var15 + p_180434_5_ * var13), (double)(var16 + p_180434_6_ * var13 + p_180434_8_ * var13), (double)var10, (double)var11);
diff --git a/net/minecraft/client/particle/EntityDiggingFX.java b/net/minecraft/client/particle/EntityDiggingFX.java
index 4c5c7a2..4595b6e 100644
--- a/net/minecraft/client/particle/EntityDiggingFX.java
+++ b/net/minecraft/client/particle/EntityDiggingFX.java
@@ -82,7 +82,7 @@ public class EntityDiggingFX extends EntityFX
         float var14 = (float)(this.prevPosX + (this.posX - this.prevPosX) * (double)p_180434_3_ - interpPosX);
         float var15 = (float)(this.prevPosY + (this.posY - this.prevPosY) * (double)p_180434_3_ - interpPosY);
         float var16 = (float)(this.prevPosZ + (this.posZ - this.prevPosZ) * (double)p_180434_3_ - interpPosZ);
-        p_180434_1_.func_178986_b(this.particleRed, this.particleGreen, this.particleBlue);
+        p_180434_1_.setColorOpaque_F(this.particleRed, this.particleGreen, this.particleBlue);
         p_180434_1_.addVertexWithUV((double)(var14 - p_180434_4_ * var13 - p_180434_7_ * var13), (double)(var15 - p_180434_5_ * var13), (double)(var16 - p_180434_6_ * var13 - p_180434_8_ * var13), (double)var9, (double)var12);
         p_180434_1_.addVertexWithUV((double)(var14 - p_180434_4_ * var13 + p_180434_7_ * var13), (double)(var15 + p_180434_5_ * var13), (double)(var16 - p_180434_6_ * var13 + p_180434_8_ * var13), (double)var9, (double)var11);
         p_180434_1_.addVertexWithUV((double)(var14 + p_180434_4_ * var13 + p_180434_7_ * var13), (double)(var15 + p_180434_5_ * var13), (double)(var16 + p_180434_6_ * var13 + p_180434_8_ * var13), (double)var10, (double)var11);
diff --git a/net/minecraft/client/particle/EntityFX.java b/net/minecraft/client/particle/EntityFX.java
index c531492..ea37f40 100644
--- a/net/minecraft/client/particle/EntityFX.java
+++ b/net/minecraft/client/particle/EntityFX.java
@@ -188,7 +188,7 @@ public class EntityFX extends Entity
         float var14 = (float)(this.prevPosX + (this.posX - this.prevPosX) * (double)p_180434_3_ - interpPosX);
         float var15 = (float)(this.prevPosY + (this.posY - this.prevPosY) * (double)p_180434_3_ - interpPosY);
         float var16 = (float)(this.prevPosZ + (this.posZ - this.prevPosZ) * (double)p_180434_3_ - interpPosZ);
-        p_180434_1_.func_178960_a(this.particleRed, this.particleGreen, this.particleBlue, this.particleAlpha);
+        p_180434_1_.setColorRGBA_F(this.particleRed, this.particleGreen, this.particleBlue, this.particleAlpha);
         p_180434_1_.addVertexWithUV((double)(var14 - p_180434_4_ * var13 - p_180434_7_ * var13), (double)(var15 - p_180434_5_ * var13), (double)(var16 - p_180434_6_ * var13 - p_180434_8_ * var13), (double)var10, (double)var12);
         p_180434_1_.addVertexWithUV((double)(var14 - p_180434_4_ * var13 + p_180434_7_ * var13), (double)(var15 + p_180434_5_ * var13), (double)(var16 - p_180434_6_ * var13 + p_180434_8_ * var13), (double)var10, (double)var11);
         p_180434_1_.addVertexWithUV((double)(var14 + p_180434_4_ * var13 + p_180434_7_ * var13), (double)(var15 + p_180434_5_ * var13), (double)(var16 + p_180434_6_ * var13 + p_180434_8_ * var13), (double)var9, (double)var11);
diff --git a/net/minecraft/client/particle/EntityFireworkOverlayFX.java b/net/minecraft/client/particle/EntityFireworkOverlayFX.java
index e3e3adf..591c8c0 100644
--- a/net/minecraft/client/particle/EntityFireworkOverlayFX.java
+++ b/net/minecraft/client/particle/EntityFireworkOverlayFX.java
@@ -26,7 +26,7 @@ public class EntityFireworkOverlayFX extends EntityFX
         float var14 = (float)(this.prevPosX + (this.posX - this.prevPosX) * (double)p_180434_3_ - interpPosX);
         float var15 = (float)(this.prevPosY + (this.posY - this.prevPosY) * (double)p_180434_3_ - interpPosY);
         float var16 = (float)(this.prevPosZ + (this.posZ - this.prevPosZ) * (double)p_180434_3_ - interpPosZ);
-        p_180434_1_.func_178960_a(this.particleRed, this.particleGreen, this.particleBlue, this.particleAlpha);
+        p_180434_1_.setColorRGBA_F(this.particleRed, this.particleGreen, this.particleBlue, this.particleAlpha);
         p_180434_1_.addVertexWithUV((double)(var14 - p_180434_4_ * var13 - p_180434_7_ * var13), (double)(var15 - p_180434_5_ * var13), (double)(var16 - p_180434_6_ * var13 - p_180434_8_ * var13), (double)var10, (double)var12);
         p_180434_1_.addVertexWithUV((double)(var14 - p_180434_4_ * var13 + p_180434_7_ * var13), (double)(var15 + p_180434_5_ * var13), (double)(var16 - p_180434_6_ * var13 + p_180434_8_ * var13), (double)var10, (double)var11);
         p_180434_1_.addVertexWithUV((double)(var14 + p_180434_4_ * var13 + p_180434_7_ * var13), (double)(var15 + p_180434_5_ * var13), (double)(var16 + p_180434_6_ * var13 + p_180434_8_ * var13), (double)var9, (double)var11);
diff --git a/net/minecraft/client/particle/EntityFootStepFX.java b/net/minecraft/client/particle/EntityFootStepFX.java
index 025fc84..56cd73c 100644
--- a/net/minecraft/client/particle/EntityFootStepFX.java
+++ b/net/minecraft/client/particle/EntityFootStepFX.java
@@ -48,7 +48,7 @@ public class EntityFootStepFX extends EntityFX
         GlStateManager.enableBlend();
         GlStateManager.blendFunc(770, 771);
         p_180434_1_.startDrawingQuads();
-        p_180434_1_.func_178960_a(var15, var15, var15, var10);
+        p_180434_1_.setColorRGBA_F(var15, var15, var15, var10);
         p_180434_1_.addVertexWithUV((double)(var12 - var11), (double)var13, (double)(var14 + var11), 0.0D, 1.0D);
         p_180434_1_.addVertexWithUV((double)(var12 + var11), (double)var13, (double)(var14 + var11), 1.0D, 1.0D);
         p_180434_1_.addVertexWithUV((double)(var12 + var11), (double)var13, (double)(var14 - var11), 1.0D, 0.0D);
diff --git a/net/minecraft/client/particle/EntityLargeExplodeFX.java b/net/minecraft/client/particle/EntityLargeExplodeFX.java
index 1cefc15..703c4d2 100644
--- a/net/minecraft/client/particle/EntityLargeExplodeFX.java
+++ b/net/minecraft/client/particle/EntityLargeExplodeFX.java
@@ -49,7 +49,7 @@ public class EntityLargeExplodeFX extends EntityFX
             GlStateManager.disableLighting();
             RenderHelper.disableStandardItemLighting();
             p_180434_1_.startDrawingQuads();
-            p_180434_1_.func_178960_a(this.particleRed, this.particleGreen, this.particleBlue, 1.0F);
+            p_180434_1_.setColorRGBA_F(this.particleRed, this.particleGreen, this.particleBlue, 1.0F);
             p_180434_1_.func_178980_d(0.0F, 1.0F, 0.0F);
             p_180434_1_.func_178963_b(240);
             p_180434_1_.addVertexWithUV((double)(var15 - p_180434_4_ * var14 - p_180434_7_ * var14), (double)(var16 - p_180434_5_ * var14), (double)(var17 - p_180434_6_ * var14 - p_180434_8_ * var14), (double)var11, (double)var13);
diff --git a/net/minecraft/client/renderer/ActiveRenderInfo.java b/net/minecraft/client/renderer/ActiveRenderInfo.java
index 0410897..4827774 100644
--- a/net/minecraft/client/renderer/ActiveRenderInfo.java
+++ b/net/minecraft/client/renderer/ActiveRenderInfo.java
@@ -95,7 +95,7 @@ public class ActiveRenderInfo
 
             if (var3.yCoord >= (double)var8)
             {
-                var6 = worldIn.getBlockState(var4.offsetUp()).getBlock();
+                var6 = worldIn.getBlockState(var4.up()).getBlock();
             }
         }
 
diff --git a/net/minecraft/client/renderer/BlockFluidRenderer.java b/net/minecraft/client/renderer/BlockFluidRenderer.java
index 69db7af..3354e41 100644
--- a/net/minecraft/client/renderer/BlockFluidRenderer.java
+++ b/net/minecraft/client/renderer/BlockFluidRenderer.java
@@ -40,9 +40,9 @@ public class BlockFluidRenderer
         float var8 = (float)(var7 >> 16 & 255) / 255.0F;
         float var9 = (float)(var7 >> 8 & 255) / 255.0F;
         float var10 = (float)(var7 & 255) / 255.0F;
-        boolean var11 = var5.shouldSideBeRendered(p_178270_1_, p_178270_3_.offsetUp(), EnumFacing.UP);
-        boolean var12 = var5.shouldSideBeRendered(p_178270_1_, p_178270_3_.offsetDown(), EnumFacing.DOWN);
-        boolean[] var13 = new boolean[] {var5.shouldSideBeRendered(p_178270_1_, p_178270_3_.offsetNorth(), EnumFacing.NORTH), var5.shouldSideBeRendered(p_178270_1_, p_178270_3_.offsetSouth(), EnumFacing.SOUTH), var5.shouldSideBeRendered(p_178270_1_, p_178270_3_.offsetWest(), EnumFacing.WEST), var5.shouldSideBeRendered(p_178270_1_, p_178270_3_.offsetEast(), EnumFacing.EAST)};
+        boolean var11 = var5.shouldSideBeRendered(p_178270_1_, p_178270_3_.up(), EnumFacing.UP);
+        boolean var12 = var5.shouldSideBeRendered(p_178270_1_, p_178270_3_.down(), EnumFacing.DOWN);
+        boolean[] var13 = new boolean[] {var5.shouldSideBeRendered(p_178270_1_, p_178270_3_.north(), EnumFacing.NORTH), var5.shouldSideBeRendered(p_178270_1_, p_178270_3_.south(), EnumFacing.SOUTH), var5.shouldSideBeRendered(p_178270_1_, p_178270_3_.west(), EnumFacing.WEST), var5.shouldSideBeRendered(p_178270_1_, p_178270_3_.east(), EnumFacing.EAST)};
 
         if (!var11 && !var12 && !var13[0] && !var13[1] && !var13[2] && !var13[3])
         {
@@ -57,9 +57,9 @@ public class BlockFluidRenderer
             float var18 = 0.6F;
             Material var19 = var5.getMaterial();
             float var20 = this.func_178269_a(p_178270_1_, p_178270_3_, var19);
-            float var21 = this.func_178269_a(p_178270_1_, p_178270_3_.offsetSouth(), var19);
-            float var22 = this.func_178269_a(p_178270_1_, p_178270_3_.offsetEast().offsetSouth(), var19);
-            float var23 = this.func_178269_a(p_178270_1_, p_178270_3_.offsetEast(), var19);
+            float var21 = this.func_178269_a(p_178270_1_, p_178270_3_.south(), var19);
+            float var22 = this.func_178269_a(p_178270_1_, p_178270_3_.east().south(), var19);
+            float var23 = this.func_178269_a(p_178270_1_, p_178270_3_.east(), var19);
             double var24 = (double)p_178270_3_.getX();
             double var26 = (double)p_178270_3_.getY();
             double var28 = (double)p_178270_3_.getZ();
@@ -118,13 +118,13 @@ public class BlockFluidRenderer
                 }
 
                 p_178270_4_.func_178963_b(var5.getMixedBrightnessForBlock(p_178270_1_, p_178270_3_));
-                p_178270_4_.func_178986_b(var16 * var8, var16 * var9, var16 * var10);
+                p_178270_4_.setColorOpaque_F(var16 * var8, var16 * var9, var16 * var10);
                 p_178270_4_.addVertexWithUV(var24 + 0.0D, var26 + (double)var20, var28 + 0.0D, (double)var33, (double)var37);
                 p_178270_4_.addVertexWithUV(var24 + 0.0D, var26 + (double)var21, var28 + 1.0D, (double)var34, (double)var38);
                 p_178270_4_.addVertexWithUV(var24 + 1.0D, var26 + (double)var22, var28 + 1.0D, (double)var35, (double)var39);
                 p_178270_4_.addVertexWithUV(var24 + 1.0D, var26 + (double)var23, var28 + 0.0D, (double)var36, (double)var40);
 
-                if (var5.func_176364_g(p_178270_1_, p_178270_3_.offsetUp()))
+                if (var5.func_176364_g(p_178270_1_, p_178270_3_.up()))
                 {
                     p_178270_4_.addVertexWithUV(var24 + 0.0D, var26 + (double)var20, var28 + 0.0D, (double)var33, (double)var37);
                     p_178270_4_.addVertexWithUV(var24 + 1.0D, var26 + (double)var23, var28 + 0.0D, (double)var36, (double)var40);
@@ -135,8 +135,8 @@ public class BlockFluidRenderer
 
             if (var12)
             {
-                p_178270_4_.func_178963_b(var5.getMixedBrightnessForBlock(p_178270_1_, p_178270_3_.offsetDown()));
-                p_178270_4_.func_178986_b(var15, var15, var15);
+                p_178270_4_.func_178963_b(var5.getMixedBrightnessForBlock(p_178270_1_, p_178270_3_.down()));
+                p_178270_4_.setColorOpaque_F(var15, var15, var15);
                 var32 = var6[0].getMinU();
                 var33 = var6[0].getMaxU();
                 var34 = var6[0].getMinV();
@@ -229,7 +229,7 @@ public class BlockFluidRenderer
                     p_178270_4_.func_178963_b(var5.getMixedBrightnessForBlock(p_178270_1_, var55));
                     float var51 = 1.0F;
                     var51 *= var52 < 2 ? var17 : var18;
-                    p_178270_4_.func_178986_b(var16 * var51 * var8, var16 * var51 * var9, var16 * var51 * var10);
+                    p_178270_4_.setColorOpaque_F(var16 * var51 * var8, var16 * var51 * var9, var16 * var51 * var10);
                     p_178270_4_.addVertexWithUV(var56, var26 + (double)var36, var57, (double)var46, (double)var48);
                     p_178270_4_.addVertexWithUV(var58, var26 + (double)var37, var44, (double)var47, (double)var49);
                     p_178270_4_.addVertexWithUV(var58, var26 + 0.0D, var44, (double)var47, (double)var50);
@@ -254,7 +254,7 @@ public class BlockFluidRenderer
         {
             BlockPos var7 = p_178269_2_.add(-(var6 & 1), 0, -(var6 >> 1 & 1));
 
-            if (p_178269_1_.getBlockState(var7.offsetUp()).getBlock().getMaterial() == p_178269_3_)
+            if (p_178269_1_.getBlockState(var7.up()).getBlock().getMaterial() == p_178269_3_)
             {
                 return 1.0F;
             }
diff --git a/net/minecraft/client/renderer/BlockModelRenderer.java b/net/minecraft/client/renderer/BlockModelRenderer.java
index 21be134..4884931 100644
--- a/net/minecraft/client/renderer/BlockModelRenderer.java
+++ b/net/minecraft/client/renderer/BlockModelRenderer.java
@@ -3,6 +3,7 @@ package net.minecraft.client.renderer;
 import java.util.BitSet;
 import java.util.Iterator;
 import java.util.List;
+
 import net.minecraft.block.Block;
 import net.minecraft.block.state.IBlockState;
 import net.minecraft.client.Minecraft;
@@ -18,6 +19,9 @@ import net.minecraft.util.MathHelper;
 import net.minecraft.util.ReportedException;
 import net.minecraft.util.Vec3i;
 import net.minecraft.world.IBlockAccess;
+import tk.wurst_client.WurstClient;
+import tk.wurst_client.features.mods.XRayMod;
+import tk.wurst_client.utils.XRayUtils;
 
 public class BlockModelRenderer
 {
@@ -78,8 +82,12 @@ public class BlockModelRenderer
 
         List var17 = p_178265_2_.func_177550_a();
 
-        if (var17.size() > 0)
+		// TODO: Client
+		if(var17.size() > 0
+			&& (!WurstClient.INSTANCE.mods.xRayMod.isActive() || XRayUtils
+				.isXRayBlock(p_178265_3_)))
         {
+        	
             this.func_178263_a(p_178265_1_, p_178265_3_, p_178265_4_, p_178265_5_, var17, var8, var9, var10);
             var7 = true;
         }
diff --git a/net/minecraft/client/renderer/EntityRenderer.java b/net/minecraft/client/renderer/EntityRenderer.java
index 9f404dc..fce47f5 100644
--- a/net/minecraft/client/renderer/EntityRenderer.java
+++ b/net/minecraft/client/renderer/EntityRenderer.java
@@ -1,11 +1,11 @@
 package net.minecraft.client.renderer;
 
-import com.google.gson.JsonSyntaxException;
 import java.io.IOException;
 import java.nio.FloatBuffer;
 import java.util.List;
 import java.util.Random;
 import java.util.concurrent.Callable;
+
 import net.minecraft.block.Block;
 import net.minecraft.block.BlockBed;
 import net.minecraft.block.material.Material;
@@ -40,19 +40,10 @@ import net.minecraft.init.Blocks;
 import net.minecraft.inventory.IInventory;
 import net.minecraft.item.ItemStack;
 import net.minecraft.potion.Potion;
-import net.minecraft.util.AxisAlignedBB;
-import net.minecraft.util.BlockPos;
-import net.minecraft.util.EnumFacing;
-import net.minecraft.util.EnumParticleTypes;
-import net.minecraft.util.EnumWorldBlockLayer;
-import net.minecraft.util.MathHelper;
-import net.minecraft.util.MouseFilter;
-import net.minecraft.util.MovingObjectPosition;
-import net.minecraft.util.ReportedException;
-import net.minecraft.util.ResourceLocation;
-import net.minecraft.util.Vec3;
+import net.minecraft.util.*;
 import net.minecraft.world.WorldSettings;
 import net.minecraft.world.biome.BiomeGenBase;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 import org.lwjgl.input.Mouse;
@@ -61,6 +52,12 @@ import org.lwjgl.opengl.GL11;
 import org.lwjgl.opengl.GLContext;
 import org.lwjgl.util.glu.Project;
 
+import tk.wurst_client.WurstClient;
+import tk.wurst_client.events.RenderEvent;
+import tk.wurst_client.hooks.ZoomHook;
+
+import com.google.gson.JsonSyntaxException;
+
 public class EntityRenderer implements IResourceManagerReloadListener
 {
     private static final Logger logger = LogManager.getLogger();
@@ -166,10 +163,18 @@ public class EntityRenderer implements IResourceManagerReloadListener
     private double cameraZoom = 1.0D;
     private double cameraYaw;
     private double cameraPitch;
-    private ShaderGroup theShaderGroup;
-    private static final ResourceLocation[] shaderResourceLocations = new ResourceLocation[] {new ResourceLocation("shaders/post/notch.json"), new ResourceLocation("shaders/post/fxaa.json"), new ResourceLocation("shaders/post/art.json"), new ResourceLocation("shaders/post/bumpy.json"), new ResourceLocation("shaders/post/blobs2.json"), new ResourceLocation("shaders/post/pencil.json"), new ResourceLocation("shaders/post/color_convolve.json"), new ResourceLocation("shaders/post/deconverge.json"), new ResourceLocation("shaders/post/flip.json"), new ResourceLocation("shaders/post/invert.json"), new ResourceLocation("shaders/post/ntsc.json"), new ResourceLocation("shaders/post/outline.json"), new ResourceLocation("shaders/post/phosphor.json"), new ResourceLocation("shaders/post/scan_pincushion.json"), new ResourceLocation("shaders/post/sobel.json"), new ResourceLocation("shaders/post/bits.json"), new ResourceLocation("shaders/post/desaturate.json"), new ResourceLocation("shaders/post/green.json"), new ResourceLocation("shaders/post/blur.json"), new ResourceLocation("shaders/post/wobble.json"), new ResourceLocation("shaders/post/blobs.json"), new ResourceLocation("shaders/post/antialias.json"), new ResourceLocation("shaders/post/creeper.json"), new ResourceLocation("shaders/post/spider.json")};
+    
+    //TODO: Client
+    public ShaderGroup theShaderGroup;
+    
+    //TODO: Client
+    public static final ResourceLocation[] shaderResourceLocations = new ResourceLocation[] {new ResourceLocation("shaders/post/notch.json"), new ResourceLocation("shaders/post/fxaa.json"), new ResourceLocation("shaders/post/art.json"), new ResourceLocation("shaders/post/bumpy.json"), new ResourceLocation("shaders/post/blobs2.json"), new ResourceLocation("shaders/post/pencil.json"), new ResourceLocation("shaders/post/color_convolve.json"), new ResourceLocation("shaders/post/deconverge.json"), new ResourceLocation("shaders/post/flip.json"), new ResourceLocation("shaders/post/invert.json"), new ResourceLocation("shaders/post/ntsc.json"), new ResourceLocation("shaders/post/outline.json"), new ResourceLocation("shaders/post/phosphor.json"), new ResourceLocation("shaders/post/scan_pincushion.json"), new ResourceLocation("shaders/post/sobel.json"), new ResourceLocation("shaders/post/bits.json"), new ResourceLocation("shaders/post/desaturate.json"), new ResourceLocation("shaders/post/green.json"), new ResourceLocation("shaders/post/blur.json"), new ResourceLocation("shaders/post/wobble.json"), new ResourceLocation("shaders/post/blobs.json"), new ResourceLocation("shaders/post/antialias.json"), new ResourceLocation("shaders/post/creeper.json"), new ResourceLocation("shaders/post/spider.json")};
+    
     public static final int shaderCount = shaderResourceLocations.length;
-    private int shaderIndex;
+    
+    //TODO: Client
+    public int shaderIndex;
+    
     private boolean field_175083_ad;
     private int field_175084_ae;
     private static final String __OBFID = "CL_00000947";
@@ -262,7 +267,8 @@ public class EntityRenderer implements IResourceManagerReloadListener
         }
     }
 
-    private void func_175069_a(ResourceLocation p_175069_1_)
+    //TODO: Client
+    public void func_175069_a(ResourceLocation p_175069_1_)
     {
         try
         {
@@ -340,10 +346,10 @@ public class EntityRenderer implements IResourceManagerReloadListener
 
         if (this.mc.func_175606_aa() == null)
         {
-            this.mc.func_175607_a(this.mc.thePlayer);
+            this.mc.func_175607_a(this.mc.player);
         }
 
-        var1 = this.mc.theWorld.getLightBrightness(new BlockPos(this.mc.func_175606_aa()));
+        var1 = this.mc.world.getLightBrightness(new BlockPos(this.mc.func_175606_aa()));
         var2 = (float)this.mc.gameSettings.renderDistanceChunks / 32.0F;
         float var3 = var1 * (1.0F - var2) + var2;
         this.fogColor1 += (var3 - this.fogColor1) * 0.1F;
@@ -396,7 +402,7 @@ public class EntityRenderer implements IResourceManagerReloadListener
 
         if (var2 != null)
         {
-            if (this.mc.theWorld != null)
+            if (this.mc.world != null)
             {
                 this.mc.mcProfiler.startSection("pick");
                 this.mc.pointedEntity = null;
@@ -430,7 +436,7 @@ public class EntityRenderer implements IResourceManagerReloadListener
                 this.pointedEntity = null;
                 Vec3 var10 = null;
                 float var11 = 1.0F;
-                List var12 = this.mc.theWorld.getEntitiesWithinAABBExcludingEntity(var2, var2.getEntityBoundingBox().addCoord(var8.xCoord * var3, var8.yCoord * var3, var8.zCoord * var3).expand((double)var11, (double)var11, (double)var11));
+                List var12 = this.mc.world.getEntitiesWithinAABBExcludingEntity(var2, var2.getEntityBoundingBox().addCoord(var8.xCoord * var3, var8.yCoord * var3, var8.zCoord * var3).expand((double)var11, (double)var11, (double)var11));
                 double var13 = var5;
 
                 for (int var15 = 0; var15 < var12.size(); ++var15)
@@ -536,7 +542,14 @@ public class EntityRenderer implements IResourceManagerReloadListener
             if (p_78481_2_)
             {
                 var4 = this.mc.gameSettings.fovSetting;
-                var4 *= this.fovModifierHandPrev + (this.fovModifierHand - this.fovModifierHandPrev) * p_78481_1_;
+				
+				// TODO: Client
+				var4 = ZoomHook.changeFovBasedOnZoom(var4);
+				
+				var4 *=
+					this.fovModifierHandPrev
+						+ (this.fovModifierHand - this.fovModifierHandPrev)
+						* p_78481_1_;
             }
 
             if (var3 instanceof EntityLivingBase && ((EntityLivingBase)var3).getHealth() <= 0.0F)
@@ -545,7 +558,7 @@ public class EntityRenderer implements IResourceManagerReloadListener
                 var4 /= (1.0F - 500.0F / (var5 + 500.0F)) * 2.0F + 1.0F;
             }
 
-            Block var6 = ActiveRenderInfo.func_180786_a(this.mc.theWorld, var3, p_78481_1_);
+            Block var6 = ActiveRenderInfo.func_180786_a(this.mc.world, var3, p_78481_1_);
 
             if (var6.getMaterial() == Material.water)
             {
@@ -622,7 +635,7 @@ public class EntityRenderer implements IResourceManagerReloadListener
             if (!this.mc.gameSettings.debugCamEnable)
             {
                 BlockPos var27 = new BlockPos(var2);
-                IBlockState var11 = this.mc.theWorld.getBlockState(var27);
+                IBlockState var11 = this.mc.world.getBlockState(var27);
                 Block var29 = var11.getBlock();
 
                 if (var29 == Blocks.bed)
@@ -665,7 +678,7 @@ public class EntityRenderer implements IResourceManagerReloadListener
                     var21 *= 0.1F;
                     var22 *= 0.1F;
                     var23 *= 0.1F;
-                    MovingObjectPosition var24 = this.mc.theWorld.rayTraceBlocks(new Vec3(var4 + (double)var21, var6 + (double)var22, var8 + (double)var23), new Vec3(var4 - var14 + (double)var21 + (double)var23, var6 - var18 + (double)var22, var8 - var16 + (double)var23));
+                    MovingObjectPosition var24 = this.mc.world.rayTraceBlocks(new Vec3(var4 + (double)var21, var6 + (double)var22, var8 + (double)var23), new Vec3(var4 - var14 + (double)var21 + (double)var23, var6 - var18 + (double)var22, var8 - var16 + (double)var23));
 
                     if (var24 != null)
                     {
@@ -749,18 +762,23 @@ public class EntityRenderer implements IResourceManagerReloadListener
 
         this.hurtCameraEffect(p_78479_1_);
 
-        if (this.mc.gameSettings.viewBobbing)
+		// TODO: Client
+		if(this.mc.gameSettings.viewBobbing
+			&& !WurstClient.INSTANCE.mods.tracersMod.isActive())
         {
+        	
             this.setupViewBobbing(p_78479_1_);
         }
 
-        float var4 = this.mc.thePlayer.prevTimeInPortal + (this.mc.thePlayer.timeInPortal - this.mc.thePlayer.prevTimeInPortal) * p_78479_1_;
+        float var4 = this.mc.player.prevTimeInPortal + (this.mc.player.timeInPortal - this.mc.player.prevTimeInPortal) * p_78479_1_;
 
-        if (var4 > 0.0F)
+		// TODO: Client
+		if(var4 > 0.0F && !WurstClient.INSTANCE.mods.antiBlindMod.isActive())
         {
+        	
             byte var5 = 20;
 
-            if (this.mc.thePlayer.isPotionActive(Potion.confusion))
+            if (this.mc.player.isPotionActive(Potion.confusion))
             {
                 var5 = 7;
             }
@@ -899,7 +917,7 @@ public class EntityRenderer implements IResourceManagerReloadListener
         if (this.lightmapUpdateNeeded)
         {
             this.mc.mcProfiler.startSection("lightTex");
-            WorldClient var2 = this.mc.theWorld;
+            WorldClient var2 = this.mc.world;
 
             if (var2 != null)
             {
@@ -943,9 +961,9 @@ public class EntityRenderer implements IResourceManagerReloadListener
 
                     float var17;
 
-                    if (this.mc.thePlayer.isPotionActive(Potion.nightVision))
+                    if (this.mc.player.isPotionActive(Potion.nightVision))
                     {
-                        var16 = this.func_180438_a(this.mc.thePlayer, p_78472_1_);
+                        var16 = this.func_180438_a(this.mc.player, p_78472_1_);
                         var17 = 1.0F / var13;
 
                         if (var17 > 1.0F / var14)
@@ -1092,13 +1110,13 @@ public class EntityRenderer implements IResourceManagerReloadListener
                 this.smoothCamPartialTicks = p_78480_1_;
                 var5 = this.smoothCamFilterX * var8;
                 var6 = this.smoothCamFilterY * var8;
-                this.mc.thePlayer.setAngles(var5, var6 * (float)var7);
+                this.mc.player.setAngles(var5, var6 * (float)var7);
             }
             else
             {
                 this.smoothCamYaw = 0.0F;
                 this.smoothCamPitch = 0.0F;
-                this.mc.thePlayer.setAngles(var5, var6 * (float)var7);
+                this.mc.player.setAngles(var5, var6 * (float)var7);
             }
         }
 
@@ -1114,7 +1132,7 @@ public class EntityRenderer implements IResourceManagerReloadListener
             final int var17 = var15 - Mouse.getY() * var15 / this.mc.displayHeight - 1;
             int var18 = this.mc.gameSettings.limitFramerate;
 
-            if (this.mc.theWorld != null)
+            if (this.mc.world != null)
             {
                 this.mc.mcProfiler.startSection("level");
                 int var9 = Math.max(Minecraft.func_175610_ah(), 30);
@@ -1223,12 +1241,12 @@ public class EntityRenderer implements IResourceManagerReloadListener
 
                 if (this.mc.objectMouseOver != null && this.mc.objectMouseOver.typeOfHit == MovingObjectPosition.MovingObjectType.BLOCK)
                 {
-                    BlockPos var4 = this.mc.objectMouseOver.func_178782_a();
-                    Block var5 = this.mc.theWorld.getBlockState(var4).getBlock();
+                    BlockPos var4 = this.mc.objectMouseOver.getBlockPos();
+                    Block var5 = this.mc.world.getBlockState(var4).getBlock();
 
                     if (this.mc.playerController.func_178889_l() == WorldSettings.GameType.SPECTATOR)
                     {
-                        var2 = var5.hasTileEntity() && this.mc.theWorld.getTileEntity(var4) instanceof IInventory;
+                        var2 = var5.hasTileEntity() && this.mc.world.getTileEntity(var4) instanceof IInventory;
                     }
                     else
                     {
@@ -1243,7 +1261,7 @@ public class EntityRenderer implements IResourceManagerReloadListener
 
     private void func_175067_i(float p_175067_1_)
     {
-        if (this.mc.gameSettings.showDebugInfo && !this.mc.gameSettings.hideGUI && !this.mc.thePlayer.func_175140_cp() && !this.mc.gameSettings.field_178879_v)
+        if (this.mc.gameSettings.showDebugInfo && !this.mc.gameSettings.hideGUI && !this.mc.player.func_175140_cp() && !this.mc.gameSettings.field_178879_v)
         {
             Entity var2 = this.mc.func_175606_aa();
             GlStateManager.enableBlend();
@@ -1272,11 +1290,15 @@ public class EntityRenderer implements IResourceManagerReloadListener
 
         if (this.mc.func_175606_aa() == null)
         {
-            this.mc.func_175607_a(this.mc.thePlayer);
+            this.mc.func_175607_a(this.mc.player);
         }
 
         this.getMouseOver(p_78471_1_);
+        
+        //TODO: Client
+		if(!WurstClient.INSTANCE.mods.caveFinderMod.isActive())
         GlStateManager.enableDepth();
+        
         GlStateManager.enableAlpha();
         GlStateManager.alphaFunc(516, 0.5F);
         this.mc.mcProfiler.startSection("center");
@@ -1311,7 +1333,7 @@ public class EntityRenderer implements IResourceManagerReloadListener
         GlStateManager.clear(16640);
         this.mc.mcProfiler.endStartSection("camera");
         this.setupCameraTransform(p_175068_2_, p_175068_1_);
-        ActiveRenderInfo.updateRenderInfo(this.mc.thePlayer, this.mc.gameSettings.thirdPersonView == 2);
+        ActiveRenderInfo.updateRenderInfo(this.mc.player, this.mc.gameSettings.thirdPersonView == 2);
         this.mc.mcProfiler.endStartSection("frustum");
         ClippingHelperImpl.getInstance();
         this.mc.mcProfiler.endStartSection("culling");
@@ -1350,7 +1372,7 @@ public class EntityRenderer implements IResourceManagerReloadListener
         this.mc.getTextureManager().bindTexture(TextureMap.locationBlocksTexture);
         RenderHelper.disableStandardItemLighting();
         this.mc.mcProfiler.endStartSection("terrain_setup");
-        var5.func_174970_a(var9, (double)p_175068_2_, var8, this.field_175084_ae++, this.mc.thePlayer.func_175149_v());
+        var5.func_174970_a(var9, (double)p_175068_2_, var8, this.field_175084_ae++, this.mc.player.isSpectator());
 
         if (p_175068_1_ == 0 || p_175068_1_ == 2)
         {
@@ -1470,6 +1492,9 @@ public class EntityRenderer implements IResourceManagerReloadListener
 
         this.mc.mcProfiler.endStartSection("hand");
 
+        //TODO: Client
+        WurstClient.INSTANCE.events.fire(new RenderEvent());
+        
         if (this.field_175074_C)
         {
             GlStateManager.clear(256);
@@ -1501,7 +1526,7 @@ public class EntityRenderer implements IResourceManagerReloadListener
 
     private void addRainParticles()
     {
-        float var1 = this.mc.theWorld.getRainStrength(1.0F);
+        float var1 = this.mc.world.getRainStrength(1.0F);
 
         if (!this.mc.gameSettings.fancyGraphics)
         {
@@ -1512,7 +1537,7 @@ public class EntityRenderer implements IResourceManagerReloadListener
         {
             this.random.setSeed((long)this.rendererUpdateCount * 312987231L);
             Entity var2 = this.mc.func_175606_aa();
-            WorldClient var3 = this.mc.theWorld;
+            WorldClient var3 = this.mc.world;
             BlockPos var4 = new BlockPos(var2);
             byte var5 = 10;
             double var6 = 0.0D;
@@ -1534,7 +1559,7 @@ public class EntityRenderer implements IResourceManagerReloadListener
             {
                 BlockPos var15 = var3.func_175725_q(var4.add(this.random.nextInt(var5) - this.random.nextInt(var5), 0, this.random.nextInt(var5) - this.random.nextInt(var5)));
                 BiomeGenBase var16 = var3.getBiomeGenForCoords(var15);
-                BlockPos var17 = var15.offsetDown();
+                BlockPos var17 = var15.down();
                 Block var18 = var3.getBlockState(var17).getBlock();
 
                 if (var15.getY() <= var4.getY() + var5 && var15.getY() >= var4.getY() - var5 && var16.canSpawnLightningBolt() && var16.func_180626_a(var15) >= 0.15F)
@@ -1544,7 +1569,7 @@ public class EntityRenderer implements IResourceManagerReloadListener
 
                     if (var18.getMaterial() == Material.lava)
                     {
-                        this.mc.theWorld.spawnParticle(EnumParticleTypes.SMOKE_NORMAL, (double)((float)var15.getX() + var19), (double)((float)var15.getY() + 0.1F) - var18.getBlockBoundsMinY(), (double)((float)var15.getZ() + var20), 0.0D, 0.0D, 0.0D, new int[0]);
+                        this.mc.world.spawnParticle(EnumParticleTypes.SMOKE_NORMAL, (double)((float)var15.getX() + var19), (double)((float)var15.getY() + 0.1F) - var18.getBlockBoundsMinY(), (double)((float)var15.getZ() + var20), 0.0D, 0.0D, 0.0D, new int[0]);
                     }
                     else if (var18.getMaterial() != Material.air)
                     {
@@ -1558,7 +1583,7 @@ public class EntityRenderer implements IResourceManagerReloadListener
                             var10 = (double)((float)var17.getZ() + var20);
                         }
 
-                        this.mc.theWorld.spawnParticle(EnumParticleTypes.WATER_DROP, (double)((float)var17.getX() + var19), (double)((float)var17.getY() + 0.1F) + var18.getBlockBoundsMaxY(), (double)((float)var17.getZ() + var20), 0.0D, 0.0D, 0.0D, new int[0]);
+                        this.mc.world.spawnParticle(EnumParticleTypes.WATER_DROP, (double)((float)var17.getX() + var19), (double)((float)var17.getY() + 0.1F) + var18.getBlockBoundsMaxY(), (double)((float)var17.getZ() + var20), 0.0D, 0.0D, 0.0D, new int[0]);
                     }
                 }
             }
@@ -1569,11 +1594,11 @@ public class EntityRenderer implements IResourceManagerReloadListener
 
                 if (var8 > (double)(var4.getY() + 1) && var3.func_175725_q(var4).getY() > MathHelper.floor_float((float)var4.getY()))
                 {
-                    this.mc.theWorld.playSound(var6, var8, var10, "ambient.weather.rain", 0.1F, 0.5F, false);
+                    this.mc.world.playSound(var6, var8, var10, "ambient.weather.rain", 0.1F, 0.5F, false);
                 }
                 else
                 {
-                    this.mc.theWorld.playSound(var6, var8, var10, "ambient.weather.rain", 0.2F, 1.0F, false);
+                    this.mc.world.playSound(var6, var8, var10, "ambient.weather.rain", 0.2F, 1.0F, false);
                 }
             }
         }
@@ -1584,13 +1609,13 @@ public class EntityRenderer implements IResourceManagerReloadListener
      */
     protected void renderRainSnow(float p_78474_1_)
     {
-        float var2 = this.mc.theWorld.getRainStrength(p_78474_1_);
+        float var2 = this.mc.world.getRainStrength(p_78474_1_);
 
         if (var2 > 0.0F)
         {
             this.func_180436_i();
             Entity var3 = this.mc.func_175606_aa();
-            WorldClient var4 = this.mc.theWorld;
+            WorldClient var4 = this.mc.world;
             int var5 = MathHelper.floor_double(var3.posX);
             int var6 = MathHelper.floor_double(var3.posY);
             int var7 = MathHelper.floor_double(var3.posZ);
@@ -1622,14 +1647,16 @@ public class EntityRenderer implements IResourceManagerReloadListener
 
             GlStateManager.color(1.0F, 1.0F, 1.0F, 1.0F);
 
+            // TODO: Client
+            BlockPos var25 = new BlockPos(0, 0, 0);
             for (int var20 = var7 - var17; var20 <= var7 + var17; ++var20)
             {
                 for (int var21 = var5 - var17; var21 <= var5 + var17; ++var21)
                 {
+                	var25.setPos(var21, 0, var20);
                     int var22 = (var20 - var7 + 16) * 32 + var21 - var5 + 16;
                     float var23 = this.field_175076_N[var22] * 0.5F;
                     float var24 = this.field_175077_O[var22] * 0.5F;
-                    BlockPos var25 = new BlockPos(var21, 0, var20);
                     BiomeGenBase var26 = var4.getBiomeGenForCoords(var25);
 
                     if (var26.canSpawnLightningBolt() || var26.getEnableSnow())
@@ -1683,7 +1710,7 @@ public class EntityRenderer implements IResourceManagerReloadListener
                                 float var38 = MathHelper.sqrt_double(var34 * var34 + var36 * var36) / (float)var17;
                                 float var39 = 1.0F;
                                 var9.func_178963_b(var4.getCombinedLight(new BlockPos(var21, var31, var20), 0));
-                                var9.func_178960_a(var39, var39, var39, ((1.0F - var38 * var38) * 0.5F + 0.5F) * var2);
+                                var9.setColorRGBA_F(var39, var39, var39, ((1.0F - var38 * var38) * 0.5F + 0.5F) * var2);
                                 var9.setTranslation(-var10 * 1.0D, -var12 * 1.0D, -var14 * 1.0D);
                                 var9.addVertexWithUV((double)((float)var21 - var23) + 0.5D, (double)var28, (double)((float)var20 - var24) + 0.5D, (double)(0.0F * var30), (double)((float)var28 * var30 / 4.0F + var33 * var30));
                                 var9.addVertexWithUV((double)((float)var21 + var23) + 0.5D, (double)var28, (double)((float)var20 + var24) + 0.5D, (double)(1.0F * var30), (double)((float)var28 * var30 / 4.0F + var33 * var30));
@@ -1713,7 +1740,7 @@ public class EntityRenderer implements IResourceManagerReloadListener
                                 float var40 = MathHelper.sqrt_double(var36 * var36 + var43 * var43) / (float)var17;
                                 float var41 = 1.0F;
                                 var9.func_178963_b((var4.getCombinedLight(new BlockPos(var21, var31, var20), 0) * 3 + 15728880) / 4);
-                                var9.func_178960_a(var41, var41, var41, ((1.0F - var40 * var40) * 0.3F + 0.5F) * var2);
+                                var9.setColorRGBA_F(var41, var41, var41, ((1.0F - var40 * var40) * 0.3F + 0.5F) * var2);
                                 var9.setTranslation(-var10 * 1.0D, -var12 * 1.0D, -var14 * 1.0D);
                                 var9.addVertexWithUV((double)((float)var21 - var23) + 0.5D, (double)var28, (double)((float)var20 - var24) + 0.5D, (double)(0.0F * var30 + var42), (double)((float)var28 * var30 / 4.0F + var33 * var30 + var35));
                                 var9.addVertexWithUV((double)((float)var21 + var23) + 0.5D, (double)var28, (double)((float)var20 + var24) + 0.5D, (double)(1.0F * var30 + var42), (double)((float)var28 * var30 / 4.0F + var33 * var30 + var35));
@@ -1758,7 +1785,7 @@ public class EntityRenderer implements IResourceManagerReloadListener
      */
     private void updateFogColor(float p_78466_1_)
     {
-        WorldClient var2 = this.mc.theWorld;
+        WorldClient var2 = this.mc.world;
         Entity var3 = this.mc.func_175606_aa();
         float var4 = 0.25F + 0.75F * (float)this.mc.gameSettings.renderDistanceChunks / 32.0F;
         var4 = 1.0F - (float)Math.pow((double)var4, 0.25D);
@@ -1823,7 +1850,7 @@ public class EntityRenderer implements IResourceManagerReloadListener
             this.field_175081_S *= var20;
         }
 
-        Block var21 = ActiveRenderInfo.func_180786_a(this.mc.theWorld, var3, p_78466_1_);
+        Block var21 = ActiveRenderInfo.func_180786_a(this.mc.world, var3, p_78466_1_);
 
         if (this.cloudFog)
         {
@@ -1858,8 +1885,12 @@ public class EntityRenderer implements IResourceManagerReloadListener
         this.field_175081_S *= var13;
         double var23 = (var3.lastTickPosY + (var3.posY - var3.lastTickPosY) * (double)p_78466_1_) * var2.provider.getVoidFogYFactor();
 
-        if (var3 instanceof EntityLivingBase && ((EntityLivingBase)var3).isPotionActive(Potion.blindness))
+		// TODO: Client
+		if(var3 instanceof EntityLivingBase
+			&& ((EntityLivingBase)var3).isPotionActive(Potion.blindness)
+			&& !WurstClient.INSTANCE.mods.antiBlindMod.isActive())
         {
+        	
             int var16 = ((EntityLivingBase)var3).getActivePotionEffect(Potion.blindness).getDuration();
 
             if (var16 < 20)
@@ -1947,11 +1978,15 @@ public class EntityRenderer implements IResourceManagerReloadListener
         GL11.glFog(GL11.GL_FOG_COLOR, this.setFogColorBuffer(this.field_175080_Q, this.field_175082_R, this.field_175081_S, 1.0F));
         GL11.glNormal3f(0.0F, -1.0F, 0.0F);
         GlStateManager.color(1.0F, 1.0F, 1.0F, 1.0F);
-        Block var5 = ActiveRenderInfo.func_180786_a(this.mc.theWorld, var3, p_78468_2_);
+        Block var5 = ActiveRenderInfo.func_180786_a(this.mc.world, var3, p_78468_2_);
         float var6;
 
-        if (var3 instanceof EntityLivingBase && ((EntityLivingBase)var3).isPotionActive(Potion.blindness))
+		// TODO: Client
+		if(var3 instanceof EntityLivingBase
+			&& ((EntityLivingBase)var3).isPotionActive(Potion.blindness)
+			&& !WurstClient.INSTANCE.mods.antiBlindMod.isActive())
         {
+        	
             var6 = 5.0F;
             int var7 = ((EntityLivingBase)var3).getActivePotionEffect(Potion.blindness).getDuration();
 
@@ -2022,7 +2057,7 @@ public class EntityRenderer implements IResourceManagerReloadListener
                 GL11.glFogi(34138, 34139);
             }
 
-            if (this.mc.theWorld.provider.doesXZShowFog((int)var3.posX, (int)var3.posZ))
+            if (this.mc.world.provider.doesXZShowFog((int)var3.posX, (int)var3.posZ))
             {
                 GlStateManager.setFogStart(var6 * 0.05F);
                 GlStateManager.setFogEnd(Math.min(var6, 192.0F) * 0.5F);
diff --git a/net/minecraft/client/renderer/ImageBufferDownload.java b/net/minecraft/client/renderer/ImageBufferDownload.java
index f98b5f2..8db8462 100644
--- a/net/minecraft/client/renderer/ImageBufferDownload.java
+++ b/net/minecraft/client/renderer/ImageBufferDownload.java
@@ -20,8 +20,10 @@ public class ImageBufferDownload implements IImageBuffer
         }
         else
         {
-            this.imageWidth = 64;
-            this.imageHeight = 64;
+        	// TODO: Client
+            this.imageWidth = p_78432_1_.getWidth();
+            this.imageHeight = Math.max(p_78432_1_.getHeight(), 64);
+            
             BufferedImage var2 = new BufferedImage(this.imageWidth, this.imageHeight, 2);
             Graphics var3 = var2.getGraphics();
             var3.drawImage(p_78432_1_, 0, 0, (ImageObserver)null);
diff --git a/net/minecraft/client/renderer/InventoryEffectRenderer.java b/net/minecraft/client/renderer/InventoryEffectRenderer.java
index 7ea9cba..2bf2b14 100644
--- a/net/minecraft/client/renderer/InventoryEffectRenderer.java
+++ b/net/minecraft/client/renderer/InventoryEffectRenderer.java
@@ -30,7 +30,7 @@ public abstract class InventoryEffectRenderer extends GuiContainer
 
     protected void func_175378_g()
     {
-        if (!this.mc.thePlayer.getActivePotionEffects().isEmpty())
+        if (!this.mc.player.getActivePotionEffects().isEmpty())
         {
             this.guiLeft = 160 + (this.width - this.xSize - 200) / 2;
             this.hasActivePotionEffects = true;
@@ -63,7 +63,7 @@ public abstract class InventoryEffectRenderer extends GuiContainer
         int var1 = this.guiLeft - 124;
         int var2 = this.guiTop;
         boolean var3 = true;
-        Collection var4 = this.mc.thePlayer.getActivePotionEffects();
+        Collection var4 = this.mc.player.getActivePotionEffects();
 
         if (!var4.isEmpty())
         {
@@ -76,7 +76,7 @@ public abstract class InventoryEffectRenderer extends GuiContainer
                 var5 = 132 / (var4.size() - 1);
             }
 
-            for (Iterator var6 = this.mc.thePlayer.getActivePotionEffects().iterator(); var6.hasNext(); var2 += var5)
+            for (Iterator var6 = this.mc.player.getActivePotionEffects().iterator(); var6.hasNext(); var2 += var5)
             {
                 PotionEffect var7 = (PotionEffect)var6.next();
                 Potion var8 = Potion.potionTypes[var7.getPotionID()];
@@ -105,9 +105,9 @@ public abstract class InventoryEffectRenderer extends GuiContainer
                     var11 = var11 + " " + I18n.format("enchantment.level.4", new Object[0]);
                 }
 
-                this.fontRendererObj.func_175063_a(var11, (float)(var1 + 10 + 18), (float)(var2 + 6), 16777215);
+                this.fontRendererObj.drawStringWithShadow(var11, (float)(var1 + 10 + 18), (float)(var2 + 6), 16777215);
                 String var10 = Potion.getDurationString(var7);
-                this.fontRendererObj.func_175063_a(var10, (float)(var1 + 10 + 18), (float)(var2 + 6 + 10), 8355711);
+                this.fontRendererObj.drawStringWithShadow(var10, (float)(var1 + 10 + 18), (float)(var2 + 6 + 10), 8355711);
             }
         }
     }
diff --git a/net/minecraft/client/renderer/ItemModelMesher.java b/net/minecraft/client/renderer/ItemModelMesher.java
index a2263ad..77057af 100644
--- a/net/minecraft/client/renderer/ItemModelMesher.java
+++ b/net/minecraft/client/renderer/ItemModelMesher.java
@@ -1,9 +1,11 @@
 package net.minecraft.client.renderer;
 
 import com.google.common.collect.Maps;
+
 import java.util.Iterator;
 import java.util.Map;
 import java.util.Map.Entry;
+
 import net.minecraft.client.renderer.texture.TextureAtlasSprite;
 import net.minecraft.client.resources.model.IBakedModel;
 import net.minecraft.client.resources.model.ModelManager;
@@ -36,8 +38,17 @@ public class ItemModelMesher
 
     public IBakedModel getItemModel(ItemStack p_178089_1_)
     {
-        Item var2 = p_178089_1_.getItem();
-        IBakedModel var3 = this.getItemModel(var2, this.getMetadata(p_178089_1_));
+        Item var2;
+		IBakedModel var3;
+		try
+		{
+			var2 = p_178089_1_.getItem();
+			var3 = this.getItemModel(var2, this.getMetadata(p_178089_1_));
+		}catch(NullPointerException e)
+		{
+			var2 = null;
+			var3 = null;
+		}
 
         if (var3 == null)
         {
diff --git a/net/minecraft/client/renderer/ItemRenderer.java b/net/minecraft/client/renderer/ItemRenderer.java
index 255b3ae..d5962b7 100644
--- a/net/minecraft/client/renderer/ItemRenderer.java
+++ b/net/minecraft/client/renderer/ItemRenderer.java
@@ -98,7 +98,7 @@ public class ItemRenderer
 
     private void func_178109_a(AbstractClientPlayer p_178109_1_)
     {
-        int var2 = this.mc.theWorld.getCombinedLight(new BlockPos(p_178109_1_.posX, p_178109_1_.posY + (double)p_178109_1_.getEyeHeight(), p_178109_1_.posZ), 0);
+        int var2 = this.mc.world.getCombinedLight(new BlockPos(p_178109_1_.posX, p_178109_1_.posY + (double)p_178109_1_.getEyeHeight(), p_178109_1_.posZ), 0);
         float var3 = (float)(var2 & 65535);
         float var4 = (float)(var2 >> 16);
         OpenGlHelper.setLightmapTextureCoords(OpenGlHelper.lightmapTexUnit, var3, var4);
@@ -127,7 +127,7 @@ public class ItemRenderer
         GlStateManager.rotate(64.0F, 1.0F, 0.0F, 0.0F);
         GlStateManager.rotate(-62.0F, 0.0F, 0.0F, 1.0F);
         GlStateManager.translate(0.25F, -0.85F, 0.75F);
-        p_180534_1_.func_177138_b(this.mc.thePlayer);
+        p_180534_1_.func_177138_b(this.mc.player);
         GlStateManager.popMatrix();
     }
 
@@ -138,14 +138,14 @@ public class ItemRenderer
         GlStateManager.rotate(45.0F, 1.0F, 0.0F, 0.0F);
         GlStateManager.rotate(41.0F, 0.0F, 0.0F, 1.0F);
         GlStateManager.translate(-0.3F, -1.1F, 0.45F);
-        p_178106_1_.func_177139_c(this.mc.thePlayer);
+        p_178106_1_.func_177139_c(this.mc.player);
         GlStateManager.popMatrix();
     }
 
     private void func_178102_b(AbstractClientPlayer p_178102_1_)
     {
         this.mc.getTextureManager().bindTexture(p_178102_1_.getLocationSkin());
-        Render var2 = this.field_178111_g.getEntityRenderObject(this.mc.thePlayer);
+        Render var2 = this.field_178111_g.getEntityRenderObject(this.mc.player);
         RenderPlayer var3 = (RenderPlayer)var2;
 
         if (!p_178102_1_.isInvisible())
@@ -190,7 +190,7 @@ public class ItemRenderer
         var12.addVertexWithUV(135.0D, -7.0D, 0.0D, 1.0D, 0.0D);
         var12.addVertexWithUV(-7.0D, -7.0D, 0.0D, 0.0D, 0.0D);
         var11.draw();
-        MapData var13 = Items.filled_map.getMapData(this.itemToRender, this.mc.theWorld);
+        MapData var13 = Items.filled_map.getMapData(this.itemToRender, this.mc.world);
 
         if (var13 != null)
         {
@@ -218,9 +218,9 @@ public class ItemRenderer
         GlStateManager.rotate(-135.0F, 0.0F, 1.0F, 0.0F);
         GlStateManager.scale(1.0F, 1.0F, 1.0F);
         GlStateManager.translate(5.6F, 0.0F, 0.0F);
-        Render var9 = this.field_178111_g.getEntityRenderObject(this.mc.thePlayer);
+        Render var9 = this.field_178111_g.getEntityRenderObject(this.mc.player);
         RenderPlayer var10 = (RenderPlayer)var9;
-        var10.func_177138_b(this.mc.thePlayer);
+        var10.func_177138_b(this.mc.player);
     }
 
     private void func_178105_d(float p_178105_1_)
@@ -304,7 +304,7 @@ public class ItemRenderer
     public void renderItemInFirstPerson(float p_78440_1_)
     {
         float var2 = 1.0F - (this.prevEquippedProgress + (this.equippedProgress - this.prevEquippedProgress) * p_78440_1_);
-        EntityPlayerSP var3 = this.mc.thePlayer;
+        EntityPlayerSP var3 = this.mc.player;
         float var4 = var3.getSwingProgress(p_78440_1_);
         float var5 = var3.prevRotationPitch + (var3.rotationPitch - var3.prevRotationPitch) * p_78440_1_;
         float var6 = var3.prevRotationYaw + (var3.rotationYaw - var3.prevRotationYaw) * p_78440_1_;
@@ -371,10 +371,10 @@ public class ItemRenderer
     {
         GlStateManager.disableAlpha();
 
-        if (this.mc.thePlayer.isEntityInsideOpaqueBlock())
+        if (this.mc.player.isEntityInsideOpaqueBlock())
         {
-            IBlockState var2 = this.mc.theWorld.getBlockState(new BlockPos(this.mc.thePlayer));
-            EntityPlayerSP var3 = this.mc.thePlayer;
+            IBlockState var2 = this.mc.world.getBlockState(new BlockPos(this.mc.player));
+            EntityPlayerSP var3 = this.mc.player;
 
             for (int var4 = 0; var4 < 8; ++var4)
             {
@@ -382,7 +382,7 @@ public class ItemRenderer
                 double var7 = var3.posY + (double)(((float)((var4 >> 1) % 2) - 0.5F) * 0.1F);
                 double var9 = var3.posZ + (double)(((float)((var4 >> 2) % 2) - 0.5F) * var3.width * 0.8F);
                 BlockPos var11 = new BlockPos(var5, var7 + (double)var3.getEyeHeight(), var9);
-                IBlockState var12 = this.mc.theWorld.getBlockState(var11);
+                IBlockState var12 = this.mc.world.getBlockState(var11);
 
                 if (var12.getBlock().isVisuallyOpaque())
                 {
@@ -396,14 +396,14 @@ public class ItemRenderer
             }
         }
 
-        if (!this.mc.thePlayer.func_175149_v())
+        if (!this.mc.player.isSpectator())
         {
-            if (this.mc.thePlayer.isInsideOfMaterial(Material.water))
+            if (this.mc.player.isInsideOfMaterial(Material.water))
             {
                 this.renderWaterOverlayTexture(p_78447_1_);
             }
 
-            if (this.mc.thePlayer.isBurning())
+            if (this.mc.player.isBurning())
             {
                 this.renderFireInFirstPerson(p_78447_1_);
             }
@@ -448,7 +448,7 @@ public class ItemRenderer
         this.mc.getTextureManager().bindTexture(RES_UNDERWATER_OVERLAY);
         Tessellator var2 = Tessellator.getInstance();
         WorldRenderer var3 = var2.getWorldRenderer();
-        float var4 = this.mc.thePlayer.getBrightness(p_78448_1_);
+        float var4 = this.mc.player.getBrightness(p_78448_1_);
         GlStateManager.color(var4, var4, var4, 0.5F);
         GlStateManager.enableBlend();
         GlStateManager.tryBlendFuncSeparate(770, 771, 1, 0);
@@ -459,8 +459,8 @@ public class ItemRenderer
         float var8 = -1.0F;
         float var9 = 1.0F;
         float var10 = -0.5F;
-        float var11 = -this.mc.thePlayer.rotationYaw / 64.0F;
-        float var12 = this.mc.thePlayer.rotationPitch / 64.0F;
+        float var11 = -this.mc.player.rotationYaw / 64.0F;
+        float var12 = this.mc.player.rotationPitch / 64.0F;
         var3.startDrawingQuads();
         var3.addVertexWithUV((double)var6, (double)var8, (double)var10, (double)(var5 + var11), (double)(var5 + var12));
         var3.addVertexWithUV((double)var7, (double)var8, (double)var10, (double)(0.0F + var11), (double)(var5 + var12));
@@ -520,7 +520,7 @@ public class ItemRenderer
     public void updateEquippedItem()
     {
         this.prevEquippedProgress = this.equippedProgress;
-        EntityPlayerSP var1 = this.mc.thePlayer;
+        EntityPlayerSP var1 = this.mc.player;
         ItemStack var2 = var1.inventory.getCurrentItem();
         boolean var3 = false;
 
diff --git a/net/minecraft/client/renderer/RenderGlobal.java b/net/minecraft/client/renderer/RenderGlobal.java
index db09dad..181cbba 100644
--- a/net/minecraft/client/renderer/RenderGlobal.java
+++ b/net/minecraft/client/renderer/RenderGlobal.java
@@ -4,6 +4,7 @@ import com.google.common.collect.Lists;
 import com.google.common.collect.Maps;
 import com.google.common.collect.Sets;
 import com.google.gson.JsonSyntaxException;
+
 import java.io.IOException;
 import java.util.EnumSet;
 import java.util.Iterator;
@@ -13,10 +14,12 @@ import java.util.Map;
 import java.util.Random;
 import java.util.Set;
 import java.util.concurrent.Callable;
+
 import javax.vecmath.Matrix4f;
 import javax.vecmath.Vector3d;
 import javax.vecmath.Vector3f;
 import javax.vecmath.Vector4f;
+
 import net.minecraft.block.Block;
 import net.minecraft.block.BlockChest;
 import net.minecraft.block.BlockEnderChest;
@@ -80,6 +83,7 @@ import net.minecraft.util.Vec3;
 import net.minecraft.world.IWorldAccess;
 import net.minecraft.world.border.WorldBorder;
 import net.minecraft.world.chunk.Chunk;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 import org.lwjgl.opengl.GL11;
@@ -268,7 +272,7 @@ public class RenderGlobal implements IWorldAccess, IResourceManagerReloadListene
 
     protected boolean func_174985_d()
     {
-        return this.field_175015_z != null && this.field_174991_A != null && this.mc.thePlayer != null && this.mc.thePlayer.func_175149_v() && this.mc.gameSettings.field_178883_an.getIsKeyPressed();
+        return this.field_175015_z != null && this.field_174991_A != null && this.mc.player != null && this.mc.player.isSpectator() && this.mc.gameSettings.field_178883_an.getIsKeyPressed();
     }
 
     private void func_174964_o()
@@ -606,7 +610,7 @@ public class RenderGlobal implements IWorldAccess, IResourceManagerReloadListene
                 {
                     var19 = (Entity)var17.get(var18);
                     boolean var20 = this.mc.func_175606_aa() instanceof EntityLivingBase && ((EntityLivingBase)this.mc.func_175606_aa()).isPlayerSleeping();
-                    boolean var21 = var19.isInRangeToRender3d(var4, var6, var8) && (var19.ignoreFrustumCheck || p_180446_2_.isBoundingBoxInFrustum(var19.getEntityBoundingBox()) || var19.riddenByEntity == this.mc.thePlayer) && var19 instanceof EntityPlayer;
+                    boolean var21 = var19.isInRangeToRender3d(var4, var6, var8) && (var19.ignoreFrustumCheck || p_180446_2_.isBoundingBoxInFrustum(var19.getEntityBoundingBox()) || var19.riddenByEntity == this.mc.player) && var19 instanceof EntityPlayer;
 
                     if ((var19 != this.mc.func_175606_aa() || this.mc.gameSettings.thirdPersonView != 0 || var20) && var21)
                     {
@@ -639,7 +643,7 @@ public class RenderGlobal implements IWorldAccess, IResourceManagerReloadListene
                 while (var31.hasNext())
                 {
                     Entity var22 = (Entity)var31.next();
-                    boolean var23 = this.field_175010_j.func_178635_a(var22, p_180446_2_, var4, var6, var8) || var22.riddenByEntity == this.mc.thePlayer;
+                    boolean var23 = this.field_175010_j.func_178635_a(var22, p_180446_2_, var4, var6, var8) || var22.riddenByEntity == this.mc.player;
 
                     if (var23)
                     {
@@ -933,17 +937,25 @@ public class RenderGlobal implements IWorldAccess, IResourceManagerReloadListene
         VisGraph var2 = new VisGraph();
         BlockPos var3 = new BlockPos(p_174978_1_.getX() >> 4 << 4, p_174978_1_.getY() >> 4 << 4, p_174978_1_.getZ() >> 4 << 4);
         Chunk var4 = this.theWorld.getChunkFromBlockCoords(var3);
-        Iterator var5 = BlockPos.getAllInBoxMutable(var3, var3.add(15, 15, 15)).iterator();
 
-        while (var5.hasNext())
+        // TODO: Client
+        BlockPos var6 = new BlockPos(var3);
+    	for(int x = 0; x < 16; x++)
         {
-            BlockPos.MutableBlockPos var6 = (BlockPos.MutableBlockPos)var5.next();
+			for(int y = 0; y < 16; y++)
+			{
+				for(int z = 0; z < 16; z++)
+				{
+					var6.setPos(var3.getX() + x, var3.getY()
+						+ y, var3.getZ() + z);
 
-            if (var4.getBlock(var6).isOpaqueCube())
+					if(var4.getBlock(var6).isOpaqueCube())
             {
                 var2.func_178606_a(var6);
             }
         }
+			}
+		}
         return var2.func_178609_b(p_174978_1_);
     }
 
@@ -1176,7 +1188,7 @@ public class RenderGlobal implements IWorldAccess, IResourceManagerReloadListene
             }
 
             var2.startDrawingQuads();
-            var2.func_178991_c(2631720);
+            var2.setColorOpaque_I(2631720);
             var2.addVertexWithUV(-100.0D, -100.0D, -100.0D, 0.0D, 0.0D);
             var2.addVertexWithUV(-100.0D, -100.0D, 100.0D, 0.0D, 16.0D);
             var2.addVertexWithUV(100.0D, -100.0D, 100.0D, 16.0D, 16.0D);
@@ -1192,11 +1204,11 @@ public class RenderGlobal implements IWorldAccess, IResourceManagerReloadListene
 
     public void func_174976_a(float p_174976_1_, int p_174976_2_)
     {
-        if (this.mc.theWorld.provider.getDimensionId() == 1)
+        if (this.mc.world.provider.getDimensionId() == 1)
         {
             this.func_180448_r();
         }
-        else if (this.mc.theWorld.provider.isSurfaceWorld())
+        else if (this.mc.world.provider.isSurfaceWorld())
         {
             GlStateManager.func_179090_x();
             Vec3 var3 = this.theWorld.getSkyColor(this.mc.func_175606_aa(), p_174976_1_);
@@ -1271,10 +1283,10 @@ public class RenderGlobal implements IWorldAccess, IResourceManagerReloadListene
                 }
 
                 var24.startDrawing(6);
-                var24.func_178960_a(var10, var11, var12, var25[3]);
+                var24.setColorRGBA_F(var10, var11, var12, var25[3]);
                 var24.addVertex(0.0D, 100.0D, 0.0D);
                 boolean var27 = true;
-                var24.func_178960_a(var25[0], var25[1], var25[2], 0.0F);
+                var24.setColorRGBA_F(var25[0], var25[1], var25[2], 0.0F);
 
                 for (int var28 = 0; var28 <= 16; ++var28)
                 {
@@ -1352,7 +1364,7 @@ public class RenderGlobal implements IWorldAccess, IResourceManagerReloadListene
             GlStateManager.popMatrix();
             GlStateManager.func_179090_x();
             GlStateManager.color(0.0F, 0.0F, 0.0F);
-            double var26 = this.mc.thePlayer.func_174824_e(p_174976_1_).yCoord - this.theWorld.getHorizon();
+            double var26 = this.mc.player.func_174824_e(p_174976_1_).yCoord - this.theWorld.getHorizon();
 
             if (var26 < 0.0D)
             {
@@ -1378,7 +1390,7 @@ public class RenderGlobal implements IWorldAccess, IResourceManagerReloadListene
                 var13 = -((float)(var26 + 65.0D));
                 var14 = -1.0F;
                 var24.startDrawingQuads();
-                var24.func_178974_a(0, 255);
+                var24.setColorRGBA_I(0, 255);
                 var24.addVertex(-1.0D, (double)var13, 1.0D);
                 var24.addVertex(1.0D, (double)var13, 1.0D);
                 var24.addVertex(1.0D, -1.0D, 1.0D);
@@ -1422,7 +1434,7 @@ public class RenderGlobal implements IWorldAccess, IResourceManagerReloadListene
 
     public void func_180447_b(float p_180447_1_, int p_180447_2_)
     {
-        if (this.mc.theWorld.provider.isSurfaceWorld())
+        if (this.mc.world.provider.isSurfaceWorld())
         {
             if (this.mc.gameSettings.fancyGraphics)
             {
@@ -1467,7 +1479,7 @@ public class RenderGlobal implements IWorldAccess, IResourceManagerReloadListene
                 float var22 = (float)(var15 * 4.8828125E-4D);
                 float var23 = (float)(var17 * 4.8828125E-4D);
                 var7.startDrawingQuads();
-                var7.func_178960_a(var9, var10, var11, 0.8F);
+                var7.setColorRGBA_F(var9, var10, var11, 0.8F);
 
                 for (int var24 = -256; var24 < 256; var24 += 32)
                 {
@@ -1578,7 +1590,7 @@ public class RenderGlobal implements IWorldAccess, IResourceManagerReloadListene
 
                     if (var14 > -5.0F)
                     {
-                        var5.func_178960_a(var18 * 0.7F, var19 * 0.7F, var20 * 0.7F, 0.8F);
+                        var5.setColorRGBA_F(var18 * 0.7F, var19 * 0.7F, var20 * 0.7F, 0.8F);
                         var5.func_178980_d(0.0F, -1.0F, 0.0F);
                         var5.addVertexWithUV((double)(var34 + 0.0F), (double)(var14 + 0.0F), (double)(var35 + 8.0F), (double)((var32 + 0.0F) * 0.00390625F + var22), (double)((var33 + 8.0F) * 0.00390625F + var23));
                         var5.addVertexWithUV((double)(var34 + 8.0F), (double)(var14 + 0.0F), (double)(var35 + 8.0F), (double)((var32 + 8.0F) * 0.00390625F + var22), (double)((var33 + 8.0F) * 0.00390625F + var23));
@@ -1588,7 +1600,7 @@ public class RenderGlobal implements IWorldAccess, IResourceManagerReloadListene
 
                     if (var14 <= 5.0F)
                     {
-                        var5.func_178960_a(var18, var19, var20, 0.8F);
+                        var5.setColorRGBA_F(var18, var19, var20, 0.8F);
                         var5.func_178980_d(0.0F, 1.0F, 0.0F);
                         var5.addVertexWithUV((double)(var34 + 0.0F), (double)(var14 + 4.0F - 9.765625E-4F), (double)(var35 + 8.0F), (double)((var32 + 0.0F) * 0.00390625F + var22), (double)((var33 + 8.0F) * 0.00390625F + var23));
                         var5.addVertexWithUV((double)(var34 + 8.0F), (double)(var14 + 4.0F - 9.765625E-4F), (double)(var35 + 8.0F), (double)((var32 + 8.0F) * 0.00390625F + var22), (double)((var33 + 8.0F) * 0.00390625F + var23));
@@ -1596,7 +1608,7 @@ public class RenderGlobal implements IWorldAccess, IResourceManagerReloadListene
                         var5.addVertexWithUV((double)(var34 + 0.0F), (double)(var14 + 4.0F - 9.765625E-4F), (double)(var35 + 0.0F), (double)((var32 + 0.0F) * 0.00390625F + var22), (double)((var33 + 0.0F) * 0.00390625F + var23));
                     }
 
-                    var5.func_178960_a(var18 * 0.9F, var19 * 0.9F, var20 * 0.9F, 0.8F);
+                    var5.setColorRGBA_F(var18 * 0.9F, var19 * 0.9F, var20 * 0.9F, 0.8F);
                     int var36;
 
                     if (var30 > -1)
@@ -1625,7 +1637,7 @@ public class RenderGlobal implements IWorldAccess, IResourceManagerReloadListene
                         }
                     }
 
-                    var5.func_178960_a(var18 * 0.8F, var19 * 0.8F, var20 * 0.8F, 0.8F);
+                    var5.setColorRGBA_F(var18 * 0.8F, var19 * 0.8F, var20 * 0.8F, 0.8F);
 
                     if (var31 > -1)
                     {
@@ -1893,7 +1905,7 @@ public class RenderGlobal implements IWorldAccess, IResourceManagerReloadListene
             GlStateManager.func_179090_x();
             GlStateManager.depthMask(false);
             float var5 = 0.002F;
-            BlockPos var6 = p_72731_2_.func_178782_a();
+            BlockPos var6 = p_72731_2_.getBlockPos();
             Block var7 = this.theWorld.getBlockState(var6).getBlock();
 
             if (var7.getMaterial() != Material.air && this.theWorld.getWorldBorder().contains(var6))
@@ -1922,7 +1934,7 @@ public class RenderGlobal implements IWorldAccess, IResourceManagerReloadListene
 
         if (p_147590_1_ != -1)
         {
-            var3.func_178991_c(p_147590_1_);
+            var3.setColorOpaque_I(p_147590_1_);
         }
 
         var3.addVertex(p_147590_0_.minX, p_147590_0_.minY, p_147590_0_.minZ);
@@ -1935,7 +1947,7 @@ public class RenderGlobal implements IWorldAccess, IResourceManagerReloadListene
 
         if (p_147590_1_ != -1)
         {
-            var3.func_178991_c(p_147590_1_);
+            var3.setColorOpaque_I(p_147590_1_);
         }
 
         var3.addVertex(p_147590_0_.minX, p_147590_0_.maxY, p_147590_0_.minZ);
@@ -1948,7 +1960,7 @@ public class RenderGlobal implements IWorldAccess, IResourceManagerReloadListene
 
         if (p_147590_1_ != -1)
         {
-            var3.func_178991_c(p_147590_1_);
+            var3.setColorOpaque_I(p_147590_1_);
         }
 
         var3.addVertex(p_147590_0_.minX, p_147590_0_.minY, p_147590_0_.minZ);
diff --git a/net/minecraft/client/renderer/ThreadDownloadImageData.java b/net/minecraft/client/renderer/ThreadDownloadImageData.java
index 2183c8e..9d3d3f8 100644
--- a/net/minecraft/client/renderer/ThreadDownloadImageData.java
+++ b/net/minecraft/client/renderer/ThreadDownloadImageData.java
@@ -121,8 +121,11 @@ public class ThreadDownloadImageData extends SimpleTexture
                     var1.setDoOutput(false);
                     var1.connect();
 
-                    if (var1.getResponseCode() / 100 == 2)
+                    if (var1.getResponseCode() / 100 != 2)
                     {
+                        return;
+                    }
+
                         BufferedImage var2;
 
                         if (ThreadDownloadImageData.this.field_152434_e != null)
@@ -141,13 +144,10 @@ public class ThreadDownloadImageData extends SimpleTexture
                         }
 
                         ThreadDownloadImageData.this.setBufferedImage(var2);
-                        return;
-                    }
                 }
                 catch (Exception var6)
                 {
                     ThreadDownloadImageData.logger.error("Couldn\'t download http texture", var6);
-                    return;
                 }
                 finally
                 {
diff --git a/net/minecraft/client/renderer/WorldRenderer.java b/net/minecraft/client/renderer/WorldRenderer.java
index 424e690..777100f 100644
--- a/net/minecraft/client/renderer/WorldRenderer.java
+++ b/net/minecraft/client/renderer/WorldRenderer.java
@@ -7,12 +7,15 @@ import java.nio.IntBuffer;
 import java.util.Iterator;
 import java.util.List;
 import java.util.PriorityQueue;
+
 import net.minecraft.client.renderer.vertex.VertexFormat;
 import net.minecraft.client.renderer.vertex.VertexFormatElement;
 import net.minecraft.client.util.QuadComparator;
 import net.minecraft.util.MathHelper;
+
 import org.apache.logging.log4j.LogManager;
 
+
 public class WorldRenderer
 {
     private ByteBuffer byteBuffer;
@@ -152,22 +155,19 @@ public class WorldRenderer
         this.field_178996_g = p_178963_1_;
     }
 
-    public void func_178986_b(float p_178986_1_, float p_178986_2_, float p_178986_3_)
+    public void setColorOpaque_F(float red, float blue, float green)
     {
-        this.setPosition((int)(p_178986_1_ * 255.0F), (int)(p_178986_2_ * 255.0F), (int)(p_178986_3_ * 255.0F));
+        this.setColorOpaque((int)(red * 255.0F), (int)(blue * 255.0F), (int)(green * 255.0F));
     }
 
-    public void func_178960_a(float p_178960_1_, float p_178960_2_, float p_178960_3_, float p_178960_4_)
+    public void setColorRGBA_F(float red, float blue, float green, float alpha)
     {
-        this.func_178961_b((int)(p_178960_1_ * 255.0F), (int)(p_178960_2_ * 255.0F), (int)(p_178960_3_ * 255.0F), (int)(p_178960_4_ * 255.0F));
+        this.setColorRGBA((int)(red * 255.0F), (int)(blue * 255.0F), (int)(green * 255.0F), (int)(alpha * 255.0F));
     }
 
-    /**
-     * Sets a new position for the renderer and setting it up so it can be reloaded with the new data for that position
-     */
-    public void setPosition(int p_78913_1_, int p_78913_2_, int p_78913_3_)
+    public void setColorOpaque(int red, int blue, int green)
     {
-        this.func_178961_b(p_78913_1_, p_78913_2_, p_78913_3_, 255);
+        this.setColorRGBA(red, blue, green, 255);
     }
 
     public void func_178962_a(int p_178962_1_, int p_178962_2_, int p_178962_3_, int p_178962_4_)
@@ -273,48 +273,48 @@ public class WorldRenderer
         }
     }
 
-    public void func_178961_b(int p_178961_1_, int p_178961_2_, int p_178961_3_, int p_178961_4_)
+    public void setColorRGBA(int red, int blue, int green, int alpha)
     {
         if (!this.needsUpdate)
         {
-            if (p_178961_1_ > 255)
+            if (red > 255)
             {
-                p_178961_1_ = 255;
+                red = 255;
             }
 
-            if (p_178961_2_ > 255)
+            if (blue > 255)
             {
-                p_178961_2_ = 255;
+                blue = 255;
             }
 
-            if (p_178961_3_ > 255)
+            if (green > 255)
             {
-                p_178961_3_ = 255;
+                green = 255;
             }
 
-            if (p_178961_4_ > 255)
+            if (alpha > 255)
             {
-                p_178961_4_ = 255;
+                alpha = 255;
             }
 
-            if (p_178961_1_ < 0)
+            if (red < 0)
             {
-                p_178961_1_ = 0;
+                red = 0;
             }
 
-            if (p_178961_2_ < 0)
+            if (blue < 0)
             {
-                p_178961_2_ = 0;
+                blue = 0;
             }
 
-            if (p_178961_3_ < 0)
+            if (green < 0)
             {
-                p_178961_3_ = 0;
+                green = 0;
             }
 
-            if (p_178961_4_ < 0)
+            if (alpha < 0)
             {
-                p_178961_4_ = 0;
+                alpha = 0;
             }
 
             if (!this.vertexFormat.func_177346_d())
@@ -325,18 +325,18 @@ public class WorldRenderer
 
             if (ByteOrder.nativeOrder() == ByteOrder.LITTLE_ENDIAN)
             {
-                this.field_179007_h = p_178961_4_ << 24 | p_178961_3_ << 16 | p_178961_2_ << 8 | p_178961_1_;
+                this.field_179007_h = alpha << 24 | green << 16 | blue << 8 | red;
             }
             else
             {
-                this.field_179007_h = p_178961_1_ << 24 | p_178961_2_ << 16 | p_178961_3_ << 8 | p_178961_4_;
+                this.field_179007_h = red << 24 | blue << 16 | green << 8 | alpha;
             }
         }
     }
 
-    public void func_178982_a(byte p_178982_1_, byte p_178982_2_, byte p_178982_3_)
+    public void setColorOpaque_B(byte red, byte blue, byte green)
     {
-        this.setPosition(p_178982_1_ & 255, p_178982_2_ & 255, p_178982_3_ & 255);
+        this.setColorOpaque(red & 255, blue & 255, green & 255);
     }
 
     public void addVertexWithUV(double p_178985_1_, double p_178985_3_, double p_178985_5_, double p_178985_7_, double p_178985_9_)
@@ -409,20 +409,20 @@ public class WorldRenderer
         ++this.vertexCount;
     }
 
-    public void func_178991_c(int p_178991_1_)
+    public void setColorOpaque_I(int rgb)
     {
-        int var2 = p_178991_1_ >> 16 & 255;
-        int var3 = p_178991_1_ >> 8 & 255;
-        int var4 = p_178991_1_ & 255;
-        this.setPosition(var2, var3, var4);
+        int red = rgb >> 16 & 255;
+        int blue = rgb >> 8 & 255;
+        int green = rgb & 255;
+        this.setColorOpaque(red, blue, green);
     }
 
-    public void func_178974_a(int p_178974_1_, int p_178974_2_)
+    public void setColorRGBA_I(int rgb, int alpha)
     {
-        int var3 = p_178974_1_ >> 16 & 255;
-        int var4 = p_178974_1_ >> 8 & 255;
-        int var5 = p_178974_1_ & 255;
-        this.func_178961_b(var3, var4, var5, p_178974_2_);
+        int red = rgb >> 16 & 255;
+        int blue = rgb >> 8 & 255;
+        int green = rgb & 255;
+        this.setColorRGBA(red, blue, green, alpha);
     }
 
     /**
diff --git a/net/minecraft/client/renderer/chunk/ChunkRenderWorker.java b/net/minecraft/client/renderer/chunk/ChunkRenderWorker.java
index 29f19e1..448c142 100644
--- a/net/minecraft/client/renderer/chunk/ChunkRenderWorker.java
+++ b/net/minecraft/client/renderer/chunk/ChunkRenderWorker.java
@@ -4,14 +4,17 @@ import com.google.common.collect.Lists;
 import com.google.common.util.concurrent.FutureCallback;
 import com.google.common.util.concurrent.Futures;
 import com.google.common.util.concurrent.ListenableFuture;
+
 import java.util.ArrayList;
 import java.util.List;
 import java.util.concurrent.CancellationException;
+
 import net.minecraft.client.Minecraft;
 import net.minecraft.client.renderer.RegionRenderCacheBuilder;
 import net.minecraft.crash.CrashReport;
 import net.minecraft.entity.Entity;
 import net.minecraft.util.EnumWorldBlockLayer;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 
diff --git a/net/minecraft/client/renderer/chunk/VisGraph.java b/net/minecraft/client/renderer/chunk/VisGraph.java
index 7508484..e2f3260 100644
--- a/net/minecraft/client/renderer/chunk/VisGraph.java
+++ b/net/minecraft/client/renderer/chunk/VisGraph.java
@@ -20,7 +20,9 @@ public class VisGraph
 
     public void func_178606_a(BlockPos p_178606_1_)
     {
-        this.field_178612_d.set(func_178608_c(p_178606_1_), true);
+    	//TODO: Client
+        //this.field_178612_d.set(func_178608_c(p_178606_1_), true);
+    	
         --this.field_178611_f;
     }
 
diff --git a/net/minecraft/client/renderer/entity/Render.java b/net/minecraft/client/renderer/entity/Render.java
index e756669..95895e8 100644
--- a/net/minecraft/client/renderer/entity/Render.java
+++ b/net/minecraft/client/renderer/entity/Render.java
@@ -1,6 +1,7 @@
 package net.minecraft.client.renderer.entity;
 
 import java.util.Iterator;
+
 import net.minecraft.block.Block;
 import net.minecraft.client.Minecraft;
 import net.minecraft.client.gui.FontRenderer;
@@ -12,14 +13,20 @@ import net.minecraft.client.renderer.texture.TextureAtlasSprite;
 import net.minecraft.client.renderer.texture.TextureMap;
 import net.minecraft.entity.Entity;
 import net.minecraft.entity.EntityLiving;
+import net.minecraft.entity.EntityLivingBase;
 import net.minecraft.entity.player.EntityPlayer;
 import net.minecraft.util.AxisAlignedBB;
 import net.minecraft.util.BlockPos;
 import net.minecraft.util.MathHelper;
 import net.minecraft.util.ResourceLocation;
 import net.minecraft.world.World;
+
 import org.lwjgl.opengl.GL11;
 
+import tk.wurst_client.WurstClient;
+import tk.wurst_client.features.mods.HealthTagsMod;
+import tk.wurst_client.features.mods.NameTagsMod;
+
 public abstract class Render
 {
     private static final ResourceLocation shadowTextures = new ResourceLocation("textures/misc/shadow.png");
@@ -198,7 +205,7 @@ public abstract class Render
         while (var32.hasNext())
         {
             BlockPos var33 = (BlockPos)var32.next();
-            Block var34 = var10.getBlockState(var33.offsetDown()).getBlock();
+            Block var34 = var10.getBlockState(var33.down()).getBlock();
 
             if (var34.getRenderType() != -1 && var10.getLightFromNeighbors(var33) > 3)
             {
@@ -235,7 +242,7 @@ public abstract class Render
                     var19 = 1.0D;
                 }
 
-                var18.func_178960_a(1.0F, 1.0F, 1.0F, (float)var19);
+                var18.setColorRGBA_F(1.0F, 1.0F, 1.0F, (float)var19);
                 double var21 = (double)p_180549_8_.getX() + p_180549_1_.getBlockBoundsMinX() + p_180549_11_;
                 double var23 = (double)p_180549_8_.getX() + p_180549_1_.getBlockBoundsMaxX() + p_180549_11_;
                 double var25 = (double)p_180549_8_.getY() + p_180549_1_.getBlockBoundsMinY() + p_180549_13_ + 0.015625D;
@@ -317,7 +324,7 @@ public abstract class Render
                 }
             }
 
-            if (p_76979_1_.canRenderOnFire() && (!(p_76979_1_ instanceof EntityPlayer) || !((EntityPlayer)p_76979_1_).func_175149_v()))
+            if (p_76979_1_.canRenderOnFire() && (!(p_76979_1_ instanceof EntityPlayer) || !((EntityPlayer)p_76979_1_).isSpectator()))
             {
                 this.renderEntityOnFire(p_76979_1_, p_76979_2_, p_76979_4_, p_76979_6_, p_76979_9_);
             }
@@ -343,7 +350,27 @@ public abstract class Render
         {
             FontRenderer var12 = this.getFontRendererFromRenderManager();
             float var13 = 1.6F;
-            float var14 = 0.016666668F * var13;
+            
+			// TODO: Client
+			boolean nameTagsActive =
+				WurstClient.INSTANCE.mods.nameTagsMod.isActive();
+			float var14 =
+				0.016666668F
+					* var13
+					* (p_147906_1_
+						.getDistanceToEntity(this.renderManager.livingPlayer) > 10
+						&& nameTagsActive
+						? p_147906_1_
+							.getDistanceToEntity(this.renderManager.livingPlayer) / 10
+						: 1);
+			var14 *=
+				(nameTagsActive
+					? (p_147906_1_.boundingBox.getAverageEdgeLength() > -50
+						? 1
+						: p_147906_1_
+							.getDistanceToEntity(this.renderManager.livingPlayer) / 300)
+					: 1);
+            
             GlStateManager.pushMatrix();
             GlStateManager.translate((float)p_147906_3_ + 0.0F, (float)p_147906_5_ + p_147906_1_.height + 0.5F, (float)p_147906_7_);
             GL11.glNormal3f(0.0F, 1.0F, 0.0F);
@@ -364,10 +391,32 @@ public abstract class Render
                 var17 = -10;
             }
 
+			// TODO: Client
+			if(WurstClient.INSTANCE.friends.contains(p_147906_1_.getName()))
+				p_147906_2_ =
+					"2"
+						+ (p_147906_2_.startsWith("") ? p_147906_2_
+							.substring(2) : p_147906_2_);
+			if(p_147906_1_ instanceof EntityLivingBase
+				&& WurstClient.INSTANCE.mods.healthTagsMod.isActive())
+			{
+				p_147906_2_ += " ";
+				int health = (int)((EntityLivingBase)p_147906_1_).getHealth();
+				if(health <= 5)
+					p_147906_2_ += "4";
+				else if(health <= 10)
+					p_147906_2_ += "6";
+				else if(health <= 15)
+					p_147906_2_ += "e";
+				else if(health <= 20)
+					p_147906_2_ += "a";
+				p_147906_2_ += health;
+			}
+            
             GlStateManager.func_179090_x();
             var16.startDrawingQuads();
             int var18 = var12.getStringWidth(p_147906_2_) / 2;
-            var16.func_178960_a(0.0F, 0.0F, 0.0F, 0.25F);
+            var16.setColorRGBA_F(0.0F, 0.0F, 0.0F, 0.25F);
             var16.addVertex((double)(-var18 - 1), (double)(-1 + var17), 0.0D);
             var16.addVertex((double)(-var18 - 1), (double)(8 + var17), 0.0D);
             var16.addVertex((double)(var18 + 1), (double)(8 + var17), 0.0D);
diff --git a/net/minecraft/client/renderer/entity/RenderDragon.java b/net/minecraft/client/renderer/entity/RenderDragon.java
index 689b2cc..bba85f9 100644
--- a/net/minecraft/client/renderer/entity/RenderDragon.java
+++ b/net/minecraft/client/renderer/entity/RenderDragon.java
@@ -136,9 +136,9 @@ public class RenderDragon extends RenderLiving
             float var22 = MathHelper.sin((float)(var21 % var20) * (float)Math.PI * 2.0F / (float)var20) * 0.75F;
             float var23 = MathHelper.cos((float)(var21 % var20) * (float)Math.PI * 2.0F / (float)var20) * 0.75F;
             float var24 = (float)(var21 % var20) * 1.0F / (float)var20;
-            var17.func_178991_c(0);
+            var17.setColorOpaque_I(0);
             var17.addVertexWithUV((double)(var22 * 0.2F), (double)(var23 * 0.2F), 0.0D, (double)var24, (double)var19);
-            var17.func_178991_c(16777215);
+            var17.setColorOpaque_I(16777215);
             var17.addVertexWithUV((double)var22, (double)var23, (double)var15, (double)var24, (double)var18);
         }
 
diff --git a/net/minecraft/client/renderer/entity/RenderFallingBlock.java b/net/minecraft/client/renderer/entity/RenderFallingBlock.java
index b6569da..fae5416 100644
--- a/net/minecraft/client/renderer/entity/RenderFallingBlock.java
+++ b/net/minecraft/client/renderer/entity/RenderFallingBlock.java
@@ -1,5 +1,7 @@
 package net.minecraft.client.renderer.entity;
 
+import tk.wurst_client.WurstClient;
+import tk.wurst_client.features.mods.ProphuntEspMod;
 import net.minecraft.block.Block;
 import net.minecraft.block.state.IBlockState;
 import net.minecraft.client.Minecraft;
@@ -28,8 +30,11 @@ public class RenderFallingBlock extends Render
 
     public void doRender(EntityFallingBlock p_180557_1_, double p_180557_2_, double p_180557_4_, double p_180557_6_, float p_180557_8_, float p_180557_9_)
     {
-        if (p_180557_1_.getBlock() != null)
+		// TODO: Client
+		if(p_180557_1_.getBlock() != null
+			&& !WurstClient.INSTANCE.mods.prophuntEspMod.isActive())
         {
+        	
             this.bindTexture(TextureMap.locationBlocksTexture);
             IBlockState var10 = p_180557_1_.getBlock();
             Block var11 = var10.getBlock();
diff --git a/net/minecraft/client/renderer/entity/RenderFish.java b/net/minecraft/client/renderer/entity/RenderFish.java
index d1b8265..a5b48b1 100644
--- a/net/minecraft/client/renderer/entity/RenderFish.java
+++ b/net/minecraft/client/renderer/entity/RenderFish.java
@@ -64,7 +64,7 @@ public class RenderFish extends Render
             double var28 = p_180558_1_.angler.prevPosZ + (p_180558_1_.angler.posZ - p_180558_1_.angler.prevPosZ) * (double)p_180558_9_ + var23.zCoord;
             double var30 = (double)p_180558_1_.angler.getEyeHeight();
 
-            if (this.renderManager.options != null && this.renderManager.options.thirdPersonView > 0 || p_180558_1_.angler != Minecraft.getMinecraft().thePlayer)
+            if (this.renderManager.options != null && this.renderManager.options.thirdPersonView > 0 || p_180558_1_.angler != Minecraft.getMinecraft().player)
             {
                 float var32 = (p_180558_1_.angler.prevRenderYawOffset + (p_180558_1_.angler.renderYawOffset - p_180558_1_.angler.prevRenderYawOffset) * p_180558_9_) * (float)Math.PI / 180.0F;
                 double var33 = (double)MathHelper.sin(var32);
@@ -86,7 +86,7 @@ public class RenderFish extends Render
             GlStateManager.func_179090_x();
             GlStateManager.disableLighting();
             var11.startDrawing(3);
-            var11.func_178991_c(0);
+            var11.setColorOpaque_I(0);
             byte var44 = 16;
 
             for (int var45 = 0; var45 <= var44; ++var45)
diff --git a/net/minecraft/client/renderer/entity/RenderGuardian.java b/net/minecraft/client/renderer/entity/RenderGuardian.java
index ef1550c..c103f1d 100644
--- a/net/minecraft/client/renderer/entity/RenderGuardian.java
+++ b/net/minecraft/client/renderer/entity/RenderGuardian.java
@@ -109,7 +109,7 @@ public class RenderGuardian extends RenderLiving
             double var26 = (double)var15 * 0.05D * (1.0D - (double)(var25 & 1) * 2.5D);
             var13.startDrawingQuads();
             float var28 = var11 * var11;
-            var13.func_178961_b(64 + (int)(var28 * 240.0F), 32 + (int)(var28 * 192.0F), 128 - (int)(var28 * 64.0F), 255);
+            var13.setColorRGBA(64 + (int)(var28 * 240.0F), 32 + (int)(var28 * 192.0F), 128 - (int)(var28 * 64.0F), 255);
             double var29 = (double)var25 * 0.2D;
             double var31 = var29 * 1.41D;
             double var33 = 0.0D + Math.cos(var26 + 2.356194490192345D) * var31;
diff --git a/net/minecraft/client/renderer/entity/RenderItem.java b/net/minecraft/client/renderer/entity/RenderItem.java
index 3da61f1..270ffed 100644
--- a/net/minecraft/client/renderer/entity/RenderItem.java
+++ b/net/minecraft/client/renderer/entity/RenderItem.java
@@ -3,6 +3,7 @@ package net.minecraft.client.renderer.entity;
 import java.util.Iterator;
 import java.util.List;
 import java.util.concurrent.Callable;
+
 import net.minecraft.block.Block;
 import net.minecraft.block.BlockDirt;
 import net.minecraft.block.BlockDoublePlant;
@@ -67,7 +68,7 @@ public class RenderItem implements IResourceManagerReloadListener
     /** Defines the zLevel of rendering of item on GUI. */
     public float zLevel;
     private final ItemModelMesher itemModelMesher;
-    private final TextureManager field_175057_n;
+    private final TextureManager textureManager;
     public static float field_175055_b = 0.0F;
     public static float field_175056_c = 0.0F;
     public static float field_175053_d = 0.0F;
@@ -81,7 +82,7 @@ public class RenderItem implements IResourceManagerReloadListener
 
     public RenderItem(TextureManager p_i46165_1_, ModelManager p_i46165_2_)
     {
-        this.field_175057_n = p_i46165_1_;
+        this.textureManager = p_i46165_1_;
         this.itemModelMesher = new ItemModelMesher(p_i46165_2_);
         this.registerItems();
     }
@@ -178,7 +179,7 @@ public class RenderItem implements IResourceManagerReloadListener
         GlStateManager.depthFunc(514);
         GlStateManager.disableLighting();
         GlStateManager.blendFunc(768, 1);
-        this.field_175057_n.bindTexture(RES_ITEM_GLINT);
+        this.textureManager.bindTexture(RES_ITEM_GLINT);
         GlStateManager.matrixMode(5890);
         GlStateManager.pushMatrix();
         GlStateManager.scale(8.0F, 8.0F, 8.0F);
@@ -199,7 +200,7 @@ public class RenderItem implements IResourceManagerReloadListener
         GlStateManager.enableLighting();
         GlStateManager.depthFunc(515);
         GlStateManager.depthMask(true);
-        this.field_175057_n.bindTexture(TextureMap.locationBlocksTexture);
+        this.textureManager.bindTexture(TextureMap.locationBlocksTexture);
     }
 
     private void func_175038_a(WorldRenderer p_175038_1_, BakedQuad p_175038_2_)
@@ -325,8 +326,8 @@ public class RenderItem implements IResourceManagerReloadListener
 
     protected void func_175040_a(ItemStack p_175040_1_, IBakedModel p_175040_2_, ItemCameraTransforms.TransformType p_175040_3_)
     {
-        this.field_175057_n.bindTexture(TextureMap.locationBlocksTexture);
-        this.field_175057_n.getTexture(TextureMap.locationBlocksTexture).func_174936_b(false, false);
+        this.textureManager.bindTexture(TextureMap.locationBlocksTexture);
+        this.textureManager.getTexture(TextureMap.locationBlocksTexture).func_174936_b(false, false);
         this.func_175046_c(p_175040_1_);
         GlStateManager.enableRescaleNormal();
         GlStateManager.alphaFunc(516, 0.1F);
@@ -360,31 +361,31 @@ public class RenderItem implements IResourceManagerReloadListener
         GlStateManager.popMatrix();
         GlStateManager.disableRescaleNormal();
         GlStateManager.disableBlend();
-        this.field_175057_n.bindTexture(TextureMap.locationBlocksTexture);
-        this.field_175057_n.getTexture(TextureMap.locationBlocksTexture).func_174935_a();
+        this.textureManager.bindTexture(TextureMap.locationBlocksTexture);
+        this.textureManager.getTexture(TextureMap.locationBlocksTexture).func_174935_a();
     }
 
-    public void func_175042_a(ItemStack p_175042_1_, int p_175042_2_, int p_175042_3_)
+    public void func_180450_b(ItemStack itemStack, int x, int y)
     {
-        IBakedModel var4 = this.itemModelMesher.getItemModel(p_175042_1_);
+        IBakedModel bakedModel = this.itemModelMesher.getItemModel(itemStack);
         GlStateManager.pushMatrix();
-        this.field_175057_n.bindTexture(TextureMap.locationBlocksTexture);
-        this.field_175057_n.getTexture(TextureMap.locationBlocksTexture).func_174936_b(false, false);
+        this.textureManager.bindTexture(TextureMap.locationBlocksTexture);
+        this.textureManager.getTexture(TextureMap.locationBlocksTexture).func_174936_b(false, false);
         GlStateManager.enableRescaleNormal();
         GlStateManager.enableAlpha();
         GlStateManager.alphaFunc(516, 0.1F);
         GlStateManager.enableBlend();
         GlStateManager.blendFunc(770, 771);
         GlStateManager.color(1.0F, 1.0F, 1.0F, 1.0F);
-        this.func_180452_a(p_175042_2_, p_175042_3_, var4.isAmbientOcclusionEnabled());
-        this.func_175034_a(var4.getItemCameraTransforms().field_178354_e);
-        this.func_180454_a(p_175042_1_, var4);
+        this.func_180452_a(x, y, bakedModel.isAmbientOcclusionEnabled());
+        this.func_175034_a(bakedModel.getItemCameraTransforms().field_178354_e);
+        this.func_180454_a(itemStack, bakedModel);
         GlStateManager.disableAlpha();
         GlStateManager.disableRescaleNormal();
         GlStateManager.disableLighting();
         GlStateManager.popMatrix();
-        this.field_175057_n.bindTexture(TextureMap.locationBlocksTexture);
-        this.field_175057_n.getTexture(TextureMap.locationBlocksTexture).func_174935_a();
+        this.textureManager.bindTexture(TextureMap.locationBlocksTexture);
+        this.textureManager.getTexture(TextureMap.locationBlocksTexture).func_174935_a();
     }
 
     private void func_180452_a(int p_180452_1_, int p_180452_2_, boolean p_180452_3_)
@@ -409,7 +410,8 @@ public class RenderItem implements IResourceManagerReloadListener
         }
     }
 
-    public void func_180450_b(final ItemStack p_180450_1_, int p_180450_2_, int p_180450_3_)
+    //TODO: Client
+    public void renderItemAndEffectIntoGUI(final ItemStack p_180450_1_, int p_180450_2_, int p_180450_3_)
     {
         if (p_180450_1_ != null)
         {
@@ -417,7 +419,7 @@ public class RenderItem implements IResourceManagerReloadListener
 
             try
             {
-                this.func_175042_a(p_180450_1_, p_180450_2_, p_180450_3_);
+                this.func_180450_b(p_180450_1_, p_180450_2_, p_180450_3_);
             }
             catch (Throwable var7)
             {
@@ -483,7 +485,7 @@ public class RenderItem implements IResourceManagerReloadListener
                 GlStateManager.disableLighting();
                 GlStateManager.disableDepth();
                 GlStateManager.disableBlend();
-                p_180453_1_.func_175063_a(var6, (float)(p_180453_3_ + 19 - 2 - p_180453_1_.getStringWidth(var6)), (float)(p_180453_4_ + 6 + 3), 16777215);
+                p_180453_1_.drawStringWithShadow(var6, (float)(p_180453_3_ + 19 - 2 - p_180453_1_.getStringWidth(var6)), (float)(p_180453_4_ + 6 + 3), 16777215);
                 GlStateManager.enableLighting();
                 GlStateManager.enableDepth();
             }
@@ -516,7 +518,7 @@ public class RenderItem implements IResourceManagerReloadListener
     private void func_175044_a(WorldRenderer p_175044_1_, int p_175044_2_, int p_175044_3_, int p_175044_4_, int p_175044_5_, int p_175044_6_)
     {
         p_175044_1_.startDrawingQuads();
-        p_175044_1_.func_178991_c(p_175044_6_);
+        p_175044_1_.setColorOpaque_I(p_175044_6_);
         p_175044_1_.addVertex((double)(p_175044_2_ + 0), (double)(p_175044_3_ + 0), 0.0D);
         p_175044_1_.addVertex((double)(p_175044_2_ + 0), (double)(p_175044_3_ + p_175044_5_), 0.0D);
         p_175044_1_.addVertex((double)(p_175044_2_ + p_175044_4_), (double)(p_175044_3_ + p_175044_5_), 0.0D);
diff --git a/net/minecraft/client/renderer/entity/RenderLightningBolt.java b/net/minecraft/client/renderer/entity/RenderLightningBolt.java
index 4175a3f..ca01b20 100644
--- a/net/minecraft/client/renderer/entity/RenderLightningBolt.java
+++ b/net/minecraft/client/renderer/entity/RenderLightningBolt.java
@@ -85,7 +85,7 @@ public class RenderLightningBolt extends Render
 
                     var11.startDrawing(5);
                     float var32 = 0.5F;
-                    var11.func_178960_a(0.9F * var32, 0.9F * var32, 1.0F * var32, 0.3F);
+                    var11.setColorRGBA_F(0.9F * var32, 0.9F * var32, 1.0F * var32, 0.3F);
                     double var33 = 0.1D + (double)var46 * 0.2D;
 
                     if (var20 == 0)
diff --git a/net/minecraft/client/renderer/entity/RenderLiving.java b/net/minecraft/client/renderer/entity/RenderLiving.java
index 0aca592..4d5b95d 100644
--- a/net/minecraft/client/renderer/entity/RenderLiving.java
+++ b/net/minecraft/client/renderer/entity/RenderLiving.java
@@ -120,11 +120,11 @@ public abstract class RenderLiving extends RendererLivingEntity
             {
                 if (var48 % 2 == 0)
                 {
-                    var12.func_178960_a(0.5F, 0.4F, 0.3F, 1.0F);
+                    var12.setColorRGBA_F(0.5F, 0.4F, 0.3F, 1.0F);
                 }
                 else
                 {
-                    var12.func_178960_a(0.35F, 0.28F, 0.21000001F, 1.0F);
+                    var12.setColorRGBA_F(0.35F, 0.28F, 0.21000001F, 1.0F);
                 }
 
                 var49 = (float)var48 / 24.0F;
@@ -139,11 +139,11 @@ public abstract class RenderLiving extends RendererLivingEntity
             {
                 if (var48 % 2 == 0)
                 {
-                    var12.func_178960_a(0.5F, 0.4F, 0.3F, 1.0F);
+                    var12.setColorRGBA_F(0.5F, 0.4F, 0.3F, 1.0F);
                 }
                 else
                 {
-                    var12.func_178960_a(0.35F, 0.28F, 0.21000001F, 1.0F);
+                    var12.setColorRGBA_F(0.35F, 0.28F, 0.21000001F, 1.0F);
                 }
 
                 var49 = (float)var48 / 24.0F;
diff --git a/net/minecraft/client/renderer/entity/RenderManager.java b/net/minecraft/client/renderer/entity/RenderManager.java
index aec2cc5..7a7e5d1 100644
--- a/net/minecraft/client/renderer/entity/RenderManager.java
+++ b/net/minecraft/client/renderer/entity/RenderManager.java
@@ -1,7 +1,7 @@
 package net.minecraft.client.renderer.entity;
 
-import com.google.common.collect.Maps;
 import java.util.Map;
+
 import net.minecraft.block.Block;
 import net.minecraft.block.BlockBed;
 import net.minecraft.block.state.IBlockState;
@@ -100,18 +100,21 @@ import net.minecraft.util.ReportedException;
 import net.minecraft.util.Vec3;
 import net.minecraft.world.World;
 
+import com.google.common.collect.Maps;
+
 public class RenderManager
 {
     /** A map of entity classes and the associated renderer. */
     private Map entityRenderMap = Maps.newHashMap();
     private Map field_178636_l = Maps.newHashMap();
-    private RenderPlayer field_178637_m;
+    private RenderPlayer renderPlayer;
 
     /** Renders fonts */
+    //TODO: Client
     private FontRenderer textRenderer;
-    private double renderPosX;
-    private double renderPosY;
-    private double renderPosZ;
+    public double renderPosX;
+    public double renderPosY;
+    public double renderPosZ;
     public TextureManager renderEngine;
 
     /** Reference to the World object. */
@@ -197,8 +200,8 @@ public class RenderManager
         this.entityRenderMap.put(EntityFishHook.class, new RenderFish(this));
         this.entityRenderMap.put(EntityHorse.class, new RenderHorse(this, new ModelHorse(), 0.75F));
         this.entityRenderMap.put(EntityLightningBolt.class, new RenderLightningBolt(this));
-        this.field_178637_m = new RenderPlayer(this);
-        this.field_178636_l.put("default", this.field_178637_m);
+        this.renderPlayer = new RenderPlayer(this);
+        this.field_178636_l.put("default", this.renderPlayer);
         this.field_178636_l.put("slim", new RenderPlayer(this, true));
     }
 
@@ -228,7 +231,7 @@ public class RenderManager
         {
             String var2 = ((AbstractClientPlayer)p_78713_1_).func_175154_l();
             RenderPlayer var3 = (RenderPlayer)this.field_178636_l.get(var2);
-            return var3 != null ? var3 : this.field_178637_m;
+            return var3 != null ? var3 : this.renderPlayer;
         }
         else
         {
@@ -452,7 +455,7 @@ public class RenderManager
         WorldRenderer var14 = var16.getWorldRenderer();
         Vec3 var15 = p_85094_1_.getLook(p_85094_9_);
         var14.startDrawing(3);
-        var14.func_178991_c(255);
+        var14.setColorOpaque_I(255);
         var14.addVertex(p_85094_2_, p_85094_4_ + (double)p_85094_1_.getEyeHeight(), p_85094_6_);
         var14.addVertex(p_85094_2_ + var15.xCoord * 2.0D, p_85094_4_ + (double)p_85094_1_.getEyeHeight() + var15.yCoord * 2.0D, p_85094_6_ + var15.zCoord * 2.0D);
         var16.draw();
diff --git a/net/minecraft/client/renderer/entity/RenderPlayer.java b/net/minecraft/client/renderer/entity/RenderPlayer.java
index 1311949..b5233e6 100644
--- a/net/minecraft/client/renderer/entity/RenderPlayer.java
+++ b/net/minecraft/client/renderer/entity/RenderPlayer.java
@@ -1,5 +1,7 @@
 package net.minecraft.client.renderer.entity;
 
+import tk.wurst_client.WurstClient;
+import tk.wurst_client.features.mods.FreecamMod;
 import net.minecraft.client.entity.AbstractClientPlayer;
 import net.minecraft.client.entity.EntityPlayerSP;
 import net.minecraft.client.model.ModelBase;
@@ -68,8 +70,11 @@ public class RenderPlayer extends RendererLivingEntity
     {
         ModelPlayer var2 = this.func_177136_g();
 
-        if (p_177137_1_.func_175149_v())
+		// TODO: Client
+		if(!WurstClient.INSTANCE.mods.freecamMod.isActive()
+			&& p_177137_1_.isSpectator())
         {
+        	
             var2.func_178719_a(false);
             var2.bipedHead.showModel = true;
             var2.bipedHeadwear.showModel = true;
diff --git a/net/minecraft/client/renderer/entity/RenderXPOrb.java b/net/minecraft/client/renderer/entity/RenderXPOrb.java
index 31fd670..9aeef16 100644
--- a/net/minecraft/client/renderer/entity/RenderXPOrb.java
+++ b/net/minecraft/client/renderer/entity/RenderXPOrb.java
@@ -58,7 +58,7 @@ public class RenderXPOrb extends Render
         Tessellator var25 = Tessellator.getInstance();
         WorldRenderer var26 = var25.getWorldRenderer();
         var26.startDrawingQuads();
-        var26.func_178974_a(var23, 128);
+        var26.setColorRGBA_I(var23, 128);
         var26.func_178980_d(0.0F, 1.0F, 0.0F);
         var26.addVertexWithUV((double)(0.0F - var16), (double)(0.0F - var17), 0.0D, (double)var11, (double)var14);
         var26.addVertexWithUV((double)(var15 - var16), (double)(0.0F - var17), 0.0D, (double)var12, (double)var14);
diff --git a/net/minecraft/client/renderer/entity/RendererLivingEntity.java b/net/minecraft/client/renderer/entity/RendererLivingEntity.java
index 0bd5f10..f421e35 100644
--- a/net/minecraft/client/renderer/entity/RendererLivingEntity.java
+++ b/net/minecraft/client/renderer/entity/RendererLivingEntity.java
@@ -1,9 +1,11 @@
 package net.minecraft.client.renderer.entity;
 
 import com.google.common.collect.Lists;
+
 import java.nio.FloatBuffer;
 import java.util.Iterator;
 import java.util.List;
+
 import net.minecraft.client.Minecraft;
 import net.minecraft.client.entity.EntityPlayerSP;
 import net.minecraft.client.gui.FontRenderer;
@@ -23,10 +25,14 @@ import net.minecraft.scoreboard.ScorePlayerTeam;
 import net.minecraft.scoreboard.Team;
 import net.minecraft.util.EnumChatFormatting;
 import net.minecraft.util.MathHelper;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 import org.lwjgl.opengl.GL11;
 
+import tk.wurst_client.WurstClient;
+import tk.wurst_client.features.mods.TrueSightMod;
+
 public abstract class RendererLivingEntity extends Render
 {
     private static final Logger logger = LogManager.getLogger();
@@ -178,7 +184,7 @@ public abstract class RendererLivingEntity extends Render
 
                 GlStateManager.depthMask(true);
 
-                if (!(p_76986_1_ instanceof EntityPlayer) || !((EntityPlayer)p_76986_1_).func_175149_v())
+                if (!(p_76986_1_ instanceof EntityPlayer) || !((EntityPlayer)p_76986_1_).isSpectator())
                 {
                     this.func_177093_a(p_76986_1_, var17, var16, p_76986_9_, var14, var12, var20, 0.0625F);
                 }
@@ -217,7 +223,7 @@ public abstract class RendererLivingEntity extends Render
 
                 if (var4.length() >= 2)
                 {
-                    var2 = this.getFontRendererFromRenderManager().func_175064_b(var4.charAt(1));
+                    var2 = this.getFontRendererFromRenderManager().getColorCode(var4.charAt(1));
                 }
             }
         }
@@ -251,7 +257,13 @@ public abstract class RendererLivingEntity extends Render
     protected void renderModel(EntityLivingBase p_77036_1_, float p_77036_2_, float p_77036_3_, float p_77036_4_, float p_77036_5_, float p_77036_6_, float p_77036_7_)
     {
         boolean var8 = !p_77036_1_.isInvisible();
-        boolean var9 = !var8 && !p_77036_1_.isInvisibleToPlayer(Minecraft.getMinecraft().thePlayer);
+        
+		// TODO: Client
+		boolean var9 =
+			!var8
+				&& (!p_77036_1_
+					.isInvisibleToPlayer(Minecraft.getMinecraft().player) || WurstClient.INSTANCE.mods.trueSightMod
+					.isActive());
 
         if (var8 || var9)
         {
@@ -532,7 +544,7 @@ public abstract class RendererLivingEntity extends Render
                     WorldRenderer var15 = var14.getWorldRenderer();
                     var15.startDrawingQuads();
                     int var16 = var13.getStringWidth(var11) / 2;
-                    var15.func_178960_a(0.0F, 0.0F, 0.0F, 0.25F);
+                    var15.setColorRGBA_F(0.0F, 0.0F, 0.0F, 0.25F);
                     var15.addVertex((double)(-var16 - 1), -1.0D, 0.0D);
                     var15.addVertex((double)(-var16 - 1), 8.0D, 0.0D);
                     var15.addVertex((double)(var16 + 1), 8.0D, 0.0D);
@@ -559,7 +571,7 @@ public abstract class RendererLivingEntity extends Render
      */
     protected boolean canRenderName(EntityLivingBase targetEntity)
     {
-        EntityPlayerSP var2 = Minecraft.getMinecraft().thePlayer;
+        EntityPlayerSP var2 = Minecraft.getMinecraft().player;
 
         if (targetEntity instanceof EntityPlayer && targetEntity != var2)
         {
diff --git a/net/minecraft/client/renderer/entity/layers/LayerEnderDragonDeath.java b/net/minecraft/client/renderer/entity/layers/LayerEnderDragonDeath.java
index d4e344e..7d13e05 100644
--- a/net/minecraft/client/renderer/entity/layers/LayerEnderDragonDeath.java
+++ b/net/minecraft/client/renderer/entity/layers/LayerEnderDragonDeath.java
@@ -49,9 +49,9 @@ public class LayerEnderDragonDeath implements LayerRenderer
                 var10.startDrawing(6);
                 float var15 = var13.nextFloat() * 20.0F + 5.0F + var12 * 10.0F;
                 float var16 = var13.nextFloat() * 2.0F + 1.0F + var12 * 2.0F;
-                var10.func_178974_a(16777215, (int)(255.0F * (1.0F - var12)));
+                var10.setColorRGBA_I(16777215, (int)(255.0F * (1.0F - var12)));
                 var10.addVertex(0.0D, 0.0D, 0.0D);
-                var10.func_178974_a(16711935, 0);
+                var10.setColorRGBA_I(16711935, 0);
                 var10.addVertex(-0.866D * (double)var16, (double)var15, (double)(-0.5F * var16));
                 var10.addVertex(0.866D * (double)var16, (double)var15, (double)(-0.5F * var16));
                 var10.addVertex(0.0D, (double)var15, (double)(1.0F * var16));
diff --git a/net/minecraft/client/renderer/texture/TextureAtlasSprite.java b/net/minecraft/client/renderer/texture/TextureAtlasSprite.java
index 3355d8a..4270ef4 100644
--- a/net/minecraft/client/renderer/texture/TextureAtlasSprite.java
+++ b/net/minecraft/client/renderer/texture/TextureAtlasSprite.java
@@ -1,11 +1,13 @@
 package net.minecraft.client.renderer.texture;
 
 import com.google.common.collect.Lists;
+
 import java.awt.image.BufferedImage;
 import java.util.ArrayList;
 import java.util.Iterator;
 import java.util.List;
 import java.util.concurrent.Callable;
+
 import net.minecraft.client.resources.data.AnimationFrame;
 import net.minecraft.client.resources.data.AnimationMetadataSection;
 import net.minecraft.crash.CrashReport;
diff --git a/net/minecraft/client/renderer/texture/TextureClock.java b/net/minecraft/client/renderer/texture/TextureClock.java
index a9f7114..bbdedfe 100644
--- a/net/minecraft/client/renderer/texture/TextureClock.java
+++ b/net/minecraft/client/renderer/texture/TextureClock.java
@@ -21,12 +21,12 @@ public class TextureClock extends TextureAtlasSprite
             Minecraft var1 = Minecraft.getMinecraft();
             double var2 = 0.0D;
 
-            if (var1.theWorld != null && var1.thePlayer != null)
+            if (var1.world != null && var1.player != null)
             {
-                float var4 = var1.theWorld.getCelestialAngle(1.0F);
+                float var4 = var1.world.getCelestialAngle(1.0F);
                 var2 = (double)var4;
 
-                if (!var1.theWorld.provider.isSurfaceWorld())
+                if (!var1.world.provider.isSurfaceWorld())
                 {
                     var2 = Math.random();
                 }
diff --git a/net/minecraft/client/renderer/texture/TextureCompass.java b/net/minecraft/client/renderer/texture/TextureCompass.java
index 91aded9..9b179e2 100644
--- a/net/minecraft/client/renderer/texture/TextureCompass.java
+++ b/net/minecraft/client/renderer/texture/TextureCompass.java
@@ -25,9 +25,9 @@ public class TextureCompass extends TextureAtlasSprite
     {
         Minecraft var1 = Minecraft.getMinecraft();
 
-        if (var1.theWorld != null && var1.thePlayer != null)
+        if (var1.world != null && var1.player != null)
         {
-            this.updateCompass(var1.theWorld, var1.thePlayer.posX, var1.thePlayer.posZ, (double)var1.thePlayer.rotationYaw, false, false);
+            this.updateCompass(var1.world, var1.player.posX, var1.player.posZ, (double)var1.player.rotationYaw, false, false);
         }
         else
         {
diff --git a/net/minecraft/client/renderer/texture/TextureManager.java b/net/minecraft/client/renderer/texture/TextureManager.java
index 483b69c..8c03e9e 100644
--- a/net/minecraft/client/renderer/texture/TextureManager.java
+++ b/net/minecraft/client/renderer/texture/TextureManager.java
@@ -2,21 +2,26 @@ package net.minecraft.client.renderer.texture;
 
 import com.google.common.collect.Lists;
 import com.google.common.collect.Maps;
+
 import java.io.IOException;
 import java.util.Iterator;
 import java.util.List;
 import java.util.Map;
 import java.util.Map.Entry;
 import java.util.concurrent.Callable;
+
 import net.minecraft.client.resources.IResourceManager;
 import net.minecraft.client.resources.IResourceManagerReloadListener;
 import net.minecraft.crash.CrashReport;
 import net.minecraft.crash.CrashReportCategory;
 import net.minecraft.util.ReportedException;
 import net.minecraft.util.ResourceLocation;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 
+import tk.wurst_client.bot.WurstBot;
+
 public class TextureManager implements ITickable, IResourceManagerReloadListener
 {
     private static final Logger logger = LogManager.getLogger();
@@ -59,6 +64,12 @@ public class TextureManager implements ITickable, IResourceManagerReloadListener
 
     public boolean loadTexture(ResourceLocation p_110579_1_, final ITextureObject p_110579_2_)
     {
+    	//TODO: Client
+    	if(WurstBot.isEnabled())
+    	{
+    		this.mapTextureObjects.put(p_110579_1_, TextureUtil.missingTexture);
+    		return true;
+    	}
         boolean var3 = true;
         ITextureObject p_110579_2_2 = p_110579_2_;
 
diff --git a/net/minecraft/client/renderer/texture/TextureMap.java b/net/minecraft/client/renderer/texture/TextureMap.java
index a7aaeab..8247a11 100644
--- a/net/minecraft/client/renderer/texture/TextureMap.java
+++ b/net/minecraft/client/renderer/texture/TextureMap.java
@@ -2,6 +2,7 @@ package net.minecraft.client.renderer.texture;
 
 import com.google.common.collect.Lists;
 import com.google.common.collect.Maps;
+
 import java.awt.image.BufferedImage;
 import java.io.IOException;
 import java.util.HashMap;
@@ -10,6 +11,7 @@ import java.util.List;
 import java.util.Map;
 import java.util.Map.Entry;
 import java.util.concurrent.Callable;
+
 import net.minecraft.client.Minecraft;
 import net.minecraft.client.renderer.StitcherException;
 import net.minecraft.client.resources.IResource;
@@ -21,6 +23,7 @@ import net.minecraft.crash.CrashReportCategory;
 import net.minecraft.util.MathHelper;
 import net.minecraft.util.ReportedException;
 import net.minecraft.util.ResourceLocation;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 
diff --git a/net/minecraft/client/renderer/texture/TextureUtil.java b/net/minecraft/client/renderer/texture/TextureUtil.java
index 63001b8..a3d54f2 100644
--- a/net/minecraft/client/renderer/texture/TextureUtil.java
+++ b/net/minecraft/client/renderer/texture/TextureUtil.java
@@ -295,7 +295,7 @@ public class TextureUtil
         dataBuffer.position(0).limit(p_110994_2_);
     }
 
-    static void bindTexture(int p_94277_0_)
+    public static void bindTexture(int p_94277_0_)
     {
         GlStateManager.func_179144_i(p_94277_0_);
     }
diff --git a/net/minecraft/client/renderer/tileentity/RenderItemFrame.java b/net/minecraft/client/renderer/tileentity/RenderItemFrame.java
index fb3f7bf..a57118c 100644
--- a/net/minecraft/client/renderer/tileentity/RenderItemFrame.java
+++ b/net/minecraft/client/renderer/tileentity/RenderItemFrame.java
@@ -209,7 +209,7 @@ public class RenderItemFrame extends Render
                     GlStateManager.func_179090_x();
                     var16.startDrawingQuads();
                     int var17 = var14.getStringWidth(var13) / 2;
-                    var16.func_178960_a(0.0F, 0.0F, 0.0F, 0.25F);
+                    var16.setColorRGBA_F(0.0F, 0.0F, 0.0F, 0.25F);
                     var16.addVertex((double)(-var17 - 1), -1.0D, 0.0D);
                     var16.addVertex((double)(-var17 - 1), 8.0D, 0.0D);
                     var16.addVertex((double)(var17 + 1), 8.0D, 0.0D);
diff --git a/net/minecraft/client/renderer/tileentity/TileEntityBeaconRenderer.java b/net/minecraft/client/renderer/tileentity/TileEntityBeaconRenderer.java
index a571aa7..d76cf87 100644
--- a/net/minecraft/client/renderer/tileentity/TileEntityBeaconRenderer.java
+++ b/net/minecraft/client/renderer/tileentity/TileEntityBeaconRenderer.java
@@ -56,7 +56,7 @@ public class TileEntityBeaconRenderer extends TileEntitySpecialRenderer
                 double var42 = 1.0D;
                 double var44 = (double)(-1.0F + var19);
                 double var46 = (double)((float)var16.func_177264_c() * var10) * (0.5D / var22) + var44;
-                var12.func_178960_a(var16.func_177263_b()[0], var16.func_177263_b()[1], var16.func_177263_b()[2], 0.125F);
+                var12.setColorRGBA_F(var16.func_177263_b()[0], var16.func_177263_b()[1], var16.func_177263_b()[2], 0.125F);
                 var12.addVertexWithUV(p_180536_2_ + var24, p_180536_4_ + (double)var17, p_180536_6_ + var26, var42, var46);
                 var12.addVertexWithUV(p_180536_2_ + var24, p_180536_4_ + (double)var14, p_180536_6_ + var26, var42, var44);
                 var12.addVertexWithUV(p_180536_2_ + var28, p_180536_4_ + (double)var14, p_180536_6_ + var30, var40, var44);
@@ -78,7 +78,7 @@ public class TileEntityBeaconRenderer extends TileEntitySpecialRenderer
                 GlStateManager.tryBlendFuncSeparate(770, 771, 1, 0);
                 GlStateManager.depthMask(false);
                 var12.startDrawingQuads();
-                var12.func_178960_a(var16.func_177263_b()[0], var16.func_177263_b()[1], var16.func_177263_b()[2], 0.125F);
+                var12.setColorRGBA_F(var16.func_177263_b()[0], var16.func_177263_b()[1], var16.func_177263_b()[2], 0.125F);
                 var20 = 0.2D;
                 var22 = 0.2D;
                 var24 = 0.8D;
diff --git a/net/minecraft/client/renderer/tileentity/TileEntityEndPortalRenderer.java b/net/minecraft/client/renderer/tileentity/TileEntityEndPortalRenderer.java
index 2cd43cf..6338bde 100644
--- a/net/minecraft/client/renderer/tileentity/TileEntityEndPortalRenderer.java
+++ b/net/minecraft/client/renderer/tileentity/TileEntityEndPortalRenderer.java
@@ -102,7 +102,7 @@ public class TileEntityEndPortalRenderer extends TileEntitySpecialRenderer
                 var22 = 1.0F;
             }
 
-            var26.func_178960_a(var22 * var17, var23 * var17, var24 * var17, 1.0F);
+            var26.setColorRGBA_F(var22 * var17, var23 * var17, var24 * var17, 1.0F);
             var26.addVertex(p_180544_2_, p_180544_4_ + (double)var13, p_180544_6_);
             var26.addVertex(p_180544_2_, p_180544_4_ + (double)var13, p_180544_6_ + 1.0D);
             var26.addVertex(p_180544_2_ + 1.0D, p_180544_4_ + (double)var13, p_180544_6_ + 1.0D);
diff --git a/net/minecraft/client/renderer/tileentity/TileEntityPistonRenderer.java b/net/minecraft/client/renderer/tileentity/TileEntityPistonRenderer.java
index ea40a81..dad9414 100644
--- a/net/minecraft/client/renderer/tileentity/TileEntityPistonRenderer.java
+++ b/net/minecraft/client/renderer/tileentity/TileEntityPistonRenderer.java
@@ -52,7 +52,7 @@ public class TileEntityPistonRenderer extends TileEntitySpecialRenderer
             var14.startDrawingQuads();
             var14.setVertexFormat(DefaultVertexFormats.field_176600_a);
             var14.setTranslation((double)((float)p_178461_2_ - (float)var10.getX() + p_178461_1_.func_174929_b(p_178461_8_)), (double)((float)p_178461_4_ - (float)var10.getY() + p_178461_1_.func_174928_c(p_178461_8_)), (double)((float)p_178461_6_ - (float)var10.getZ() + p_178461_1_.func_174926_d(p_178461_8_)));
-            var14.func_178986_b(1.0F, 1.0F, 1.0F);
+            var14.setColorOpaque_F(1.0F, 1.0F, 1.0F);
             World var15 = this.getWorld();
 
             if (var12 == Blocks.piston_head && p_178461_1_.func_145860_a(p_178461_8_) < 0.5F)
diff --git a/net/minecraft/client/renderer/tileentity/TileEntityRendererDispatcher.java b/net/minecraft/client/renderer/tileentity/TileEntityRendererDispatcher.java
index a7f60c8..d7affba 100644
--- a/net/minecraft/client/renderer/tileentity/TileEntityRendererDispatcher.java
+++ b/net/minecraft/client/renderer/tileentity/TileEntityRendererDispatcher.java
@@ -1,8 +1,10 @@
 package net.minecraft.client.renderer.tileentity;
 
 import com.google.common.collect.Maps;
+
 import java.util.Iterator;
 import java.util.Map;
+
 import net.minecraft.client.gui.FontRenderer;
 import net.minecraft.client.renderer.GlStateManager;
 import net.minecraft.client.renderer.OpenGlHelper;
diff --git a/net/minecraft/client/renderer/tileentity/TileEntitySkullRenderer.java b/net/minecraft/client/renderer/tileentity/TileEntitySkullRenderer.java
index f2602e9..eeba0a5 100644
--- a/net/minecraft/client/renderer/tileentity/TileEntitySkullRenderer.java
+++ b/net/minecraft/client/renderer/tileentity/TileEntitySkullRenderer.java
@@ -73,7 +73,7 @@ public class TileEntitySkullRenderer extends TileEntitySpecialRenderer
 
                 case 3:
                     var9 = this.field_178468_i;
-                    ResourceLocation var10 = DefaultPlayerSkin.func_177335_a();
+                    ResourceLocation var10 = DefaultPlayerSkin.getLocationStevePNG();
 
                     if (p_180543_7_ != null)
                     {
@@ -87,7 +87,7 @@ public class TileEntitySkullRenderer extends TileEntitySpecialRenderer
                         else
                         {
                             UUID var13 = EntityPlayer.getUUID(p_180543_7_);
-                            var10 = DefaultPlayerSkin.func_177334_a(var13);
+                            var10 = DefaultPlayerSkin.getLocationFromUUID(var13);
                         }
                     }
 
diff --git a/net/minecraft/client/resources/DefaultPlayerSkin.java b/net/minecraft/client/resources/DefaultPlayerSkin.java
index 6f44429..299d546 100644
--- a/net/minecraft/client/resources/DefaultPlayerSkin.java
+++ b/net/minecraft/client/resources/DefaultPlayerSkin.java
@@ -3,29 +3,30 @@ package net.minecraft.client.resources;
 import java.util.UUID;
 import net.minecraft.util.ResourceLocation;
 
+//TODO: Client
 public class DefaultPlayerSkin
 {
-    private static final ResourceLocation field_177337_a = new ResourceLocation("textures/entity/steve.png");
-    private static final ResourceLocation field_177336_b = new ResourceLocation("textures/entity/alex.png");
+    private static final ResourceLocation locationStevePNG = new ResourceLocation("textures/entity/steve.png");
+    private static final ResourceLocation locationAlexPNG = new ResourceLocation("textures/entity/alex.png");
     private static final String __OBFID = "CL_00002396";
 
-    public static ResourceLocation func_177335_a()
+    public static ResourceLocation getLocationStevePNG()
     {
-        return field_177337_a;
+        return locationStevePNG;
     }
 
-    public static ResourceLocation func_177334_a(UUID p_177334_0_)
+    public static ResourceLocation getLocationFromUUID(UUID uuid)
     {
-        return func_177333_c(p_177334_0_) ? field_177336_b : field_177337_a;
+        return isSlimSkin(uuid) ? locationAlexPNG : locationStevePNG;
     }
 
-    public static String func_177332_b(UUID p_177332_0_)
+    public static String getModelNameFromUUID(UUID uuid)
     {
-        return func_177333_c(p_177332_0_) ? "slim" : "default";
+        return isSlimSkin(uuid) ? "slim" : "default";
     }
 
-    private static boolean func_177333_c(UUID p_177333_0_)
+    private static boolean isSlimSkin(UUID uuid)
     {
-        return (p_177333_0_.hashCode() & 1) == 1;
+        return (uuid.hashCode() & 1) == 1;
     }
 }
diff --git a/net/minecraft/client/resources/DefaultResourcePack.java b/net/minecraft/client/resources/DefaultResourcePack.java
index 07aa33f..8517494 100644
--- a/net/minecraft/client/resources/DefaultResourcePack.java
+++ b/net/minecraft/client/resources/DefaultResourcePack.java
@@ -1,6 +1,7 @@
 package net.minecraft.client.resources;
 
 import com.google.common.collect.ImmutableSet;
+
 import java.awt.image.BufferedImage;
 import java.io.File;
 import java.io.FileInputStream;
@@ -9,6 +10,7 @@ import java.io.IOException;
 import java.io.InputStream;
 import java.util.Map;
 import java.util.Set;
+
 import net.minecraft.client.renderer.texture.TextureUtil;
 import net.minecraft.client.resources.data.IMetadataSection;
 import net.minecraft.client.resources.data.IMetadataSerializer;
@@ -48,6 +50,8 @@ public class DefaultResourcePack implements IResourcePack
         }
     }
 
+    //TODO: Client
+    @SuppressWarnings("resource")
     public InputStream func_152780_c(ResourceLocation p_152780_1_) throws IOException
     {
         File var2 = (File)this.field_152781_b.get(p_152780_1_.toString());
diff --git a/net/minecraft/client/resources/FallbackResourceManager.java b/net/minecraft/client/resources/FallbackResourceManager.java
index 9fe6586..d90c1fb 100644
--- a/net/minecraft/client/resources/FallbackResourceManager.java
+++ b/net/minecraft/client/resources/FallbackResourceManager.java
@@ -1,6 +1,7 @@
 package net.minecraft.client.resources;
 
 import com.google.common.collect.Lists;
+
 import java.io.ByteArrayOutputStream;
 import java.io.FileNotFoundException;
 import java.io.IOException;
@@ -10,8 +11,10 @@ import java.util.ArrayList;
 import java.util.Iterator;
 import java.util.List;
 import java.util.Set;
+
 import net.minecraft.client.resources.data.IMetadataSerializer;
 import net.minecraft.util.ResourceLocation;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 
@@ -67,6 +70,8 @@ public class FallbackResourceManager implements IResourceManager
         throw new FileNotFoundException(p_110536_1_.toString());
     }
 
+    //TODO: Client
+    @SuppressWarnings("resource")
     protected InputStream func_177245_a(ResourceLocation p_177245_1_, IResourcePack p_177245_2_) throws IOException
     {
         InputStream var3 = p_177245_2_.getInputStream(p_177245_1_);
diff --git a/net/minecraft/client/resources/ResourcePackListEntry.java b/net/minecraft/client/resources/ResourcePackListEntry.java
index 10aeaf1..353aa6c 100644
--- a/net/minecraft/client/resources/ResourcePackListEntry.java
+++ b/net/minecraft/client/resources/ResourcePackListEntry.java
@@ -95,12 +95,12 @@ public abstract class ResourcePackListEntry implements GuiListExtended.IGuiListE
             var13 = this.field_148317_a.fontRendererObj.trimStringToWidth(var13, 157 - this.field_148317_a.fontRendererObj.getStringWidth("...")) + "...";
         }
 
-        this.field_148317_a.fontRendererObj.func_175063_a(var13, (float)(x + 32 + 2), (float)(y + 1), 16777215);
+        this.field_148317_a.fontRendererObj.drawStringWithShadow(var13, (float)(x + 32 + 2), (float)(y + 1), 16777215);
         List var11 = this.field_148317_a.fontRendererObj.listFormattedStringToWidth(this.func_148311_a(), 157);
 
         for (int var12 = 0; var12 < 2 && var12 < var11.size(); ++var12)
         {
-            this.field_148317_a.fontRendererObj.func_175063_a((String)var11.get(var12), (float)(x + 32 + 2), (float)(y + 12 + 10 * var12), 8421504);
+            this.field_148317_a.fontRendererObj.drawStringWithShadow((String)var11.get(var12), (float)(x + 32 + 2), (float)(y + 12 + 10 * var12), 8421504);
         }
     }
 
diff --git a/net/minecraft/client/resources/ResourcePackRepository.java b/net/minecraft/client/resources/ResourcePackRepository.java
index 6e67db7..cf73e47 100644
--- a/net/minecraft/client/resources/ResourcePackRepository.java
+++ b/net/minecraft/client/resources/ResourcePackRepository.java
@@ -193,6 +193,7 @@ public class ResourcePackRepository
 
         final File var4 = new File(this.field_148534_e, var3);
         this.field_177321_h.lock();
+        ListenableFuture var9;
 
         try
         {
@@ -246,13 +247,14 @@ public class ResourcePackRepository
                     var8.setException(p_onFailure_1_);
                 }
             });
-            ListenableFuture var9 = this.field_177322_i;
-            return var9;
+            var9 = this.field_177322_i;
         }
         finally
         {
             this.field_177321_h.unlock();
         }
+
+        return var9;
     }
 
     public ListenableFuture func_177319_a(File p_177319_1_)
diff --git a/net/minecraft/client/resources/SkinManager.java b/net/minecraft/client/resources/SkinManager.java
index 8ccc45c..966a39d 100644
--- a/net/minecraft/client/resources/SkinManager.java
+++ b/net/minecraft/client/resources/SkinManager.java
@@ -1,22 +1,20 @@
 package net.minecraft.client.resources;
 
-import com.google.common.cache.CacheBuilder;
-import com.google.common.cache.CacheLoader;
-import com.google.common.cache.LoadingCache;
-import com.google.common.collect.Maps;
-import com.mojang.authlib.GameProfile;
-import com.mojang.authlib.minecraft.InsecureTextureException;
-import com.mojang.authlib.minecraft.MinecraftProfileTexture;
-import com.mojang.authlib.minecraft.MinecraftSessionService;
-import com.mojang.authlib.minecraft.MinecraftProfileTexture.Type;
 import java.awt.image.BufferedImage;
+import java.io.BufferedReader;
 import java.io.File;
+import java.io.InputStreamReader;
+import java.net.URL;
 import java.util.HashMap;
 import java.util.Map;
 import java.util.concurrent.ExecutorService;
 import java.util.concurrent.LinkedBlockingQueue;
 import java.util.concurrent.ThreadPoolExecutor;
 import java.util.concurrent.TimeUnit;
+
+import javax.net.ssl.HttpsURLConnection;
+
+import tk.wurst_client.capes.WurstCapes;
 import net.minecraft.client.Minecraft;
 import net.minecraft.client.renderer.IImageBuffer;
 import net.minecraft.client.renderer.ImageBufferDownload;
@@ -25,6 +23,18 @@ import net.minecraft.client.renderer.texture.ITextureObject;
 import net.minecraft.client.renderer.texture.TextureManager;
 import net.minecraft.util.ResourceLocation;
 
+import com.google.common.cache.CacheBuilder;
+import com.google.common.cache.CacheLoader;
+import com.google.common.cache.LoadingCache;
+import com.google.common.collect.Maps;
+import com.google.gson.JsonObject;
+import com.google.gson.JsonParser;
+import com.mojang.authlib.GameProfile;
+import com.mojang.authlib.minecraft.InsecureTextureException;
+import com.mojang.authlib.minecraft.MinecraftProfileTexture;
+import com.mojang.authlib.minecraft.MinecraftProfileTexture.Type;
+import com.mojang.authlib.minecraft.MinecraftSessionService;
+
 public class SkinManager
 {
     private static final ExecutorService THREAD_POOL = new ThreadPoolExecutor(0, 2, 1L, TimeUnit.MINUTES, new LinkedBlockingQueue());
@@ -81,7 +91,7 @@ public class SkinManager
             File var6 = new File(this.skinCacheDir, p_152789_1_.getHash().substring(0, 2));
             File var7 = new File(var6, p_152789_1_.getHash());
             final ImageBufferDownload var8 = p_152789_2_ == Type.SKIN ? new ImageBufferDownload() : null;
-            ThreadDownloadImageData var9 = new ThreadDownloadImageData(var7, p_152789_1_.getUrl(), DefaultPlayerSkin.func_177335_a(), new IImageBuffer()
+            ThreadDownloadImageData var9 = new ThreadDownloadImageData(var7, p_152789_1_.getUrl(), DefaultPlayerSkin.getLocationStevePNG(), new IImageBuffer()
             {
                 private static final String __OBFID = "CL_00001828";
                 public BufferedImage parseUserSkin(BufferedImage p_78432_1_)
@@ -135,6 +145,10 @@ public class SkinManager
                     var1.putAll(SkinManager.this.sessionService.getTextures(SkinManager.this.sessionService.fillProfileProperties(p_152790_1_, false), false));
                 }
 
+				// TODO: Client
+                WurstCapes.checkCape(p_152790_1_, var1, p_152790_2_);
+				
+
                 Minecraft.getMinecraft().addScheduledTask(new Runnable()
                 {
                     private static final String __OBFID = "CL_00001826";
diff --git a/net/minecraft/client/settings/GameSettings.java b/net/minecraft/client/settings/GameSettings.java
index b1cd818..fdd99cd 100644
--- a/net/minecraft/client/settings/GameSettings.java
+++ b/net/minecraft/client/settings/GameSettings.java
@@ -168,7 +168,8 @@ public class GameSettings
     public float saturation;
 
     /** GUI scale */
-    public int guiScale;
+    //TODO: Client
+    public int guiScale = 3;
 
     /** Determines amount of particles. 0 = All, 1 = Decreased, 2 = Minimal */
     public int particleSetting;
@@ -1248,7 +1249,7 @@ public class GameSettings
      */
     public void sendSettingsToServer()
     {
-        if (this.mc.thePlayer != null)
+        if (this.mc.player != null)
         {
             int var1 = 0;
             EnumPlayerModelParts var3;
@@ -1258,7 +1259,7 @@ public class GameSettings
                 var3 = (EnumPlayerModelParts)var2.next();
             }
 
-            this.mc.thePlayer.sendQueue.addToSendQueue(new C15PacketClientSettings(this.language, this.renderDistanceChunks, this.chatVisibility, this.chatColours, var1));
+            this.mc.player.connection.sendPacket(new C15PacketClientSettings(this.language, this.renderDistanceChunks, this.chatVisibility, this.chatColours, var1));
         }
     }
 
diff --git a/net/minecraft/client/settings/KeyBinding.java b/net/minecraft/client/settings/KeyBinding.java
index c148183..9d4f0e9 100644
--- a/net/minecraft/client/settings/KeyBinding.java
+++ b/net/minecraft/client/settings/KeyBinding.java
@@ -18,8 +18,12 @@ public class KeyBinding implements Comparable
     private final String keyCategory;
     private int keyCode;
 
-    /** because _303 wanted me to call it that(Caironater) */
-    private boolean pressed;
+    /**
+     * because _303 wanted me to call it that(Caironater)<br>
+     * Alexander01998 wants it to stay public!
+     */
+    //TODO: Client
+    public boolean pressed;
     private int pressTime;
     private static final String __OBFID = "CL_00000628";
 
diff --git a/net/minecraft/client/shader/Framebuffer.java b/net/minecraft/client/shader/Framebuffer.java
index 6d045d1..5b9f541 100644
--- a/net/minecraft/client/shader/Framebuffer.java
+++ b/net/minecraft/client/shader/Framebuffer.java
@@ -251,7 +251,7 @@ public class Framebuffer
             Tessellator var8 = Tessellator.getInstance();
             WorldRenderer var9 = var8.getWorldRenderer();
             var9.startDrawingQuads();
-            var9.func_178991_c(-1);
+            var9.setColorOpaque_I(-1);
             var9.addVertexWithUV(0.0D, (double)var5, 0.0D, 0.0D, 0.0D);
             var9.addVertexWithUV((double)var4, (double)var5, 0.0D, (double)var6, 0.0D);
             var9.addVertexWithUV((double)var4, 0.0D, 0.0D, (double)var6, (double)var7);
diff --git a/net/minecraft/client/shader/Shader.java b/net/minecraft/client/shader/Shader.java
index ab192fc..7ce08ef 100644
--- a/net/minecraft/client/shader/Shader.java
+++ b/net/minecraft/client/shader/Shader.java
@@ -90,7 +90,7 @@ public class Shader
         Tessellator var5 = Tessellator.getInstance();
         WorldRenderer var6 = var5.getWorldRenderer();
         var6.startDrawingQuads();
-        var6.func_178991_c(-1);
+        var6.setColorOpaque_I(-1);
         var6.addVertex(0.0D, (double)var3, 500.0D);
         var6.addVertex((double)var2, (double)var3, 500.0D);
         var6.addVertex((double)var2, 0.0D, 500.0D);
diff --git a/net/minecraft/client/stream/BroadcastController.java b/net/minecraft/client/stream/BroadcastController.java
index 3cfbb4d..d57e0d8 100644
--- a/net/minecraft/client/stream/BroadcastController.java
+++ b/net/minecraft/client/stream/BroadcastController.java
@@ -1,14 +1,18 @@
 package net.minecraft.client.stream;
 
 import com.google.common.collect.Lists;
+
 import java.util.Arrays;
 import java.util.List;
+
 import net.minecraft.crash.CrashReport;
 import net.minecraft.crash.CrashReportCategory;
 import net.minecraft.util.ReportedException;
 import net.minecraft.util.ThreadSafeBoundList;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
+
 import tv.twitch.AuthToken;
 import tv.twitch.Core;
 import tv.twitch.ErrorCode;
diff --git a/net/minecraft/command/CommandBlockData.java b/net/minecraft/command/CommandBlockData.java
index b2aa535..4450c3a 100644
--- a/net/minecraft/command/CommandBlockData.java
+++ b/net/minecraft/command/CommandBlockData.java
@@ -63,7 +63,7 @@ public class CommandBlockData extends CommandBase
 
                     try
                     {
-                        var8 = JsonToNBT.func_180713_a(getChatComponentFromNthArg(sender, args, 3).getUnformattedText());
+                        var8 = JsonToNBT.getTagFromJson(getChatComponentFromNthArg(sender, args, 3).getUnformattedText());
                     }
                     catch (NBTException var10)
                     {
diff --git a/net/minecraft/command/CommandClearInventory.java b/net/minecraft/command/CommandClearInventory.java
index 473e3db..de840ff 100644
--- a/net/minecraft/command/CommandClearInventory.java
+++ b/net/minecraft/command/CommandClearInventory.java
@@ -44,7 +44,7 @@ public class CommandClearInventory extends CommandBase
         {
             try
             {
-                var7 = JsonToNBT.func_180713_a(func_180529_a(args, 4));
+                var7 = JsonToNBT.getTagFromJson(func_180529_a(args, 4));
             }
             catch (NBTException var9)
             {
diff --git a/net/minecraft/command/CommandEntityData.java b/net/minecraft/command/CommandEntityData.java
index dfb03b9..93f4c25 100644
--- a/net/minecraft/command/CommandEntityData.java
+++ b/net/minecraft/command/CommandEntityData.java
@@ -54,7 +54,7 @@ public class CommandEntityData extends CommandBase
 
                 try
                 {
-                    var6 = JsonToNBT.func_180713_a(getChatComponentFromNthArg(sender, args, 1).getUnformattedText());
+                    var6 = JsonToNBT.getTagFromJson(getChatComponentFromNthArg(sender, args, 1).getUnformattedText());
                 }
                 catch (NBTException var8)
                 {
diff --git a/net/minecraft/command/CommandFill.java b/net/minecraft/command/CommandFill.java
index 0999eaf..fb48656 100644
--- a/net/minecraft/command/CommandFill.java
+++ b/net/minecraft/command/CommandFill.java
@@ -88,7 +88,7 @@ public class CommandFill extends CommandBase
 
                     try
                     {
-                        var22 = JsonToNBT.func_180713_a(var13);
+                        var22 = JsonToNBT.getTagFromJson(var13);
                         var23 = true;
                     }
                     catch (NBTException var21)
diff --git a/net/minecraft/command/CommandGive.java b/net/minecraft/command/CommandGive.java
index f33de3d..6b626da 100644
--- a/net/minecraft/command/CommandGive.java
+++ b/net/minecraft/command/CommandGive.java
@@ -52,7 +52,7 @@ public class CommandGive extends CommandBase
 
                 try
                 {
-                    var7.setTagCompound(JsonToNBT.func_180713_a(var8));
+                    var7.setTagCompound(JsonToNBT.getTagFromJson(var8));
                 }
                 catch (NBTException var10)
                 {
diff --git a/net/minecraft/command/CommandSpreadPlayers.java b/net/minecraft/command/CommandSpreadPlayers.java
index 92d5a1d..3fa8655 100644
--- a/net/minecraft/command/CommandSpreadPlayers.java
+++ b/net/minecraft/command/CommandSpreadPlayers.java
@@ -371,7 +371,7 @@ public class CommandSpreadPlayers extends CommandBase
                     return 257;
                 }
 
-                var2 = var2.offsetDown();
+                var2 = var2.down();
             }
             while (worldIn.getBlockState(var2).getBlock().getMaterial() == Material.air);
 
@@ -390,7 +390,7 @@ public class CommandSpreadPlayers extends CommandBase
                     return false;
                 }
 
-                var2 = var2.offsetDown();
+                var2 = var2.down();
                 var3 = worldIn.getBlockState(var2).getBlock().getMaterial();
             }
             while (var3 == Material.air);
diff --git a/net/minecraft/command/IEntitySelector.java b/net/minecraft/command/IEntitySelector.java
index f7f8059..8ffefc0 100644
--- a/net/minecraft/command/IEntitySelector.java
+++ b/net/minecraft/command/IEntitySelector.java
@@ -52,7 +52,7 @@ public final class IEntitySelector
         private static final String __OBFID = "CL_00002256";
         public boolean func_180103_a(Entity p_180103_1_)
         {
-            return !(p_180103_1_ instanceof EntityPlayer) || !((EntityPlayer)p_180103_1_).func_175149_v();
+            return !(p_180103_1_ instanceof EntityPlayer) || !((EntityPlayer)p_180103_1_).isSpectator();
         }
         public boolean apply(Object p_apply_1_)
         {
diff --git a/net/minecraft/command/PlayerSelector.java b/net/minecraft/command/PlayerSelector.java
index 036fd0a..9ee4b46 100644
--- a/net/minecraft/command/PlayerSelector.java
+++ b/net/minecraft/command/PlayerSelector.java
@@ -449,7 +449,7 @@ public class PlayerSelector
                 private static final String __OBFID = "CL_00002352";
                 public boolean func_179594_a(Entity p_179594_1_)
                 {
-                    int var2 = (int)p_179594_1_.func_174831_c(p_180698_1_);
+                    int var2 = (int)p_179594_1_.getDistanceSqToCenter(p_180698_1_);
                     return (var3 < 0 || var2 >= var5) && (var4 < 0 || var2 <= var6);
                 }
                 public boolean apply(Object p_apply_1_)
diff --git a/net/minecraft/command/common/CommandReplaceItem.java b/net/minecraft/command/common/CommandReplaceItem.java
index 01906b6..6695304 100644
--- a/net/minecraft/command/common/CommandReplaceItem.java
+++ b/net/minecraft/command/common/CommandReplaceItem.java
@@ -120,7 +120,7 @@ public class CommandReplaceItem extends CommandBase
 
                 try
                 {
-                    var9.setTagCompound(JsonToNBT.func_180713_a(var10));
+                    var9.setTagCompound(JsonToNBT.getTagFromJson(var10));
                 }
                 catch (NBTException var14)
                 {
diff --git a/net/minecraft/command/server/CommandBlockLogic.java b/net/minecraft/command/server/CommandBlockLogic.java
index d01df20..778d707 100644
--- a/net/minecraft/command/server/CommandBlockLogic.java
+++ b/net/minecraft/command/server/CommandBlockLogic.java
@@ -1,9 +1,11 @@
 package net.minecraft.command.server;
 
 import io.netty.buffer.ByteBuf;
+
 import java.text.SimpleDateFormat;
 import java.util.Date;
 import java.util.concurrent.Callable;
+
 import net.minecraft.command.CommandResultStats;
 import net.minecraft.command.ICommandManager;
 import net.minecraft.command.ICommandSender;
@@ -205,7 +207,13 @@ public abstract class CommandBlockLogic implements ICommandSender
     {
         if (this.trackOutput && this.getEntityWorld() != null && !this.getEntityWorld().isRemote)
         {
-            this.lastOutput = (new ChatComponentText("[" + timestampFormat.format(new Date()) + "] ")).appendSibling(message);
+            synchronized(timestampFormat)
+			{
+				this.lastOutput =
+					(new ChatComponentText("["
+						+ timestampFormat.format(new Date()) + "] "))
+						.appendSibling(message);
+			}
             this.func_145756_e();
         }
     }
diff --git a/net/minecraft/command/server/CommandScoreboard.java b/net/minecraft/command/server/CommandScoreboard.java
index c0809c2..f5f4e60 100644
--- a/net/minecraft/command/server/CommandScoreboard.java
+++ b/net/minecraft/command/server/CommandScoreboard.java
@@ -932,7 +932,7 @@ public class CommandScoreboard extends CommandBase
 
             try
             {
-                NBTTagCompound var10 = JsonToNBT.func_180713_a(func_180529_a(p_147197_2_, p_147197_3_));
+                NBTTagCompound var10 = JsonToNBT.getTagFromJson(func_180529_a(p_147197_2_, p_147197_3_));
                 NBTTagCompound var11 = new NBTTagCompound();
                 var9.writeToNBT(var11);
 
diff --git a/net/minecraft/command/server/CommandSetBlock.java b/net/minecraft/command/server/CommandSetBlock.java
index b12bc66..e8cfbdc 100644
--- a/net/minecraft/command/server/CommandSetBlock.java
+++ b/net/minecraft/command/server/CommandSetBlock.java
@@ -74,7 +74,7 @@ public class CommandSetBlock extends CommandBase
 
                     try
                     {
-                        var7 = JsonToNBT.func_180713_a(var9);
+                        var7 = JsonToNBT.getTagFromJson(var9);
                         var8 = true;
                     }
                     catch (NBTException var12)
diff --git a/net/minecraft/command/server/CommandSummon.java b/net/minecraft/command/server/CommandSummon.java
index ff12725..0e8f367 100644
--- a/net/minecraft/command/server/CommandSummon.java
+++ b/net/minecraft/command/server/CommandSummon.java
@@ -85,7 +85,7 @@ public class CommandSummon extends CommandBase
 
                     try
                     {
-                        var13 = JsonToNBT.func_180713_a(var15.getUnformattedText());
+                        var13 = JsonToNBT.getTagFromJson(var15.getUnformattedText());
                         var14 = true;
                     }
                     catch (NBTException var20)
diff --git a/net/minecraft/command/server/CommandTestFor.java b/net/minecraft/command/server/CommandTestFor.java
index d84c739..3065a2c 100644
--- a/net/minecraft/command/server/CommandTestFor.java
+++ b/net/minecraft/command/server/CommandTestFor.java
@@ -49,7 +49,7 @@ public class CommandTestFor extends CommandBase
             {
                 try
                 {
-                    var4 = JsonToNBT.func_180713_a(func_180529_a(args, 1));
+                    var4 = JsonToNBT.getTagFromJson(func_180529_a(args, 1));
                 }
                 catch (NBTException var6)
                 {
diff --git a/net/minecraft/command/server/CommandTestForBlock.java b/net/minecraft/command/server/CommandTestForBlock.java
index 19f3f05..be21691 100644
--- a/net/minecraft/command/server/CommandTestForBlock.java
+++ b/net/minecraft/command/server/CommandTestForBlock.java
@@ -83,7 +83,7 @@ public class CommandTestForBlock extends CommandBase
 
                         try
                         {
-                            var7 = JsonToNBT.func_180713_a(var9);
+                            var7 = JsonToNBT.getTagFromJson(var9);
                             var8 = true;
                         }
                         catch (NBTException var13)
diff --git a/net/minecraft/crash/CrashReport.java b/net/minecraft/crash/CrashReport.java
index 0a4366d..892f197 100644
--- a/net/minecraft/crash/CrashReport.java
+++ b/net/minecraft/crash/CrashReport.java
@@ -1,6 +1,7 @@
 package net.minecraft.crash;
 
 import com.google.common.collect.Lists;
+
 import java.io.File;
 import java.io.FileWriter;
 import java.io.PrintWriter;
@@ -12,13 +13,18 @@ import java.util.Date;
 import java.util.Iterator;
 import java.util.List;
 import java.util.concurrent.Callable;
+
 import net.minecraft.util.ReportedException;
 import net.minecraft.world.gen.layer.IntCache;
+
 import org.apache.commons.io.IOUtils;
 import org.apache.commons.lang3.ArrayUtils;
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 
+import tk.wurst_client.WurstClient;
+import tk.wurst_client.crash.CrashSectionWurstVersion;
+
 public class CrashReport
 {
     private static final Logger logger = LogManager.getLogger();
@@ -62,6 +68,10 @@ public class CrashReport
                 return "1.8";
             }
         });
+        
+        //TODO: Client
+        this.theReportCategory.addCrashSectionCallable("Wurst Client Version", new CrashSectionWurstVersion());
+        
         this.theReportCategory.addCrashSectionCallable("Operating System", new Callable()
         {
             private static final String __OBFID = "CL_00001222";
@@ -246,7 +256,10 @@ public class CrashReport
     public String getCompleteReport()
     {
         StringBuilder var1 = new StringBuilder();
-        var1.append("---- Minecraft Crash Report ----\n");
+        //TODO: Client
+        var1.append("---------------- Wurst Client Crash Report ----------------\n");
+        var1.append("---- Please report this crash at: wurst-client.tk/bugs ----\n");
+        
         var1.append("// ");
         var1.append(getWittyComment());
         var1.append("\n\n");
@@ -379,7 +392,9 @@ public class CrashReport
      */
     private static String getWittyComment()
     {
-        String[] var0 = new String[] {"Who set us up the TNT?", "Everything\'s going to plan. No, really, that was supposed to happen.", "Uh... Did I do that?", "Oops.", "Why did you do that?", "I feel sad now :(", "My bad.", "I\'m sorry, Dave.", "I let you down. Sorry :(", "On the bright side, I bought you a teddy bear!", "Daisy, daisy...", "Oh - I know what I did wrong!", "Hey, that tickles! Hehehe!", "I blame Dinnerbone.", "You should try our sister game, Minceraft!", "Don\'t be sad. I\'ll do better next time, I promise!", "Don\'t be sad, have a hug! <3", "I just don\'t know what went wrong :(", "Shall we play a game?", "Quite honestly, I wouldn\'t worry myself about that.", "I bet Cylons wouldn\'t have this problem.", "Sorry :(", "Surprise! Haha. Well, this is awkward.", "Would you like a cupcake?", "Hi. I\'m Minecraft, and I\'m a crashaholic.", "Ooh. Shiny.", "This doesn\'t make any sense!", "Why is it breaking :(", "Don\'t do that.", "Ouch. That hurt :(", "You\'re mean.", "This is a token for 1 free hug. Redeem at your nearest Mojangsta: [~~HUG~~]", "There are four lights!", "But it works on my machine."};
+    	//TODO: Client
+    	//Added some extra comments
+        String[] var0 = new String[] {"Who set us up the TNT?", "Everything\'s going to plan. No, really, that was supposed to happen.", "Uh... Did I do that?", "Oops.", "Why did you do that?", "I feel sad now :(", "My bad.", "I\'m sorry, Dave.", "I let you down. Sorry :(", "On the bright side, I bought you a teddy bear!", "Daisy, daisy...", "Oh - I know what I did wrong!", "Hey, that tickles! Hehehe!", "I blame Dinnerbone.", "I blame Apple.", "You should try our sister game, Minceraft!", "Don\'t be sad. I\'ll do better next time, I promise!", "Don\'t be sad, have a hug! <3", "I just don\'t know what went wrong :(", "Shall we play a game?", "Quite honestly, I wouldn\'t worry myself about that.", "I bet Cylons wouldn\'t have this problem.", "Sorry :(", "Surprise! Haha. Well, this is awkward.", "Would you like a cupcake?", "Hi. I\'m Minecraft, and I\'m a crashaholic.", "Ooh. Shiny.", "This doesn\'t make any sense!", "Why is it breaking :(", "Don\'t do that.", "Ouch. That hurt :(", "You\'re mean.", "This is a token for 1 free hug. Redeem at your nearest Mojangsta: [~~HUG~~]", "There are four lights!", "But it works on my machine.", "At least you tried it!", "At least you got a nice looking crash report!", "Immer weiter gehen, nicht stehen bleiben!"};
 
         try
         {
diff --git a/net/minecraft/crash/CrashReportCategory.java b/net/minecraft/crash/CrashReportCategory.java
index 386cfae..6cc2c1f 100644
--- a/net/minecraft/crash/CrashReportCategory.java
+++ b/net/minecraft/crash/CrashReportCategory.java
@@ -1,11 +1,14 @@
 package net.minecraft.crash;
 
 import com.google.common.collect.Lists;
+
 import java.util.Iterator;
 import java.util.List;
 import java.util.concurrent.Callable;
+
 import net.minecraft.block.Block;
 import net.minecraft.block.state.IBlockState;
+import net.minecraft.crash.CrashReport;
 import net.minecraft.util.BlockPos;
 
 public class CrashReportCategory
diff --git a/net/minecraft/entity/DataWatcher.java b/net/minecraft/entity/DataWatcher.java
index 6bd900a..cdf03c7 100644
--- a/net/minecraft/entity/DataWatcher.java
+++ b/net/minecraft/entity/DataWatcher.java
@@ -2,6 +2,7 @@ package net.minecraft.entity;
 
 import com.google.common.collect.Lists;
 import com.google.common.collect.Maps;
+
 import java.io.IOException;
 import java.util.ArrayList;
 import java.util.Iterator;
@@ -9,6 +10,7 @@ import java.util.List;
 import java.util.Map;
 import java.util.concurrent.locks.ReadWriteLock;
 import java.util.concurrent.locks.ReentrantReadWriteLock;
+
 import net.minecraft.crash.CrashReport;
 import net.minecraft.crash.CrashReportCategory;
 import net.minecraft.item.ItemStack;
@@ -16,6 +18,7 @@ import net.minecraft.network.PacketBuffer;
 import net.minecraft.util.BlockPos;
 import net.minecraft.util.ReportedException;
 import net.minecraft.util.Rotations;
+
 import org.apache.commons.lang3.ObjectUtils;
 
 public class DataWatcher
@@ -105,12 +108,19 @@ public class DataWatcher
         return ((Float)this.getWatchedObject(id).getObject()).floatValue();
     }
 
+    //TODO: Client
     /**
      * gets a watchable object and returns it as a String
      */
     public String getWatchableObjectString(int id)
     {
+        try
+		{
         return (String)this.getWatchedObject(id).getObject();
+		}catch(Exception e)
+		{
+			return "";
+		}
     }
 
     /**
diff --git a/net/minecraft/entity/Entity.java b/net/minecraft/entity/Entity.java
index 7865119..e7c58e0 100644
--- a/net/minecraft/entity/Entity.java
+++ b/net/minecraft/entity/Entity.java
@@ -5,6 +5,7 @@ import java.util.List;
 import java.util.Random;
 import java.util.UUID;
 import java.util.concurrent.Callable;
+
 import net.minecraft.block.Block;
 import net.minecraft.block.BlockFence;
 import net.minecraft.block.BlockFenceGate;
@@ -12,6 +13,7 @@ import net.minecraft.block.BlockLiquid;
 import net.minecraft.block.BlockWall;
 import net.minecraft.block.material.Material;
 import net.minecraft.block.state.IBlockState;
+import net.minecraft.client.Minecraft;
 import net.minecraft.command.CommandResultStats;
 import net.minecraft.command.ICommandSender;
 import net.minecraft.crash.CrashReport;
@@ -46,6 +48,12 @@ import net.minecraft.util.Vec3;
 import net.minecraft.world.Explosion;
 import net.minecraft.world.World;
 import net.minecraft.world.WorldServer;
+import tk.wurst_client.WurstClient;
+import tk.wurst_client.features.mods.AntiKnockbackMod;
+import tk.wurst_client.features.mods.FreecamMod;
+import tk.wurst_client.features.mods.NoClipMod;
+import tk.wurst_client.features.mods.PhaseMod;
+import tk.wurst_client.features.mods.SafeWalkMod;
 
 public abstract class Entity implements ICommandSender
 {
@@ -99,8 +107,8 @@ public abstract class Entity implements ICommandSender
     public float prevRotationYaw;
     public float prevRotationPitch;
 
-    /** Axis aligned bounding box. */
-    private AxisAlignedBB boundingBox;
+    /** Axis aligned bounding box. *///TODO: Client
+    public AxisAlignedBB boundingBox;
     public boolean onGround;
 
     /**
@@ -118,7 +126,8 @@ public abstract class Entity implements ICommandSender
      */
     public boolean isCollided;
     public boolean velocityChanged;
-    protected boolean isInWeb;
+    //TODO: Client
+    public boolean isInWeb;
     private boolean isOutsideBorder;
 
     /**
@@ -578,8 +587,21 @@ public abstract class Entity implements ICommandSender
      */
     public void moveEntity(double x, double y, double z)
     {
-        if (this.noClip)
+		// TODO: Client
+		// Enables NoClip.
+		boolean freecamActive = WurstClient.INSTANCE.mods.freecamMod.isActive();
+		if(this.noClip
+			|| ((freecamActive || WurstClient.INSTANCE.mods.phaseMod.isActive() || WurstClient.INSTANCE.mods.noClipMod
+				.isActive()) && this instanceof EntityPlayer))
+		{
+        	
+			// TODO: Client
+			// Fixes Freecam flight speed
+			if(this == Minecraft.getMinecraft().player && freecamActive)
         {
+        		
+        		this.func_174826_a(this.getEntityBoundingBox().offset(x * 10, y, z * 10));
+        	}else
             this.func_174826_a(this.getEntityBoundingBox().offset(x, y, z));
             this.func_174829_m();
         }
@@ -604,7 +626,12 @@ public abstract class Entity implements ICommandSender
             double var13 = x;
             double var15 = y;
             double var17 = z;
-            boolean var19 = this.onGround && this.isSneaking() && this instanceof EntityPlayer;
+            
+			// TODO: Client
+			boolean var19 =
+				this.onGround
+					&& (this.isSneaking() || WurstClient.INSTANCE.mods.safeWalkMod
+						.isActive()) && this instanceof EntityPlayer;
 
             if (var19)
             {
@@ -818,12 +845,12 @@ public abstract class Entity implements ICommandSender
 
             if (var60.getMaterial() == Material.air)
             {
-                Block var28 = this.worldObj.getBlockState(var26.offsetDown()).getBlock();
+                Block var28 = this.worldObj.getBlockState(var26.down()).getBlock();
 
                 if (var28 instanceof BlockFence || var28 instanceof BlockWall || var28 instanceof BlockFenceGate)
                 {
                     var60 = var28;
-                    var26 = var26.offsetDown();
+                    var26 = var26.down();
                 }
             }
 
@@ -975,7 +1002,7 @@ public abstract class Entity implements ICommandSender
     {
         Block.SoundType var3 = p_180429_2_.stepSound;
 
-        if (this.worldObj.getBlockState(p_180429_1_.offsetUp()).getBlock() == Blocks.snow_layer)
+        if (this.worldObj.getBlockState(p_180429_1_.up()).getBlock() == Blocks.snow_layer)
         {
             var3 = Blocks.snow_layer.stepSound;
             this.playSound(var3.getStepSound(), var3.getVolume() * 0.15F, var3.getFrequency());
@@ -1237,7 +1264,7 @@ public abstract class Entity implements ICommandSender
         {
             double var3 = (this.getEntityBoundingBox().maxY - this.getEntityBoundingBox().minY) * 0.66D;
             int var5 = MathHelper.floor_double(this.posY + var3);
-            return this.worldObj.getCombinedLight(var2.offsetUp(var5), 0);
+            return this.worldObj.getCombinedLight(var2.up(var5), 0);
         }
         else
         {
@@ -1256,7 +1283,7 @@ public abstract class Entity implements ICommandSender
         {
             double var3 = (this.getEntityBoundingBox().maxY - this.getEntityBoundingBox().minY) * 0.66D;
             int var5 = MathHelper.floor_double(this.posY + var3);
-            return this.worldObj.getLightBrightness(var2.offsetUp(var5));
+            return this.worldObj.getLightBrightness(var2.up(var5));
         }
         else
         {
@@ -1343,7 +1370,7 @@ public abstract class Entity implements ICommandSender
         return p_174818_1_.distanceSq(this.posX, this.posY, this.posZ);
     }
 
-    public double func_174831_c(BlockPos p_174831_1_)
+    public double getDistanceSqToCenter(BlockPos p_174831_1_)
     {
         return p_174831_1_.distanceSqToCenter(this.posX, this.posY, this.posZ);
     }
@@ -2083,9 +2110,15 @@ public abstract class Entity implements ICommandSender
      */
     public void setVelocity(double x, double y, double z)
     {
-        this.motionX = x;
-        this.motionY = y;
-        this.motionZ = z;
+		// TODO: Client
+		float strength = 1F;
+		AntiKnockbackMod antiKnockbackMod =
+			WurstClient.INSTANCE.mods.antiKnockbackMod;
+		if(antiKnockbackMod.isActive())
+			strength = 1F - antiKnockbackMod.strength.getValueF();
+		this.motionX = x * strength;
+		this.motionY = y * strength;
+		this.motionZ = z * strength;
     }
 
     public void handleHealthUpdate(byte p_70103_1_) {}
@@ -2170,7 +2203,7 @@ public abstract class Entity implements ICommandSender
      */
     public boolean isInvisibleToPlayer(EntityPlayer playerIn)
     {
-        return playerIn.func_175149_v() ? false : this.isInvisible();
+        return playerIn.isSpectator() ? false : this.isInvisible();
     }
 
     public void setInvisible(boolean invisible)
@@ -2260,31 +2293,31 @@ public abstract class Entity implements ICommandSender
             byte var15 = 3;
             double var16 = 9999.0D;
 
-            if (!this.worldObj.func_175665_u(var7.offsetWest()) && var8 < var16)
+            if (!this.worldObj.func_175665_u(var7.west()) && var8 < var16)
             {
                 var16 = var8;
                 var15 = 0;
             }
 
-            if (!this.worldObj.func_175665_u(var7.offsetEast()) && 1.0D - var8 < var16)
+            if (!this.worldObj.func_175665_u(var7.east()) && 1.0D - var8 < var16)
             {
                 var16 = 1.0D - var8;
                 var15 = 1;
             }
 
-            if (!this.worldObj.func_175665_u(var7.offsetUp()) && 1.0D - var10 < var16)
+            if (!this.worldObj.func_175665_u(var7.up()) && 1.0D - var10 < var16)
             {
                 var16 = 1.0D - var10;
                 var15 = 3;
             }
 
-            if (!this.worldObj.func_175665_u(var7.offsetNorth()) && var12 < var16)
+            if (!this.worldObj.func_175665_u(var7.north()) && var12 < var16)
             {
                 var16 = var12;
                 var15 = 4;
             }
 
-            if (!this.worldObj.func_175665_u(var7.offsetSouth()) && 1.0D - var12 < var16)
+            if (!this.worldObj.func_175665_u(var7.south()) && 1.0D - var12 < var16)
             {
                 var16 = 1.0D - var12;
                 var15 = 5;
diff --git a/net/minecraft/entity/EntityHanging.java b/net/minecraft/entity/EntityHanging.java
index da1efce..5ca151d 100644
--- a/net/minecraft/entity/EntityHanging.java
+++ b/net/minecraft/entity/EntityHanging.java
@@ -128,7 +128,7 @@ public abstract class EntityHanging extends Entity
             {
                 for (int var6 = 0; var6 < var2; ++var6)
                 {
-                    BlockPos var7 = var3.offset(var4, var5).offsetUp(var6);
+                    BlockPos var7 = var3.offset(var4, var5).up(var6);
                     Block var8 = this.worldObj.getBlockState(var7).getBlock();
 
                     if (!var8.getMaterial().isSolid() && !BlockRedstoneDiode.isRedstoneRepeaterBlockID(var8))
diff --git a/net/minecraft/entity/EntityLivingBase.java b/net/minecraft/entity/EntityLivingBase.java
index 80f1f20..b96ec69 100644
--- a/net/minecraft/entity/EntityLivingBase.java
+++ b/net/minecraft/entity/EntityLivingBase.java
@@ -1,12 +1,18 @@
 package net.minecraft.entity;
 
 import com.google.common.collect.Maps;
+
 import java.util.Collection;
 import java.util.Iterator;
 import java.util.List;
 import java.util.Map;
 import java.util.Random;
 import java.util.UUID;
+
+import tk.wurst_client.WurstClient;
+import tk.wurst_client.features.mods.HighJumpMod;
+import tk.wurst_client.features.mods.Mod;
+import tk.wurst_client.features.mods.NoSlowdownMod;
 import net.minecraft.block.Block;
 import net.minecraft.block.material.Material;
 import net.minecraft.block.state.IBlockState;
@@ -1121,7 +1127,7 @@ public abstract class EntityLivingBase extends Entity
         int var2 = MathHelper.floor_double(this.getEntityBoundingBox().minY);
         int var3 = MathHelper.floor_double(this.posZ);
         Block var4 = this.worldObj.getBlockState(new BlockPos(var1, var2, var3)).getBlock();
-        return (var4 == Blocks.ladder || var4 == Blocks.vine) && (!(this instanceof EntityPlayer) || !((EntityPlayer)this).func_175149_v());
+        return (var4 == Blocks.ladder || var4 == Blocks.vine) && (!(this instanceof EntityPlayer) || !((EntityPlayer)this).isSpectator());
     }
 
     /**
@@ -1555,7 +1561,13 @@ public abstract class EntityLivingBase extends Entity
      */
     protected void jump()
     {
-        this.motionY = (double)this.func_175134_bD();
+    	
+		// TODO: Client
+		HighJumpMod highJumpMod = WurstClient.INSTANCE.mods.highJumpMod;
+		this.motionY =
+			(double)this.func_175134_bD()
+				+ (this instanceof EntityPlayer && highJumpMod.isActive()
+					? highJumpMod.jumpHeight * 0.1F : 0F);
 
         if (this.isPotionActive(Potion.jump))
         {
@@ -1598,8 +1610,12 @@ public abstract class EntityLivingBase extends Entity
             float var5;
             float var6;
 
-            if (this.isInWater() && (!(this instanceof EntityPlayer) || !((EntityPlayer)this).capabilities.isFlying))
+			// TODO: Client
+			if(this.isInWater()
+				&& (!(this instanceof EntityPlayer) || !((EntityPlayer)this).capabilities.isFlying)
+				&& !WurstClient.INSTANCE.mods.noSlowdownMod.isActive())
             {
+            	
                 var8 = this.posY;
                 var5 = 0.8F;
                 var6 = 0.02F;
diff --git a/net/minecraft/entity/EntityTracker.java b/net/minecraft/entity/EntityTracker.java
index 14079cc..f2ac739 100644
--- a/net/minecraft/entity/EntityTracker.java
+++ b/net/minecraft/entity/EntityTracker.java
@@ -2,10 +2,12 @@ package net.minecraft.entity;
 
 import com.google.common.collect.Lists;
 import com.google.common.collect.Sets;
+
 import java.util.ArrayList;
 import java.util.Iterator;
 import java.util.Set;
 import java.util.concurrent.Callable;
+
 import net.minecraft.crash.CrashReport;
 import net.minecraft.crash.CrashReportCategory;
 import net.minecraft.entity.boss.EntityDragon;
@@ -38,6 +40,7 @@ import net.minecraft.util.IntHashMap;
 import net.minecraft.util.ReportedException;
 import net.minecraft.world.WorldServer;
 import net.minecraft.world.chunk.Chunk;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 
diff --git a/net/minecraft/entity/ai/EntityAIDoorInteract.java b/net/minecraft/entity/ai/EntityAIDoorInteract.java
index 86793ed..b6f7e86 100644
--- a/net/minecraft/entity/ai/EntityAIDoorInteract.java
+++ b/net/minecraft/entity/ai/EntityAIDoorInteract.java
@@ -68,7 +68,7 @@ public abstract class EntityAIDoorInteract extends EntityAIBase
                     }
                 }
 
-                this.field_179507_b = (new BlockPos(this.theEntity)).offsetUp();
+                this.field_179507_b = (new BlockPos(this.theEntity)).up();
                 this.doorBlock = this.func_179506_a(this.field_179507_b);
                 return this.doorBlock != null;
             }
diff --git a/net/minecraft/entity/ai/EntityAIEatGrass.java b/net/minecraft/entity/ai/EntityAIEatGrass.java
index 6ca43bf..447186a 100644
--- a/net/minecraft/entity/ai/EntityAIEatGrass.java
+++ b/net/minecraft/entity/ai/EntityAIEatGrass.java
@@ -43,7 +43,7 @@ public class EntityAIEatGrass extends EntityAIBase
         else
         {
             BlockPos var1 = new BlockPos(this.grassEaterEntity.posX, this.grassEaterEntity.posY, this.grassEaterEntity.posZ);
-            return field_179505_b.apply(this.entityWorld.getBlockState(var1)) ? true : this.entityWorld.getBlockState(var1.offsetDown()).getBlock() == Blocks.grass;
+            return field_179505_b.apply(this.entityWorld.getBlockState(var1)) ? true : this.entityWorld.getBlockState(var1.down()).getBlock() == Blocks.grass;
         }
     }
 
@@ -103,7 +103,7 @@ public class EntityAIEatGrass extends EntityAIBase
             }
             else
             {
-                BlockPos var2 = var1.offsetDown();
+                BlockPos var2 = var1.down();
 
                 if (this.entityWorld.getBlockState(var2).getBlock() == Blocks.grass)
                 {
diff --git a/net/minecraft/entity/ai/EntityAIHarvestFarmland.java b/net/minecraft/entity/ai/EntityAIHarvestFarmland.java
index 24e043d..0d86dbb 100644
--- a/net/minecraft/entity/ai/EntityAIHarvestFarmland.java
+++ b/net/minecraft/entity/ai/EntityAIHarvestFarmland.java
@@ -80,7 +80,7 @@ public class EntityAIHarvestFarmland extends EntityAIMoveToBlock
         if (this.func_179487_f())
         {
             World var1 = this.field_179504_c.worldObj;
-            BlockPos var2 = this.field_179494_b.offsetUp();
+            BlockPos var2 = this.field_179494_b.up();
             IBlockState var3 = var1.getBlockState(var2);
             Block var4 = var3.getBlock();
 
@@ -141,7 +141,7 @@ public class EntityAIHarvestFarmland extends EntityAIMoveToBlock
 
         if (var3 == Blocks.farmland)
         {
-            p_179488_2_ = p_179488_2_.offsetUp();
+            p_179488_2_ = p_179488_2_.up();
             IBlockState var4 = worldIn.getBlockState(p_179488_2_);
             var3 = var4.getBlock();
 
diff --git a/net/minecraft/entity/ai/EntityAIMoveToBlock.java b/net/minecraft/entity/ai/EntityAIMoveToBlock.java
index acafeeb..d09be4a 100644
--- a/net/minecraft/entity/ai/EntityAIMoveToBlock.java
+++ b/net/minecraft/entity/ai/EntityAIMoveToBlock.java
@@ -70,7 +70,7 @@ public abstract class EntityAIMoveToBlock extends EntityAIBase
      */
     public void updateTask()
     {
-        if (this.field_179495_c.func_174831_c(this.field_179494_b.offsetUp()) > 1.0D)
+        if (this.field_179495_c.getDistanceSqToCenter(this.field_179494_b.up()) > 1.0D)
         {
             this.field_179491_g = false;
             ++this.field_179493_e;
diff --git a/net/minecraft/entity/ai/EntityAIOcelotSit.java b/net/minecraft/entity/ai/EntityAIOcelotSit.java
index cb8dc46..603f5f2 100644
--- a/net/minecraft/entity/ai/EntityAIOcelotSit.java
+++ b/net/minecraft/entity/ai/EntityAIOcelotSit.java
@@ -75,7 +75,7 @@ public class EntityAIOcelotSit extends EntityAIMoveToBlock
 
     protected boolean func_179488_a(World worldIn, BlockPos p_179488_2_)
     {
-        if (!worldIn.isAirBlock(p_179488_2_.offsetUp()))
+        if (!worldIn.isAirBlock(p_179488_2_.up()))
         {
             return false;
         }
diff --git a/net/minecraft/entity/boss/EntityDragon.java b/net/minecraft/entity/boss/EntityDragon.java
index d971033..65470b9 100644
--- a/net/minecraft/entity/boss/EntityDragon.java
+++ b/net/minecraft/entity/boss/EntityDragon.java
@@ -478,7 +478,7 @@ public class EntityDragon extends EntityLiving implements IBossDisplayData, IEnt
 
         while (var2.hasNext())
         {
-            if (((EntityPlayer)var2.next()).func_175149_v())
+            if (((EntityPlayer)var2.next()).isSpectator())
             {
                 var2.remove();
             }
@@ -712,15 +712,15 @@ public class EntityDragon extends EntityLiving implements IBossDisplayData, IEnt
         }
 
         this.worldObj.setBlockState(p_175499_1_, Blocks.bedrock.getDefaultState());
-        this.worldObj.setBlockState(p_175499_1_.offsetUp(), Blocks.bedrock.getDefaultState());
-        BlockPos var13 = p_175499_1_.offsetUp(2);
+        this.worldObj.setBlockState(p_175499_1_.up(), Blocks.bedrock.getDefaultState());
+        BlockPos var13 = p_175499_1_.up(2);
         this.worldObj.setBlockState(var13, Blocks.bedrock.getDefaultState());
-        this.worldObj.setBlockState(var13.offsetWest(), Blocks.torch.getDefaultState().withProperty(BlockTorch.FACING_PROP, EnumFacing.EAST));
-        this.worldObj.setBlockState(var13.offsetEast(), Blocks.torch.getDefaultState().withProperty(BlockTorch.FACING_PROP, EnumFacing.WEST));
-        this.worldObj.setBlockState(var13.offsetNorth(), Blocks.torch.getDefaultState().withProperty(BlockTorch.FACING_PROP, EnumFacing.SOUTH));
-        this.worldObj.setBlockState(var13.offsetSouth(), Blocks.torch.getDefaultState().withProperty(BlockTorch.FACING_PROP, EnumFacing.NORTH));
-        this.worldObj.setBlockState(p_175499_1_.offsetUp(3), Blocks.bedrock.getDefaultState());
-        this.worldObj.setBlockState(p_175499_1_.offsetUp(4), Blocks.dragon_egg.getDefaultState());
+        this.worldObj.setBlockState(var13.west(), Blocks.torch.getDefaultState().withProperty(BlockTorch.FACING_PROP, EnumFacing.EAST));
+        this.worldObj.setBlockState(var13.east(), Blocks.torch.getDefaultState().withProperty(BlockTorch.FACING_PROP, EnumFacing.WEST));
+        this.worldObj.setBlockState(var13.north(), Blocks.torch.getDefaultState().withProperty(BlockTorch.FACING_PROP, EnumFacing.SOUTH));
+        this.worldObj.setBlockState(var13.south(), Blocks.torch.getDefaultState().withProperty(BlockTorch.FACING_PROP, EnumFacing.NORTH));
+        this.worldObj.setBlockState(p_175499_1_.up(3), Blocks.bedrock.getDefaultState());
+        this.worldObj.setBlockState(p_175499_1_.up(4), Blocks.dragon_egg.getDefaultState());
     }
 
     /**
diff --git a/net/minecraft/entity/item/EntityArmorStand.java b/net/minecraft/entity/item/EntityArmorStand.java
index 98a6280..71a8818 100644
--- a/net/minecraft/entity/item/EntityArmorStand.java
+++ b/net/minecraft/entity/item/EntityArmorStand.java
@@ -350,7 +350,7 @@ public class EntityArmorStand extends EntityLivingBase
 
     public boolean func_174825_a(EntityPlayer p_174825_1_, Vec3 p_174825_2_)
     {
-        if (!this.worldObj.isRemote && !p_174825_1_.func_175149_v())
+        if (!this.worldObj.isRemote && !p_174825_1_.isSpectator())
         {
             byte var3 = 0;
             ItemStack var4 = p_174825_1_.getCurrentEquippedItem();
@@ -616,7 +616,7 @@ public class EntityArmorStand extends EntityLivingBase
             {
                 if (this.contents[var1] != null)
                 {
-                    Block.spawnAsEntity(this.worldObj, (new BlockPos(this)).offsetUp(), this.contents[var1]);
+                    Block.spawnAsEntity(this.worldObj, (new BlockPos(this)).up(), this.contents[var1]);
                 }
 
                 this.contents[var1] = null;
diff --git a/net/minecraft/entity/item/EntityBoat.java b/net/minecraft/entity/item/EntityBoat.java
index 4d2f4d6..9fc78dc 100644
--- a/net/minecraft/entity/item/EntityBoat.java
+++ b/net/minecraft/entity/item/EntityBoat.java
@@ -559,7 +559,7 @@ public class EntityBoat extends Entity
                 this.fallDistance = 0.0F;
             }
         }
-        else if (this.worldObj.getBlockState((new BlockPos(this)).offsetDown()).getBlock().getMaterial() != Material.water && p_180433_1_ < 0.0D)
+        else if (this.worldObj.getBlockState((new BlockPos(this)).down()).getBlock().getMaterial() != Material.water && p_180433_1_ < 0.0D)
         {
             this.fallDistance = (float)((double)this.fallDistance - p_180433_1_);
         }
diff --git a/net/minecraft/entity/item/EntityFallingBlock.java b/net/minecraft/entity/item/EntityFallingBlock.java
index 5cf2a7b..840cb56 100644
--- a/net/minecraft/entity/item/EntityFallingBlock.java
+++ b/net/minecraft/entity/item/EntityFallingBlock.java
@@ -127,7 +127,7 @@ public class EntityFallingBlock extends Entity
                     {
                         this.setDead();
 
-                        if (!this.field_145808_f && this.worldObj.canBlockBePlaced(var1, var2, true, EnumFacing.UP, (Entity)null, (ItemStack)null) && !BlockFalling.canFallInto(this.worldObj, var2.offsetDown()) && this.worldObj.setBlockState(var2, this.field_175132_d, 3))
+                        if (!this.field_145808_f && this.worldObj.canBlockBePlaced(var1, var2, true, EnumFacing.UP, (Entity)null, (ItemStack)null) && !BlockFalling.canFallInto(this.worldObj, var2.down()) && this.worldObj.setBlockState(var2, this.field_175132_d, 3))
                         {
                             if (var1 instanceof BlockFalling)
                             {
diff --git a/net/minecraft/entity/item/EntityMinecart.java b/net/minecraft/entity/item/EntityMinecart.java
index 98162e1..4aea532 100644
--- a/net/minecraft/entity/item/EntityMinecart.java
+++ b/net/minecraft/entity/item/EntityMinecart.java
@@ -637,22 +637,22 @@ public abstract class EntityMinecart extends Entity implements IWorldNameable
             }
             else if (var9 == BlockRailBase.EnumRailDirection.EAST_WEST)
             {
-                if (this.worldObj.getBlockState(p_180460_1_.offsetWest()).getBlock().isNormalCube())
+                if (this.worldObj.getBlockState(p_180460_1_.west()).getBlock().isNormalCube())
                 {
                     this.motionX = 0.02D;
                 }
-                else if (this.worldObj.getBlockState(p_180460_1_.offsetEast()).getBlock().isNormalCube())
+                else if (this.worldObj.getBlockState(p_180460_1_.east()).getBlock().isNormalCube())
                 {
                     this.motionX = -0.02D;
                 }
             }
             else if (var9 == BlockRailBase.EnumRailDirection.NORTH_SOUTH)
             {
-                if (this.worldObj.getBlockState(p_180460_1_.offsetNorth()).getBlock().isNormalCube())
+                if (this.worldObj.getBlockState(p_180460_1_.north()).getBlock().isNormalCube())
                 {
                     this.motionZ = 0.02D;
                 }
-                else if (this.worldObj.getBlockState(p_180460_1_.offsetSouth()).getBlock().isNormalCube())
+                else if (this.worldObj.getBlockState(p_180460_1_.south()).getBlock().isNormalCube())
                 {
                     this.motionZ = -0.02D;
                 }
diff --git a/net/minecraft/entity/item/EntityMinecartContainer.java b/net/minecraft/entity/item/EntityMinecartContainer.java
index fdb372b..f9838fe 100644
--- a/net/minecraft/entity/item/EntityMinecartContainer.java
+++ b/net/minecraft/entity/item/EntityMinecartContainer.java
@@ -212,7 +212,7 @@ public abstract class EntityMinecartContainer extends EntityMinecart implements
             NBTTagCompound var4 = var2.getCompoundTagAt(var3);
             int var5 = var4.getByte("Slot") & 255;
 
-            if (var5 >= 0 && var5 < this.minecartContainerItems.length)
+            if (var5 < this.minecartContainerItems.length)
             {
                 this.minecartContainerItems[var5] = ItemStack.loadItemStackFromNBT(var4);
             }
diff --git a/net/minecraft/entity/item/EntityMinecartTNT.java b/net/minecraft/entity/item/EntityMinecartTNT.java
index e007b61..8d723ef 100644
--- a/net/minecraft/entity/item/EntityMinecartTNT.java
+++ b/net/minecraft/entity/item/EntityMinecartTNT.java
@@ -191,12 +191,12 @@ public class EntityMinecartTNT extends EntityMinecart
      */
     public float getExplosionResistance(Explosion p_180428_1_, World worldIn, BlockPos p_180428_3_, IBlockState p_180428_4_)
     {
-        return this.isIgnited() && (BlockRailBase.func_176563_d(p_180428_4_) || BlockRailBase.func_176562_d(worldIn, p_180428_3_.offsetUp())) ? 0.0F : super.getExplosionResistance(p_180428_1_, worldIn, p_180428_3_, p_180428_4_);
+        return this.isIgnited() && (BlockRailBase.func_176563_d(p_180428_4_) || BlockRailBase.func_176562_d(worldIn, p_180428_3_.up())) ? 0.0F : super.getExplosionResistance(p_180428_1_, worldIn, p_180428_3_, p_180428_4_);
     }
 
     public boolean func_174816_a(Explosion p_174816_1_, World worldIn, BlockPos p_174816_3_, IBlockState p_174816_4_, float p_174816_5_)
     {
-        return this.isIgnited() && (BlockRailBase.func_176563_d(p_174816_4_) || BlockRailBase.func_176562_d(worldIn, p_174816_3_.offsetUp())) ? false : super.func_174816_a(p_174816_1_, worldIn, p_174816_3_, p_174816_4_, p_174816_5_);
+        return this.isIgnited() && (BlockRailBase.func_176563_d(p_174816_4_) || BlockRailBase.func_176562_d(worldIn, p_174816_3_.up())) ? false : super.func_174816_a(p_174816_1_, worldIn, p_174816_3_, p_174816_4_, p_174816_5_);
     }
 
     /**
diff --git a/net/minecraft/entity/item/EntityXPOrb.java b/net/minecraft/entity/item/EntityXPOrb.java
index 86b170d..384c556 100644
--- a/net/minecraft/entity/item/EntityXPOrb.java
+++ b/net/minecraft/entity/item/EntityXPOrb.java
@@ -117,7 +117,7 @@ public class EntityXPOrb extends Entity
             this.xpTargetColor = this.xpColor;
         }
 
-        if (this.closestPlayer != null && this.closestPlayer.func_175149_v())
+        if (this.closestPlayer != null && this.closestPlayer.isSpectator())
         {
             this.closestPlayer = null;
         }
diff --git a/net/minecraft/entity/monster/EntityEnderman.java b/net/minecraft/entity/monster/EntityEnderman.java
index 37bd1eb..60df486 100644
--- a/net/minecraft/entity/monster/EntityEnderman.java
+++ b/net/minecraft/entity/monster/EntityEnderman.java
@@ -241,7 +241,7 @@ public class EntityEnderman extends EntityMob
 
             while (!var15 && var14.getY() > 0)
             {
-                BlockPos var16 = var14.offsetDown();
+                BlockPos var16 = var14.down();
                 Block var17 = this.worldObj.getBlockState(var16).getBlock();
 
                 if (var17.getMaterial().blocksMovement())
@@ -559,7 +559,7 @@ public class EntityEnderman extends EntityMob
             int var5 = MathHelper.floor_double(this.field_179475_a.posZ - 1.0D + var1.nextDouble() * 2.0D);
             BlockPos var6 = new BlockPos(var3, var4, var5);
             Block var7 = var2.getBlockState(var6).getBlock();
-            Block var8 = var2.getBlockState(var6.offsetDown()).getBlock();
+            Block var8 = var2.getBlockState(var6.down()).getBlock();
 
             if (this.func_179474_a(var2, var6, this.field_179475_a.func_175489_ck().getBlock(), var7, var8))
             {
diff --git a/net/minecraft/entity/monster/EntityGuardian.java b/net/minecraft/entity/monster/EntityGuardian.java
index 15327d6..1c2e59b 100644
--- a/net/minecraft/entity/monster/EntityGuardian.java
+++ b/net/minecraft/entity/monster/EntityGuardian.java
@@ -301,7 +301,7 @@ public class EntityGuardian extends EntityMob
                     this.worldObj.playSound(this.posX, this.posY, this.posZ, "mob.guardian.flop", 1.0F, 1.0F, false);
                 }
 
-                this.field_175480_bp = this.motionY < 0.0D && this.worldObj.func_175677_d((new BlockPos(this)).offsetDown(), false);
+                this.field_175480_bp = this.motionY < 0.0D && this.worldObj.func_175677_d((new BlockPos(this)).down(), false);
             }
             else if (this.func_175472_n())
             {
diff --git a/net/minecraft/entity/monster/EntitySilverfish.java b/net/minecraft/entity/monster/EntitySilverfish.java
index 5ea795d..b98461e 100644
--- a/net/minecraft/entity/monster/EntitySilverfish.java
+++ b/net/minecraft/entity/monster/EntitySilverfish.java
@@ -125,7 +125,7 @@ public class EntitySilverfish extends EntityMob
 
     public float func_180484_a(BlockPos p_180484_1_)
     {
-        return this.worldObj.getBlockState(p_180484_1_.offsetDown()).getBlock() == Blocks.stone ? 10.0F : super.func_180484_a(p_180484_1_);
+        return this.worldObj.getBlockState(p_180484_1_.down()).getBlock() == Blocks.stone ? 10.0F : super.func_180484_a(p_180484_1_);
     }
 
     /**
diff --git a/net/minecraft/entity/passive/EntityAnimal.java b/net/minecraft/entity/passive/EntityAnimal.java
index 37991fb..cb599ee 100644
--- a/net/minecraft/entity/passive/EntityAnimal.java
+++ b/net/minecraft/entity/passive/EntityAnimal.java
@@ -81,7 +81,7 @@ public abstract class EntityAnimal extends EntityAgeable implements IAnimals
 
     public float func_180484_a(BlockPos p_180484_1_)
     {
-        return this.worldObj.getBlockState(p_180484_1_.offsetDown()).getBlock() == Blocks.grass ? 10.0F : this.worldObj.getLightBrightness(p_180484_1_) - 0.5F;
+        return this.worldObj.getBlockState(p_180484_1_.down()).getBlock() == Blocks.grass ? 10.0F : this.worldObj.getLightBrightness(p_180484_1_) - 0.5F;
     }
 
     /**
@@ -111,7 +111,7 @@ public abstract class EntityAnimal extends EntityAgeable implements IAnimals
         int var2 = MathHelper.floor_double(this.getEntityBoundingBox().minY);
         int var3 = MathHelper.floor_double(this.posZ);
         BlockPos var4 = new BlockPos(var1, var2, var3);
-        return this.worldObj.getBlockState(var4.offsetDown()).getBlock() == this.field_175506_bl && this.worldObj.getLight(var4) > 8 && super.getCanSpawnHere();
+        return this.worldObj.getBlockState(var4.down()).getBlock() == this.field_175506_bl && this.worldObj.getLight(var4) > 8 && super.getCanSpawnHere();
     }
 
     /**
diff --git a/net/minecraft/entity/passive/EntityBat.java b/net/minecraft/entity/passive/EntityBat.java
index 86cd9b8..793822e 100644
--- a/net/minecraft/entity/passive/EntityBat.java
+++ b/net/minecraft/entity/passive/EntityBat.java
@@ -129,7 +129,7 @@ public class EntityBat extends EntityAmbientCreature
     {
         super.updateAITasks();
         BlockPos var1 = new BlockPos(this);
-        BlockPos var2 = var1.offsetUp();
+        BlockPos var2 = var1.up();
 
         if (this.getIsBatHanging())
         {
diff --git a/net/minecraft/entity/passive/EntityHorse.java b/net/minecraft/entity/passive/EntityHorse.java
index 4f4aaed..80fe36c 100644
--- a/net/minecraft/entity/passive/EntityHorse.java
+++ b/net/minecraft/entity/passive/EntityHorse.java
@@ -619,7 +619,7 @@ public class EntityHorse extends EntityAnimal implements IInvBasic
     {
         Block.SoundType var3 = p_180429_2_.stepSound;
 
-        if (this.worldObj.getBlockState(p_180429_1_.offsetUp()).getBlock() == Blocks.snow_layer)
+        if (this.worldObj.getBlockState(p_180429_1_.up()).getBlock() == Blocks.snow_layer)
         {
             var3 = Blocks.snow_layer.stepSound;
         }
diff --git a/net/minecraft/entity/passive/EntityOcelot.java b/net/minecraft/entity/passive/EntityOcelot.java
index 2f84c12..f74969b 100644
--- a/net/minecraft/entity/passive/EntityOcelot.java
+++ b/net/minecraft/entity/passive/EntityOcelot.java
@@ -321,7 +321,7 @@ public class EntityOcelot extends EntityTameable
                 return false;
             }
 
-            Block var2 = this.worldObj.getBlockState(var1.offsetDown()).getBlock();
+            Block var2 = this.worldObj.getBlockState(var1.down()).getBlock();
 
             if (var2 == Blocks.grass || var2.getMaterial() == Material.leaves)
             {
diff --git a/net/minecraft/entity/passive/EntityRabbit.java b/net/minecraft/entity/passive/EntityRabbit.java
index c5ffed3..ad67118 100644
--- a/net/minecraft/entity/passive/EntityRabbit.java
+++ b/net/minecraft/entity/passive/EntityRabbit.java
@@ -600,7 +600,7 @@ public class EntityRabbit extends EntityAnimal
             if (this.func_179487_f())
             {
                 World var1 = EntityRabbit.this.worldObj;
-                BlockPos var2 = this.field_179494_b.offsetUp();
+                BlockPos var2 = this.field_179494_b.up();
                 IBlockState var3 = var1.getBlockState(var2);
                 Block var4 = var3.getBlock();
 
@@ -622,7 +622,7 @@ public class EntityRabbit extends EntityAnimal
 
             if (var3 == Blocks.farmland)
             {
-                p_179488_2_ = p_179488_2_.offsetUp();
+                p_179488_2_ = p_179488_2_.up();
                 IBlockState var4 = worldIn.getBlockState(p_179488_2_);
                 var3 = var4.getBlock();
 
diff --git a/net/minecraft/entity/passive/EntityWolf.java b/net/minecraft/entity/passive/EntityWolf.java
index b1345a2..9026ae0 100644
--- a/net/minecraft/entity/passive/EntityWolf.java
+++ b/net/minecraft/entity/passive/EntityWolf.java
@@ -251,7 +251,7 @@ public class EntityWolf extends EntityTameable
             this.timeWolfIsShaking = 0.0F;
             this.prevTimeWolfIsShaking = 0.0F;
         }
-        else if ((this.isWet || this.isShaking) && this.isShaking)
+        else if (this.isShaking)
         {
             if (this.timeWolfIsShaking == 0.0F)
             {
diff --git a/net/minecraft/entity/player/EntityPlayer.java b/net/minecraft/entity/player/EntityPlayer.java
index 04f22d7..79d220c 100644
--- a/net/minecraft/entity/player/EntityPlayer.java
+++ b/net/minecraft/entity/player/EntityPlayer.java
@@ -1,17 +1,19 @@
 package net.minecraft.entity.player;
 
-import com.google.common.base.Charsets;
-import com.google.common.collect.Lists;
-import com.mojang.authlib.GameProfile;
 import java.util.Collection;
 import java.util.Iterator;
 import java.util.List;
 import java.util.UUID;
+
+import tk.wurst_client.WurstClient;
+import tk.wurst_client.bot.WurstBot;
+import tk.wurst_client.features.mods.AntiKnockbackMod;
 import net.minecraft.block.Block;
 import net.minecraft.block.BlockBed;
 import net.minecraft.block.BlockDirectional;
 import net.minecraft.block.material.Material;
 import net.minecraft.block.state.IBlockState;
+import net.minecraft.client.Minecraft;
 import net.minecraft.command.server.CommandBlockLogic;
 import net.minecraft.enchantment.EnchantmentHelper;
 import net.minecraft.entity.Entity;
@@ -76,6 +78,10 @@ import net.minecraft.world.LockCode;
 import net.minecraft.world.World;
 import net.minecraft.world.WorldSettings;
 
+import com.google.common.base.Charsets;
+import com.google.common.collect.Lists;
+import com.mojang.authlib.GameProfile;
+
 public abstract class EntityPlayer extends EntityLivingBase
 {
     /** Inventory of the player */
@@ -266,9 +272,9 @@ public abstract class EntityPlayer extends EntityLivingBase
      */
     public void onUpdate()
     {
-        this.noClip = this.func_175149_v();
+        this.noClip = this.isSpectator();
 
-        if (this.func_175149_v())
+        if (this.isSpectator())
         {
             this.onGround = false;
         }
@@ -654,7 +660,7 @@ public abstract class EntityPlayer extends EntityLivingBase
         this.cameraYaw += (var2 - this.cameraYaw) * 0.4F;
         this.cameraPitch += (var3 - this.cameraPitch) * 0.8F;
 
-        if (this.getHealth() > 0.0F && !this.func_175149_v())
+        if (this.getHealth() > 0.0F && !this.isSpectator())
         {
             AxisAlignedBB var4 = null;
 
@@ -713,6 +719,10 @@ public abstract class EntityPlayer extends EntityLivingBase
      */
     public void onDeath(DamageSource cause)
     {
+    	//TODO: Client
+    	if(this.equals(Minecraft.getMinecraft().player) && WurstBot.isEnabled())
+			Minecraft.getMinecraft().displayGuiScreen(null);
+    	
         super.onDeath(cause);
         this.setSize(0.2F, 0.2F);
         this.setPosition(this.posX, this.posY, this.posZ);
@@ -1216,7 +1226,7 @@ public abstract class EntityPlayer extends EntityLivingBase
 
     public boolean interactWith(Entity p_70998_1_)
     {
-        if (this.func_175149_v())
+        if (this.isSpectator())
         {
             if (p_70998_1_ instanceof IInventory)
             {
@@ -1604,7 +1614,7 @@ public abstract class EntityPlayer extends EntityLivingBase
 
             if (var5 == null)
             {
-                var5 = this.playerLocation.offsetUp();
+                var5 = this.playerLocation.up();
             }
 
             this.setPosition((double)((float)var5.getX() + 0.5F), (double)((float)var5.getY() + 0.1F), (double)((float)var5.getZ() + 0.5F));
@@ -1641,7 +1651,7 @@ public abstract class EntityPlayer extends EntityLivingBase
             else
             {
                 Material var3 = worldIn.getBlockState(p_180467_1_).getBlock().getMaterial();
-                Material var4 = worldIn.getBlockState(p_180467_1_.offsetUp()).getBlock().getMaterial();
+                Material var4 = worldIn.getBlockState(p_180467_1_.up()).getBlock().getMaterial();
                 boolean var5 = !var3.isSolid() && !var3.isLiquid();
                 boolean var6 = !var4.isSolid() && !var4.isLiquid();
                 return var5 && var6 ? p_180467_1_ : null;
@@ -1925,7 +1935,7 @@ public abstract class EntityPlayer extends EntityLivingBase
      */
     protected void resetHeight()
     {
-        if (!this.func_175149_v())
+        if (!this.isSpectator())
         {
             super.resetHeight();
         }
@@ -2246,18 +2256,18 @@ public abstract class EntityPlayer extends EntityLivingBase
         {
             return false;
         }
-        else if (playerIn.func_175149_v())
+        else if (playerIn.isSpectator())
         {
             return false;
         }
         else
         {
             Team var2 = this.getTeam();
-            return var2 == null || playerIn == null || playerIn.getTeam() != var2 || !var2.func_98297_h();
+            return var2 == null || playerIn.getTeam() != var2 || !var2.func_98297_h();
         }
     }
 
-    public abstract boolean func_175149_v();
+    public abstract boolean isSpectator();
 
     /**
      * returns the inventory of this entity (only used in EntityPlayerMP it seems)
@@ -2269,7 +2279,9 @@ public abstract class EntityPlayer extends EntityLivingBase
 
     public boolean isPushedByWater()
     {
-        return !this.capabilities.isFlying;
+		// TODO: Client
+		return !this.capabilities.isFlying
+			&& !WurstClient.INSTANCE.mods.antiKnockbackMod.isActive();
     }
 
     public Scoreboard getWorldScoreboard()
@@ -2332,15 +2344,15 @@ public abstract class EntityPlayer extends EntityLivingBase
 
         if (var1 == null)
         {
-            var1 = func_175147_b(p_146094_0_.getName());
+            var1 = getUUIDFromPlayerName(p_146094_0_.getName());
         }
 
         return var1;
     }
 
-    public static UUID func_175147_b(String p_175147_0_)
+    public static UUID getUUIDFromPlayerName(String name)
     {
-        return UUID.nameUUIDFromBytes(("OfflinePlayer:" + p_175147_0_).getBytes(Charsets.UTF_8));
+        return UUID.nameUUIDFromBytes(("OfflinePlayer:" + name).getBytes(Charsets.UTF_8));
     }
 
     public boolean func_175146_a(LockCode p_175146_1_)
diff --git a/net/minecraft/entity/player/EntityPlayerMP.java b/net/minecraft/entity/player/EntityPlayerMP.java
index 385fbff..c7cdf08 100644
--- a/net/minecraft/entity/player/EntityPlayerMP.java
+++ b/net/minecraft/entity/player/EntityPlayerMP.java
@@ -3,13 +3,16 @@ package net.minecraft.entity.player;
 import com.google.common.collect.Lists;
 import com.google.common.collect.Sets;
 import com.mojang.authlib.GameProfile;
+
 import io.netty.buffer.Unpooled;
+
 import java.util.ArrayList;
 import java.util.Arrays;
 import java.util.Collection;
 import java.util.HashSet;
 import java.util.Iterator;
 import java.util.List;
+
 import net.minecraft.block.Block;
 import net.minecraft.block.BlockFence;
 import net.minecraft.block.BlockFenceGate;
@@ -96,6 +99,7 @@ import net.minecraft.world.WorldServer;
 import net.minecraft.world.WorldSettings;
 import net.minecraft.world.biome.BiomeGenBase;
 import net.minecraft.world.chunk.Chunk;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 
@@ -642,7 +646,7 @@ public class EntityPlayerMP extends EntityPlayer implements ICrafting
 
     public boolean func_174827_a(EntityPlayerMP p_174827_1_)
     {
-        return p_174827_1_.func_175149_v() ? this.func_175398_C() == this : (this.func_175149_v() ? false : super.func_174827_a(p_174827_1_));
+        return p_174827_1_.isSpectator() ? this.func_175398_C() == this : (this.isSpectator() ? false : super.func_174827_a(p_174827_1_));
     }
 
     private void sendTileEntityUpdate(TileEntity p_147097_1_)
@@ -730,11 +734,11 @@ public class EntityPlayerMP extends EntityPlayer implements ICrafting
 
         if (var8.getMaterial() == Material.air)
         {
-            Block var9 = this.worldObj.getBlockState(var7.offsetDown()).getBlock();
+            Block var9 = this.worldObj.getBlockState(var7.down()).getBlock();
 
             if (var9 instanceof BlockFence || var9 instanceof BlockWall || var9 instanceof BlockFenceGate)
             {
-                var7 = var7.offsetDown();
+                var7 = var7.down();
                 var8 = this.worldObj.getBlockState(var7).getBlock();
             }
         }
@@ -779,7 +783,7 @@ public class EntityPlayerMP extends EntityPlayer implements ICrafting
         {
             ILockableContainer var2 = (ILockableContainer)chestInventory;
 
-            if (var2.isLocked() && !this.func_175146_a(var2.getLockCode()) && !this.func_175149_v())
+            if (var2.isLocked() && !this.func_175146_a(var2.getLockCode()) && !this.isSpectator())
             {
                 this.playerNetServerHandler.sendPacket(new S02PacketChat(new ChatComponentTranslation("container.isLocked", new Object[] {chestInventory.getDisplayName()}), (byte)2));
                 this.playerNetServerHandler.sendPacket(new S29PacketSoundEffect("random.door_close", this.posX, this.posY, this.posZ, 1.0F, 1.0F));
@@ -1128,7 +1132,7 @@ public class EntityPlayerMP extends EntityPlayer implements ICrafting
         this.func_175136_bO();
     }
 
-    public boolean func_175149_v()
+    public boolean isSpectator()
     {
         return this.theItemInWorldManager.getGameType() == WorldSettings.GameType.SPECTATOR;
     }
@@ -1232,7 +1236,7 @@ public class EntityPlayerMP extends EntityPlayer implements ICrafting
 
     protected void func_175135_B()
     {
-        if (this.func_175149_v())
+        if (this.isSpectator())
         {
             this.func_175133_bi();
             this.setInvisible(true);
diff --git a/net/minecraft/entity/player/InventoryPlayer.java b/net/minecraft/entity/player/InventoryPlayer.java
index 634f3d1..68212ad 100644
--- a/net/minecraft/entity/player/InventoryPlayer.java
+++ b/net/minecraft/entity/player/InventoryPlayer.java
@@ -1,6 +1,7 @@
 package net.minecraft.entity.player;
 
 import java.util.concurrent.Callable;
+
 import net.minecraft.block.Block;
 import net.minecraft.command.server.CommandTestForBlock;
 import net.minecraft.crash.CrashReport;
@@ -605,7 +606,7 @@ public class InventoryPlayer implements IInventory
 
             if (var5 != null)
             {
-                if (var4 >= 0 && var4 < this.mainInventory.length)
+                if (var4 < this.mainInventory.length)
                 {
                     this.mainInventory[var4] = var5;
                 }
diff --git a/net/minecraft/entity/projectile/EntityArrow.java b/net/minecraft/entity/projectile/EntityArrow.java
index ddf5514..c4f6225 100644
--- a/net/minecraft/entity/projectile/EntityArrow.java
+++ b/net/minecraft/entity/projectile/EntityArrow.java
@@ -372,7 +372,7 @@ public class EntityArrow extends Entity implements IProjectile
                 }
                 else
                 {
-                    BlockPos var23 = var6.func_178782_a();
+                    BlockPos var23 = var6.getBlockPos();
                     this.field_145791_d = var23.getX();
                     this.field_145792_e = var23.getY();
                     this.field_145789_f = var23.getZ();
diff --git a/net/minecraft/entity/projectile/EntityFishHook.java b/net/minecraft/entity/projectile/EntityFishHook.java
index 36ee8af..536caba 100644
--- a/net/minecraft/entity/projectile/EntityFishHook.java
+++ b/net/minecraft/entity/projectile/EntityFishHook.java
@@ -356,7 +356,7 @@ public class EntityFishHook extends Entity
                 {
                     WorldServer var36 = (WorldServer)this.worldObj;
                     int var37 = 1;
-                    BlockPos var38 = (new BlockPos(this)).offsetUp();
+                    BlockPos var38 = (new BlockPos(this)).up();
 
                     if (this.rand.nextFloat() < 0.25F && this.worldObj.func_175727_C(var38))
                     {
diff --git a/net/minecraft/entity/projectile/EntitySmallFireball.java b/net/minecraft/entity/projectile/EntitySmallFireball.java
index 6c3a861..6238f18 100644
--- a/net/minecraft/entity/projectile/EntitySmallFireball.java
+++ b/net/minecraft/entity/projectile/EntitySmallFireball.java
@@ -64,7 +64,7 @@ public class EntitySmallFireball extends EntityFireball
 
                 if (var2)
                 {
-                    BlockPos var3 = p_70227_1_.func_178782_a().offset(p_70227_1_.field_178784_b);
+                    BlockPos var3 = p_70227_1_.getBlockPos().offset(p_70227_1_.sideHit);
 
                     if (this.worldObj.isAirBlock(var3))
                     {
diff --git a/net/minecraft/entity/projectile/EntityThrowable.java b/net/minecraft/entity/projectile/EntityThrowable.java
index d2dea91..dfb2f6c 100644
--- a/net/minecraft/entity/projectile/EntityThrowable.java
+++ b/net/minecraft/entity/projectile/EntityThrowable.java
@@ -218,7 +218,7 @@ public abstract class EntityThrowable extends Entity implements IProjectile
 
         if (var3 != null)
         {
-            if (var3.typeOfHit == MovingObjectPosition.MovingObjectType.BLOCK && this.worldObj.getBlockState(var3.func_178782_a()).getBlock() == Blocks.portal)
+            if (var3.typeOfHit == MovingObjectPosition.MovingObjectType.BLOCK && this.worldObj.getBlockState(var3.getBlockPos()).getBlock() == Blocks.portal)
             {
                 this.setInPortal();
             }
diff --git a/net/minecraft/init/Bootstrap.java b/net/minecraft/init/Bootstrap.java
index 244dc25..b3d5f85 100644
--- a/net/minecraft/init/Bootstrap.java
+++ b/net/minecraft/init/Bootstrap.java
@@ -222,7 +222,7 @@ public class Bootstrap
                 }
                 else
                 {
-                    if (!Material.air.equals(var12) || !Material.water.equals(var4.getBlockState(var11.offsetDown()).getBlock().getMaterial()))
+                    if (!Material.air.equals(var12) || !Material.water.equals(var4.getBlockState(var11.down()).getBlock().getMaterial()))
                     {
                         return this.field_150842_b.dispense(source, stack);
                     }
diff --git a/net/minecraft/inventory/ContainerPlayer.java b/net/minecraft/inventory/ContainerPlayer.java
index 8b598cc..f6f4c15 100644
--- a/net/minecraft/inventory/ContainerPlayer.java
+++ b/net/minecraft/inventory/ContainerPlayer.java
@@ -50,7 +50,7 @@ public class ContainerPlayer extends Container
                 {
                     return stack == null ? false : (stack.getItem() instanceof ItemArmor ? ((ItemArmor)stack.getItem()).armorType == var44 : (stack.getItem() != Item.getItemFromBlock(Blocks.pumpkin) && stack.getItem() != Items.skull ? false : var44 == 0));
                 }
-                public String func_178171_c()
+                public String getNull()
                 {
                     return ItemArmor.EMPTY_SLOT_NAMES[var44];
                 }
diff --git a/net/minecraft/inventory/InventoryEnderChest.java b/net/minecraft/inventory/InventoryEnderChest.java
index 3eb0d41..664ccd7 100644
--- a/net/minecraft/inventory/InventoryEnderChest.java
+++ b/net/minecraft/inventory/InventoryEnderChest.java
@@ -35,7 +35,7 @@ public class InventoryEnderChest extends InventoryBasic
             NBTTagCompound var3 = p_70486_1_.getCompoundTagAt(var2);
             int var4 = var3.getByte("Slot") & 255;
 
-            if (var4 >= 0 && var4 < this.getSizeInventory())
+            if (var4 < this.getSizeInventory())
             {
                 this.setInventorySlotContents(var4, ItemStack.loadItemStackFromNBT(var3));
             }
diff --git a/net/minecraft/inventory/Slot.java b/net/minecraft/inventory/Slot.java
index 15d5c72..ce20868 100644
--- a/net/minecraft/inventory/Slot.java
+++ b/net/minecraft/inventory/Slot.java
@@ -119,7 +119,12 @@ public class Slot
         return this.getSlotStackLimit();
     }
 
-    public String func_178171_c()
+    //TODO: Client
+    /**
+     * WTF, null?!
+     * @return null
+     */
+    public String getNull()
     {
         return null;
     }
diff --git a/net/minecraft/item/ItemArmorStand.java b/net/minecraft/item/ItemArmorStand.java
index 0624a57..ea0fca2 100644
--- a/net/minecraft/item/ItemArmorStand.java
+++ b/net/minecraft/item/ItemArmorStand.java
@@ -46,7 +46,7 @@ public class ItemArmorStand extends Item
             }
             else
             {
-                BlockPos var11 = var10.offsetUp();
+                BlockPos var11 = var10.up();
                 boolean var12 = !worldIn.isAirBlock(var10) && !worldIn.getBlockState(var10).getBlock().isReplaceable(worldIn, var10);
                 var12 |= !worldIn.isAirBlock(var11) && !worldIn.getBlockState(var11).getBlock().isReplaceable(worldIn, var11);
 
diff --git a/net/minecraft/item/ItemBed.java b/net/minecraft/item/ItemBed.java
index 4c22f02..f318bdd 100644
--- a/net/minecraft/item/ItemBed.java
+++ b/net/minecraft/item/ItemBed.java
@@ -44,7 +44,7 @@ public class ItemBed extends Item
 
             if (!var11)
             {
-                pos = pos.offsetUp();
+                pos = pos.up();
             }
 
             int var12 = MathHelper.floor_double((double)(playerIn.rotationYaw * 4.0F / 360.0F) + 0.5D) & 3;
@@ -56,7 +56,7 @@ public class ItemBed extends Item
 
             if (playerIn.func_175151_a(pos, side, stack) && playerIn.func_175151_a(var14, side, stack))
             {
-                if (var16 && var17 && World.doesBlockHaveSolidTopSurface(worldIn, pos.offsetDown()) && World.doesBlockHaveSolidTopSurface(worldIn, var14.offsetDown()))
+                if (var16 && var17 && World.doesBlockHaveSolidTopSurface(worldIn, pos.down()) && World.doesBlockHaveSolidTopSurface(worldIn, var14.down()))
                 {
                     int var18 = var13.getHorizontalIndex();
                     IBlockState var19 = Blocks.bed.getDefaultState().withProperty(BlockBed.OCCUPIED_PROP, Boolean.valueOf(false)).withProperty(BlockBed.AGE, var13).withProperty(BlockBed.PART_PROP, BlockBed.EnumPartType.FOOT);
diff --git a/net/minecraft/item/ItemBoat.java b/net/minecraft/item/ItemBoat.java
index 5d85765..56a17a2 100644
--- a/net/minecraft/item/ItemBoat.java
+++ b/net/minecraft/item/ItemBoat.java
@@ -81,11 +81,11 @@ public class ItemBoat extends Item
             {
                 if (var24.typeOfHit == MovingObjectPosition.MovingObjectType.BLOCK)
                 {
-                    BlockPos var33 = var24.func_178782_a();
+                    BlockPos var33 = var24.getBlockPos();
 
                     if (worldIn.getBlockState(var33).getBlock() == Blocks.snow_layer)
                     {
-                        var33 = var33.offsetDown();
+                        var33 = var33.down();
                     }
 
                     EntityBoat var34 = new EntityBoat(worldIn, (double)((float)var33.getX() + 0.5F), (double)((float)var33.getY() + 1.0F), (double)((float)var33.getZ() + 0.5F));
diff --git a/net/minecraft/item/ItemBucket.java b/net/minecraft/item/ItemBucket.java
index 37b6e24..33b7bfa 100644
--- a/net/minecraft/item/ItemBucket.java
+++ b/net/minecraft/item/ItemBucket.java
@@ -43,7 +43,7 @@ public class ItemBucket extends Item
         {
             if (var5.typeOfHit == MovingObjectPosition.MovingObjectType.BLOCK)
             {
-                BlockPos var6 = var5.func_178782_a();
+                BlockPos var6 = var5.getBlockPos();
 
                 if (!worldIn.isBlockModifiable(playerIn, var6))
                 {
@@ -52,7 +52,7 @@ public class ItemBucket extends Item
 
                 if (var4)
                 {
-                    if (!playerIn.func_175151_a(var6.offset(var5.field_178784_b), var5.field_178784_b, itemStackIn))
+                    if (!playerIn.func_175151_a(var6.offset(var5.sideHit), var5.sideHit, itemStackIn))
                     {
                         return itemStackIn;
                     }
@@ -81,9 +81,9 @@ public class ItemBucket extends Item
                         return new ItemStack(Items.bucket);
                     }
 
-                    BlockPos var9 = var6.offset(var5.field_178784_b);
+                    BlockPos var9 = var6.offset(var5.sideHit);
 
-                    if (!playerIn.func_175151_a(var9, var5.field_178784_b, itemStackIn))
+                    if (!playerIn.func_175151_a(var9, var5.sideHit, itemStackIn))
                     {
                         return itemStackIn;
                     }
diff --git a/net/minecraft/item/ItemDoor.java b/net/minecraft/item/ItemDoor.java
index 216565f..8cb0370 100644
--- a/net/minecraft/item/ItemDoor.java
+++ b/net/minecraft/item/ItemDoor.java
@@ -63,10 +63,10 @@ public class ItemDoor extends Item
     {
         BlockPos var4 = p_179235_1_.offset(p_179235_2_.rotateY());
         BlockPos var5 = p_179235_1_.offset(p_179235_2_.rotateYCCW());
-        int var6 = (worldIn.getBlockState(var5).getBlock().isNormalCube() ? 1 : 0) + (worldIn.getBlockState(var5.offsetUp()).getBlock().isNormalCube() ? 1 : 0);
-        int var7 = (worldIn.getBlockState(var4).getBlock().isNormalCube() ? 1 : 0) + (worldIn.getBlockState(var4.offsetUp()).getBlock().isNormalCube() ? 1 : 0);
-        boolean var8 = worldIn.getBlockState(var5).getBlock() == p_179235_3_ || worldIn.getBlockState(var5.offsetUp()).getBlock() == p_179235_3_;
-        boolean var9 = worldIn.getBlockState(var4).getBlock() == p_179235_3_ || worldIn.getBlockState(var4.offsetUp()).getBlock() == p_179235_3_;
+        int var6 = (worldIn.getBlockState(var5).getBlock().isNormalCube() ? 1 : 0) + (worldIn.getBlockState(var5.up()).getBlock().isNormalCube() ? 1 : 0);
+        int var7 = (worldIn.getBlockState(var4).getBlock().isNormalCube() ? 1 : 0) + (worldIn.getBlockState(var4.up()).getBlock().isNormalCube() ? 1 : 0);
+        boolean var8 = worldIn.getBlockState(var5).getBlock() == p_179235_3_ || worldIn.getBlockState(var5.up()).getBlock() == p_179235_3_;
+        boolean var9 = worldIn.getBlockState(var4).getBlock() == p_179235_3_ || worldIn.getBlockState(var4.up()).getBlock() == p_179235_3_;
         boolean var10 = false;
 
         if (var8 && !var9 || var7 > var6)
@@ -74,7 +74,7 @@ public class ItemDoor extends Item
             var10 = true;
         }
 
-        BlockPos var11 = p_179235_1_.offsetUp();
+        BlockPos var11 = p_179235_1_.up();
         IBlockState var12 = p_179235_3_.getDefaultState().withProperty(BlockDoor.FACING_PROP, p_179235_2_).withProperty(BlockDoor.HINGEPOSITION_PROP, var10 ? BlockDoor.EnumHingePosition.RIGHT : BlockDoor.EnumHingePosition.LEFT);
         worldIn.setBlockState(p_179235_1_, var12.withProperty(BlockDoor.HALF_PROP, BlockDoor.EnumDoorHalf.LOWER), 2);
         worldIn.setBlockState(var11, var12.withProperty(BlockDoor.HALF_PROP, BlockDoor.EnumDoorHalf.UPPER), 2);
diff --git a/net/minecraft/item/ItemEnderEye.java b/net/minecraft/item/ItemEnderEye.java
index d0d15c1..498cbbb 100644
--- a/net/minecraft/item/ItemEnderEye.java
+++ b/net/minecraft/item/ItemEnderEye.java
@@ -153,7 +153,7 @@ public class ItemEnderEye extends Item
     {
         MovingObjectPosition var4 = this.getMovingObjectPositionFromPlayer(worldIn, playerIn, false);
 
-        if (var4 != null && var4.typeOfHit == MovingObjectPosition.MovingObjectType.BLOCK && worldIn.getBlockState(var4.func_178782_a()).getBlock() == Blocks.end_portal_frame)
+        if (var4 != null && var4.typeOfHit == MovingObjectPosition.MovingObjectType.BLOCK && worldIn.getBlockState(var4.getBlockPos()).getBlock() == Blocks.end_portal_frame)
         {
             return itemStackIn;
         }
diff --git a/net/minecraft/item/ItemGlassBottle.java b/net/minecraft/item/ItemGlassBottle.java
index 482de16..37f4cd5 100644
--- a/net/minecraft/item/ItemGlassBottle.java
+++ b/net/minecraft/item/ItemGlassBottle.java
@@ -33,14 +33,14 @@ public class ItemGlassBottle extends Item
         {
             if (var4.typeOfHit == MovingObjectPosition.MovingObjectType.BLOCK)
             {
-                BlockPos var5 = var4.func_178782_a();
+                BlockPos var5 = var4.getBlockPos();
 
                 if (!worldIn.isBlockModifiable(playerIn, var5))
                 {
                     return itemStackIn;
                 }
 
-                if (!playerIn.func_175151_a(var5.offset(var4.field_178784_b), var4.field_178784_b, itemStackIn))
+                if (!playerIn.func_175151_a(var5.offset(var4.sideHit), var4.sideHit, itemStackIn))
                 {
                     return itemStackIn;
                 }
diff --git a/net/minecraft/item/ItemHoe.java b/net/minecraft/item/ItemHoe.java
index fffb912..e031cfa 100644
--- a/net/minecraft/item/ItemHoe.java
+++ b/net/minecraft/item/ItemHoe.java
@@ -41,7 +41,7 @@ public class ItemHoe extends Item
             IBlockState var9 = worldIn.getBlockState(pos);
             Block var10 = var9.getBlock();
 
-            if (side != EnumFacing.DOWN && worldIn.getBlockState(pos.offsetUp()).getBlock().getMaterial() == Material.air)
+            if (side != EnumFacing.DOWN && worldIn.getBlockState(pos.up()).getBlock().getMaterial() == Material.air)
             {
                 if (var10 == Blocks.grass)
                 {
diff --git a/net/minecraft/item/ItemLilyPad.java b/net/minecraft/item/ItemLilyPad.java
index 8fdbbed..fb2519a 100644
--- a/net/minecraft/item/ItemLilyPad.java
+++ b/net/minecraft/item/ItemLilyPad.java
@@ -35,19 +35,19 @@ public class ItemLilyPad extends ItemColored
         {
             if (var4.typeOfHit == MovingObjectPosition.MovingObjectType.BLOCK)
             {
-                BlockPos var5 = var4.func_178782_a();
+                BlockPos var5 = var4.getBlockPos();
 
                 if (!worldIn.isBlockModifiable(playerIn, var5))
                 {
                     return itemStackIn;
                 }
 
-                if (!playerIn.func_175151_a(var5.offset(var4.field_178784_b), var4.field_178784_b, itemStackIn))
+                if (!playerIn.func_175151_a(var5.offset(var4.sideHit), var4.sideHit, itemStackIn))
                 {
                     return itemStackIn;
                 }
 
-                BlockPos var6 = var5.offsetUp();
+                BlockPos var6 = var5.up();
                 IBlockState var7 = worldIn.getBlockState(var5);
 
                 if (var7.getBlock().getMaterial() == Material.water && ((Integer)var7.getValue(BlockLiquid.LEVEL)).intValue() == 0 && worldIn.isAirBlock(var6))
diff --git a/net/minecraft/item/ItemMinecart.java b/net/minecraft/item/ItemMinecart.java
index 5742d37..5eecea2 100644
--- a/net/minecraft/item/ItemMinecart.java
+++ b/net/minecraft/item/ItemMinecart.java
@@ -45,12 +45,12 @@ public class ItemMinecart extends Item
             }
             else
             {
-                if (var12.getBlock().getMaterial() != Material.air || !BlockRailBase.func_176563_d(var4.getBlockState(var11.offsetDown())))
+                if (var12.getBlock().getMaterial() != Material.air || !BlockRailBase.func_176563_d(var4.getBlockState(var11.down())))
                 {
                     return this.behaviourDefaultDispenseItem.dispense(source, stack);
                 }
 
-                IBlockState var16 = var4.getBlockState(var11.offsetDown());
+                IBlockState var16 = var4.getBlockState(var11.down());
                 BlockRailBase.EnumRailDirection var17 = var16.getBlock() instanceof BlockRailBase ? (BlockRailBase.EnumRailDirection)var16.getValue(((BlockRailBase)var16.getBlock()).func_176560_l()) : BlockRailBase.EnumRailDirection.NORTH_SOUTH;
 
                 if (var3 != EnumFacing.DOWN && var17.func_177018_c())
diff --git a/net/minecraft/item/ItemMonsterPlacer.java b/net/minecraft/item/ItemMonsterPlacer.java
index dfc0be8..cbe31be 100644
--- a/net/minecraft/item/ItemMonsterPlacer.java
+++ b/net/minecraft/item/ItemMonsterPlacer.java
@@ -141,14 +141,14 @@ public class ItemMonsterPlacer extends Item
             {
                 if (var4.typeOfHit == MovingObjectPosition.MovingObjectType.BLOCK)
                 {
-                    BlockPos var5 = var4.func_178782_a();
+                    BlockPos var5 = var4.getBlockPos();
 
                     if (!worldIn.isBlockModifiable(playerIn, var5))
                     {
                         return itemStackIn;
                     }
 
-                    if (!playerIn.func_175151_a(var5, var4.field_178784_b, itemStackIn))
+                    if (!playerIn.func_175151_a(var5, var4.sideHit, itemStackIn))
                     {
                         return itemStackIn;
                     }
diff --git a/net/minecraft/item/ItemSeedFood.java b/net/minecraft/item/ItemSeedFood.java
index 4f7a23f..c725e8d 100644
--- a/net/minecraft/item/ItemSeedFood.java
+++ b/net/minecraft/item/ItemSeedFood.java
@@ -37,9 +37,9 @@ public class ItemSeedFood extends ItemFood
         {
             return false;
         }
-        else if (worldIn.getBlockState(pos).getBlock() == this.soilId && worldIn.isAirBlock(pos.offsetUp()))
+        else if (worldIn.getBlockState(pos).getBlock() == this.soilId && worldIn.isAirBlock(pos.up()))
         {
-            worldIn.setBlockState(pos.offsetUp(), this.field_150908_b.getDefaultState());
+            worldIn.setBlockState(pos.up(), this.field_150908_b.getDefaultState());
             --stack.stackSize;
             return true;
         }
diff --git a/net/minecraft/item/ItemSeeds.java b/net/minecraft/item/ItemSeeds.java
index 015cbfb..ecc1daa 100644
--- a/net/minecraft/item/ItemSeeds.java
+++ b/net/minecraft/item/ItemSeeds.java
@@ -38,9 +38,9 @@ public class ItemSeeds extends Item
         {
             return false;
         }
-        else if (worldIn.getBlockState(pos).getBlock() == this.soilBlockID && worldIn.isAirBlock(pos.offsetUp()))
+        else if (worldIn.getBlockState(pos).getBlock() == this.soilBlockID && worldIn.isAirBlock(pos.up()))
         {
-            worldIn.setBlockState(pos.offsetUp(), this.field_150925_a.getDefaultState());
+            worldIn.setBlockState(pos.up(), this.field_150925_a.getDefaultState());
             --stack.stackSize;
             return true;
         }
diff --git a/net/minecraft/nbt/CompressedStreamTools.java b/net/minecraft/nbt/CompressedStreamTools.java
index 94da7fe..8169124 100644
--- a/net/minecraft/nbt/CompressedStreamTools.java
+++ b/net/minecraft/nbt/CompressedStreamTools.java
@@ -14,6 +14,7 @@ import java.io.InputStream;
 import java.io.OutputStream;
 import java.util.zip.GZIPInputStream;
 import java.util.zip.GZIPOutputStream;
+
 import net.minecraft.crash.CrashReport;
 import net.minecraft.crash.CrashReportCategory;
 import net.minecraft.util.ReportedException;
diff --git a/net/minecraft/nbt/JsonToNBT.java b/net/minecraft/nbt/JsonToNBT.java
index 537dc24..1bff09c 100644
--- a/net/minecraft/nbt/JsonToNBT.java
+++ b/net/minecraft/nbt/JsonToNBT.java
@@ -15,7 +15,7 @@ public class JsonToNBT
     private static final Pattern field_179273_b = Pattern.compile("\\[[-+\\d|,\\s]+\\]");
     private static final String __OBFID = "CL_00001232";
 
-    public static NBTTagCompound func_180713_a(String p_180713_0_) throws NBTException
+    public static NBTTagCompound getTagFromJson(String p_180713_0_) throws NBTException
     {
         p_180713_0_ = p_180713_0_.trim();
 
diff --git a/net/minecraft/nbt/NBTTagCompound.java b/net/minecraft/nbt/NBTTagCompound.java
index 6fcada4..1cdd1ef 100644
--- a/net/minecraft/nbt/NBTTagCompound.java
+++ b/net/minecraft/nbt/NBTTagCompound.java
@@ -1,6 +1,7 @@
 package net.minecraft.nbt;
 
 import com.google.common.collect.Maps;
+
 import java.io.DataInput;
 import java.io.DataOutput;
 import java.io.IOException;
@@ -8,9 +9,11 @@ import java.util.Iterator;
 import java.util.Map;
 import java.util.Set;
 import java.util.concurrent.Callable;
+
 import net.minecraft.crash.CrashReport;
 import net.minecraft.crash.CrashReportCategory;
 import net.minecraft.util.ReportedException;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 
diff --git a/net/minecraft/network/NetHandlerPlayServer.java b/net/minecraft/network/NetHandlerPlayServer.java
index 3301ef8..65aa056 100644
--- a/net/minecraft/network/NetHandlerPlayServer.java
+++ b/net/minecraft/network/NetHandlerPlayServer.java
@@ -2,9 +2,11 @@ package net.minecraft.network;
 
 import com.google.common.collect.Lists;
 import com.google.common.util.concurrent.Futures;
+
 import io.netty.buffer.Unpooled;
 import io.netty.util.concurrent.Future;
 import io.netty.util.concurrent.GenericFutureListener;
+
 import java.io.IOException;
 import java.util.ArrayList;
 import java.util.Collections;
@@ -12,6 +14,7 @@ import java.util.Date;
 import java.util.Iterator;
 import java.util.Set;
 import java.util.concurrent.Callable;
+
 import net.minecraft.block.material.Material;
 import net.minecraft.command.server.CommandBlockLogic;
 import net.minecraft.crash.CrashReport;
@@ -37,6 +40,7 @@ import net.minecraft.item.ItemStack;
 import net.minecraft.item.ItemWritableBook;
 import net.minecraft.nbt.NBTTagCompound;
 import net.minecraft.nbt.NBTTagString;
+import net.minecraft.network.NetworkManager;
 import net.minecraft.network.play.INetHandlerPlayServer;
 import net.minecraft.network.play.client.C00PacketKeepAlive;
 import net.minecraft.network.play.client.C01PacketChatMessage;
@@ -89,6 +93,7 @@ import net.minecraft.util.IChatComponent;
 import net.minecraft.util.IntHashMap;
 import net.minecraft.util.ReportedException;
 import net.minecraft.world.WorldServer;
+
 import org.apache.commons.lang3.StringUtils;
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
@@ -493,7 +498,7 @@ public class NetHandlerPlayServer implements INetHandlerPlayServer, IUpdatePlaye
         switch (NetHandlerPlayServer.SwitchAction.field_180224_a[packetIn.func_180762_c().ordinal()])
         {
             case 1:
-                if (!this.playerEntity.func_175149_v())
+                if (!this.playerEntity.isSpectator())
                 {
                     this.playerEntity.dropOneItem(false);
                 }
@@ -501,7 +506,7 @@ public class NetHandlerPlayServer implements INetHandlerPlayServer, IUpdatePlaye
                 return;
 
             case 2:
-                if (!this.playerEntity.func_175149_v())
+                if (!this.playerEntity.isSpectator())
                 {
                     this.playerEntity.dropOneItem(true);
                 }
@@ -638,7 +643,7 @@ public class NetHandlerPlayServer implements INetHandlerPlayServer, IUpdatePlaye
     {
         PacketThreadUtil.func_180031_a(p_175088_1_, this, this.playerEntity.getServerForPlayer());
 
-        if (this.playerEntity.func_175149_v())
+        if (this.playerEntity.isSpectator())
         {
             Entity var2 = null;
             WorldServer[] var3 = this.serverController.worldServers;
@@ -1012,7 +1017,7 @@ public class NetHandlerPlayServer implements INetHandlerPlayServer, IUpdatePlaye
 
         if (this.playerEntity.openContainer.windowId == packetIn.getWindowId() && this.playerEntity.openContainer.getCanCraft(this.playerEntity))
         {
-            if (this.playerEntity.func_175149_v())
+            if (this.playerEntity.isSpectator())
             {
                 ArrayList var2 = Lists.newArrayList();
 
@@ -1062,7 +1067,7 @@ public class NetHandlerPlayServer implements INetHandlerPlayServer, IUpdatePlaye
         PacketThreadUtil.func_180031_a(packetIn, this, this.playerEntity.getServerForPlayer());
         this.playerEntity.markPlayerActive();
 
-        if (this.playerEntity.openContainer.windowId == packetIn.getId() && this.playerEntity.openContainer.getCanCraft(this.playerEntity) && !this.playerEntity.func_175149_v())
+        if (this.playerEntity.openContainer.windowId == packetIn.getId() && this.playerEntity.openContainer.getCanCraft(this.playerEntity) && !this.playerEntity.isSpectator())
         {
             this.playerEntity.openContainer.enchantItem(this.playerEntity, packetIn.getButton());
             this.playerEntity.openContainer.detectAndSendChanges();
@@ -1142,7 +1147,7 @@ public class NetHandlerPlayServer implements INetHandlerPlayServer, IUpdatePlaye
         PacketThreadUtil.func_180031_a(packetIn, this, this.playerEntity.getServerForPlayer());
         Short var2 = (Short)this.field_147372_n.lookup(this.playerEntity.openContainer.windowId);
 
-        if (var2 != null && packetIn.getUid() == var2.shortValue() && this.playerEntity.openContainer.windowId == packetIn.getId() && !this.playerEntity.openContainer.getCanCraft(this.playerEntity) && !this.playerEntity.func_175149_v())
+        if (var2 != null && packetIn.getUid() == var2.shortValue() && this.playerEntity.openContainer.windowId == packetIn.getId() && !this.playerEntity.openContainer.getCanCraft(this.playerEntity) && !this.playerEntity.isSpectator())
         {
             this.playerEntity.openContainer.setCanCraft(this.playerEntity, true);
         }
diff --git a/net/minecraft/network/NetworkManager.java b/net/minecraft/network/NetworkManager.java
index ee166ff..0d87e5b 100644
--- a/net/minecraft/network/NetworkManager.java
+++ b/net/minecraft/network/NetworkManager.java
@@ -1,17 +1,7 @@
 package net.minecraft.network;
 
-import com.google.common.collect.Queues;
-import com.google.common.util.concurrent.ThreadFactoryBuilder;
 import io.netty.bootstrap.Bootstrap;
-import io.netty.channel.Channel;
-import io.netty.channel.ChannelException;
-import io.netty.channel.ChannelFuture;
-import io.netty.channel.ChannelFutureListener;
-import io.netty.channel.ChannelHandlerContext;
-import io.netty.channel.ChannelInitializer;
-import io.netty.channel.ChannelOption;
-import io.netty.channel.EventLoopGroup;
-import io.netty.channel.SimpleChannelInboundHandler;
+import io.netty.channel.*;
 import io.netty.channel.local.LocalChannel;
 import io.netty.channel.local.LocalEventLoopGroup;
 import io.netty.channel.local.LocalServerChannel;
@@ -20,20 +10,16 @@ import io.netty.channel.socket.nio.NioSocketChannel;
 import io.netty.handler.timeout.ReadTimeoutHandler;
 import io.netty.util.AttributeKey;
 import io.netty.util.concurrent.GenericFutureListener;
+
 import java.net.InetAddress;
 import java.net.SocketAddress;
 import java.util.Queue;
+
 import javax.crypto.SecretKey;
+
 import net.minecraft.server.gui.IUpdatePlayerListBox;
-import net.minecraft.util.ChatComponentText;
-import net.minecraft.util.ChatComponentTranslation;
-import net.minecraft.util.CryptManager;
-import net.minecraft.util.IChatComponent;
-import net.minecraft.util.LazyLoadBase;
-import net.minecraft.util.MessageDeserializer;
-import net.minecraft.util.MessageDeserializer2;
-import net.minecraft.util.MessageSerializer;
-import net.minecraft.util.MessageSerializer2;
+import net.minecraft.util.*;
+
 import org.apache.commons.lang3.ArrayUtils;
 import org.apache.commons.lang3.Validate;
 import org.apache.logging.log4j.LogManager;
@@ -41,38 +27,45 @@ import org.apache.logging.log4j.Logger;
 import org.apache.logging.log4j.Marker;
 import org.apache.logging.log4j.MarkerManager;
 
+import tk.wurst_client.WurstClient;
+import tk.wurst_client.events.PacketInputEvent;
+
+import com.google.common.collect.Queues;
+import com.google.common.util.concurrent.ThreadFactoryBuilder;
+
 public class NetworkManager extends SimpleChannelInboundHandler
 {
+	private static final String __OBFID = "CL_00000668";
     private static final Logger logger = LogManager.getLogger();
     public static final Marker logMarkerNetwork = MarkerManager.getMarker("NETWORK");
     public static final Marker logMarkerPackets = MarkerManager.getMarker("NETWORK_PACKETS", logMarkerNetwork);
     public static final AttributeKey attrKeyConnectionState = AttributeKey.valueOf("protocol");
     public static final LazyLoadBase CLIENT_NIO_EVENTLOOP = new LazyLoadBase()
     {
-        private static final String __OBFID = "CL_00001241";
         protected NioEventLoopGroup genericLoad()
         {
-            return new NioEventLoopGroup(0, (new ThreadFactoryBuilder()).setNameFormat("Netty Client IO #%d").setDaemon(true).build());
+			return new NioEventLoopGroup(0, new ThreadFactoryBuilder().setNameFormat("Netty Client IO #%d").setDaemon(true).build());
         }
+
+		@Override
         protected Object load()
         {
-            return this.genericLoad();
+			return genericLoad();
         }
     };
     public static final LazyLoadBase CLIENT_LOCAL_EVENTLOOP = new LazyLoadBase()
     {
-        private static final String __OBFID = "CL_00001242";
         protected LocalEventLoopGroup genericLoad()
         {
-            return new LocalEventLoopGroup(0, (new ThreadFactoryBuilder()).setNameFormat("Netty Local Client IO #%d").setDaemon(true).build());
+			return new LocalEventLoopGroup(0, new ThreadFactoryBuilder().setNameFormat("Netty Local Client IO #%d").setDaemon(true).build());
         }
+
+		@Override
         protected Object load()
         {
-            return this.genericLoad();
+			return genericLoad();
         }
     };
-    private final EnumPacketDirection direction;
-
     /** The queue for packets that require transmission */
     private final Queue outboundPacketsQueue = Queues.newConcurrentLinkedQueue();
 
@@ -89,59 +82,74 @@ public class NetworkManager extends SimpleChannelInboundHandler
     private IChatComponent terminationReason;
     private boolean isEncrypted;
     private boolean disconnected;
-    private static final String __OBFID = "CL_00001240";
 
     public NetworkManager(EnumPacketDirection packetDirection)
-    {
-        this.direction = packetDirection;
-    }
+	{}
 
+	@Override
     public void channelActive(ChannelHandlerContext p_channelActive_1_) throws Exception
     {
         super.channelActive(p_channelActive_1_);
-        this.channel = p_channelActive_1_.channel();
-        this.socketAddress = this.channel.remoteAddress();
+		channel = p_channelActive_1_.channel();
+		socketAddress = channel.remoteAddress();
 
         try
         {
-            this.setConnectionState(EnumConnectionState.HANDSHAKING);
-        }
-        catch (Throwable var3)
+			setConnectionState(EnumConnectionState.HANDSHAKING);
+		}catch(Throwable var3)
         {
             logger.fatal(var3);
         }
     }
 
     /**
-     * Sets the new connection state and registers which packets this channel may send and receive
+	 * Sets the new connection state and registers which packets this channel
+	 * may send and receive
      */
+	@SuppressWarnings("unchecked")
     public void setConnectionState(EnumConnectionState newState)
     {
-        this.channel.attr(attrKeyConnectionState).set(newState);
-        this.channel.config().setAutoRead(true);
+		channel.attr(attrKeyConnectionState).set(newState);
+		channel.config().setAutoRead(true);
         logger.debug("Enabled auto read");
     }
 
+	@Override
     public void channelInactive(ChannelHandlerContext p_channelInactive_1_)
     {
-        this.closeChannel(new ChatComponentTranslation("disconnect.endOfStream", new Object[0]));
+		closeChannel(new ChatComponentTranslation("disconnect.endOfStream", new Object[0]));
     }
 
+	@Override
     public void exceptionCaught(ChannelHandlerContext p_exceptionCaught_1_, Throwable p_exceptionCaught_2_)
     {
-        logger.debug("Disconnecting " + this.getRemoteAddress(), p_exceptionCaught_2_);
-        this.closeChannel(new ChatComponentTranslation("disconnect.genericReason", new Object[] {"Internal Exception: " + p_exceptionCaught_2_}));
+		logger.debug("Disconnecting " + getRemoteAddress(), p_exceptionCaught_2_);
+
+		// TODO: Client
+		if(p_exceptionCaught_2_ instanceof NullPointerException)
+			closeChannel(new ChatComponentTranslation(
+				"disconnect.genericReason",
+				"c[6Wurstc]r\n"
+					+ "You are using a lcrackedr alt on a lpremiumr server."
+					+ "\ncDon't do this!"));
+		else
+			closeChannel(new ChatComponentTranslation("disconnect.genericReason", new Object[]{"Internal Exception: " + p_exceptionCaught_2_}));
     }
 
     protected void channelRead0(ChannelHandlerContext p_channelRead0_1_, Packet p_channelRead0_2_)
     {
-        if (this.channel.isOpen())
+		if(channel.isOpen())
         {
+			//TODO: Client
+			PacketInputEvent event = new PacketInputEvent(p_channelRead0_2_);
+			WurstClient.INSTANCE.events.fire(event);
+			if(event.isCancelled())
+				return;
+			
             try
             {
-                p_channelRead0_2_.processPacket(this.packetListener);
-            }
-            catch (ThreadQuickExitException var4)
+				p_channelRead0_2_.processPacket(packetListener);
+			}catch(ThreadQuickExitException var4)
             {
                 ;
             }
@@ -149,110 +157,97 @@ public class NetworkManager extends SimpleChannelInboundHandler
     }
 
     /**
-     * Sets the NetHandler for this NetworkManager, no checks are made if this handler is suitable for the particular
+	 * Sets the NetHandler for this NetworkManager, no checks are made if this
+	 * handler is suitable for the particular
      * connection state (protocol)
      */
     public void setNetHandler(INetHandler handler)
     {
         Validate.notNull(handler, "packetListener", new Object[0]);
-        logger.debug("Set listener of {} to {}", new Object[] {this, handler});
-        this.packetListener = handler;
+		logger.debug("Set listener of {} to {}", new Object[]{this, handler});
+		packetListener = handler;
     }
 
+	@SuppressWarnings("unchecked")
     public void sendPacket(Packet packetIn)
     {
-        if (this.channel != null && this.channel.isOpen())
-        {
-            this.flushOutboundQueue();
-            this.dispatchPacket(packetIn, (GenericFutureListener[])null);
-        }
-        else
+		if(channel != null && channel.isOpen())
         {
-            this.outboundPacketsQueue.add(new NetworkManager.InboundHandlerTuplePacketListener(packetIn, (GenericFutureListener[])null));
-        }
+			flushOutboundQueue();
+			dispatchPacket(packetIn, (GenericFutureListener[])null);
+		}else
+			outboundPacketsQueue.add(new NetworkManager.InboundHandlerTuplePacketListener(packetIn, (GenericFutureListener[])null));
     }
 
-    public void sendPacket(Packet packetIn, GenericFutureListener listener, GenericFutureListener ... listeners)
-    {
-        if (this.channel != null && this.channel.isOpen())
+	@SuppressWarnings("unchecked")
+	public void sendPacket(Packet packetIn, GenericFutureListener listener, GenericFutureListener... listeners)
         {
-            this.flushOutboundQueue();
-            this.dispatchPacket(packetIn, (GenericFutureListener[])ArrayUtils.add(listeners, 0, listener));
-        }
-        else
+		if(channel != null && channel.isOpen())
         {
-            this.outboundPacketsQueue.add(new NetworkManager.InboundHandlerTuplePacketListener(packetIn, (GenericFutureListener[])ArrayUtils.add(listeners, 0, listener)));
-        }
+			flushOutboundQueue();
+			dispatchPacket(packetIn, ArrayUtils.add(listeners, 0, listener));
+		}else
+			outboundPacketsQueue.add(new NetworkManager.InboundHandlerTuplePacketListener(packetIn, ArrayUtils.add(listeners, 0, listener)));
     }
 
     /**
-     * Will commit the packet to the channel. If the current thread 'owns' the channel it will write and flush the
-     * packet, otherwise it will add a task for the channel eventloop thread to do that.
+	 * Will commit the packet to the channel. If the current thread 'owns' the
+	 * channel it will write and flush the
+	 * packet, otherwise it will add a task for the channel eventloop thread to
+	 * do that.
      */
+	@SuppressWarnings("unchecked")
     private void dispatchPacket(final Packet inPacket, final GenericFutureListener[] futureListeners)
     {
         final EnumConnectionState var3 = EnumConnectionState.getFromPacket(inPacket);
-        final EnumConnectionState var4 = (EnumConnectionState)this.channel.attr(attrKeyConnectionState).get();
+		final EnumConnectionState var4 = (EnumConnectionState)channel.attr(attrKeyConnectionState).get();
 
-        if (var4 != var3)
+		if(var4 != var3)
         {
             logger.debug("Disabled auto read");
-            this.channel.config().setAutoRead(false);
+			channel.config().setAutoRead(false);
         }
 
-        if (this.channel.eventLoop().inEventLoop())
-        {
-            if (var3 != var4)
+		if(channel.eventLoop().inEventLoop())
             {
-                this.setConnectionState(var3);
-            }
+			if(var3 != var4)
+				setConnectionState(var3);
 
-            ChannelFuture var5 = this.channel.writeAndFlush(inPacket);
+			ChannelFuture var5 = channel.writeAndFlush(inPacket);
 
-            if (futureListeners != null)
-            {
+			if(futureListeners != null)
                 var5.addListeners(futureListeners);
-            }
 
             var5.addListener(ChannelFutureListener.FIRE_EXCEPTION_ON_FAILURE);
-        }
-        else
+		}else
+			channel.eventLoop().execute(new Runnable()
         {
-            this.channel.eventLoop().execute(new Runnable()
-            {
-                private static final String __OBFID = "CL_00001243";
+				@Override
                 public void run()
                 {
-                    if (var3 != var4)
-                    {
+					if(var3 != var4)
                         NetworkManager.this.setConnectionState(var3);
-                    }
 
-                    ChannelFuture var1 = NetworkManager.this.channel.writeAndFlush(inPacket);
+					ChannelFuture var1 = channel.writeAndFlush(inPacket);
 
-                    if (futureListeners != null)
-                    {
+					if(futureListeners != null)
                         var1.addListeners(futureListeners);
-                    }
 
                     var1.addListener(ChannelFutureListener.FIRE_EXCEPTION_ON_FAILURE);
                 }
             });
         }
-    }
 
     /**
      * Will iterate through the outboundPacketQueue and dispatch all Packets
      */
     private void flushOutboundQueue()
     {
-        if (this.channel != null && this.channel.isOpen())
+		if(channel != null && channel.isOpen())
+			while(!outboundPacketsQueue.isEmpty())
         {
-            while (!this.outboundPacketsQueue.isEmpty())
-            {
-                NetworkManager.InboundHandlerTuplePacketListener var1 = (NetworkManager.InboundHandlerTuplePacketListener)this.outboundPacketsQueue.poll();
-                this.dispatchPacket(var1.packet, var1.futureListeners);
-            }
+				NetworkManager.InboundHandlerTuplePacketListener var1 = (NetworkManager.InboundHandlerTuplePacketListener)outboundPacketsQueue.poll();
+				dispatchPacket(var1.packet, var1.futureListeners);
         }
     }
 
@@ -261,14 +256,12 @@ public class NetworkManager extends SimpleChannelInboundHandler
      */
     public void processReceivedPackets()
     {
-        this.flushOutboundQueue();
+		flushOutboundQueue();
 
-        if (this.packetListener instanceof IUpdatePlayerListBox)
-        {
-            ((IUpdatePlayerListBox)this.packetListener).update();
-        }
+		if(packetListener instanceof IUpdatePlayerListBox)
+			((IUpdatePlayerListBox)packetListener).update();
 
-        this.channel.flush();
+		channel.flush();
     }
 
     /**
@@ -276,47 +269,50 @@ public class NetworkManager extends SimpleChannelInboundHandler
      */
     public SocketAddress getRemoteAddress()
     {
-        return this.socketAddress;
+		return socketAddress;
     }
 
     /**
-     * Closes the channel, the parameter can be used for an exit message (not certain how it gets sent)
+	 * Closes the channel, the parameter can be used for an exit message (not
+	 * certain how it gets sent)
      */
     public void closeChannel(IChatComponent message)
     {
-        if (this.channel.isOpen())
+		if(channel.isOpen())
         {
-            this.channel.close().awaitUninterruptibly();
-            this.terminationReason = message;
+			channel.close().awaitUninterruptibly();
+			terminationReason = message;
         }
     }
 
     /**
-     * True if this NetworkManager uses a memory connection (single player game). False may imply both an active TCP
+	 * True if this NetworkManager uses a memory connection (single player
+	 * game). False may imply both an active TCP
      * connection or simply no active connection at all
      */
     public boolean isLocalChannel()
     {
-        return this.channel instanceof LocalChannel || this.channel instanceof LocalServerChannel;
+		return channel instanceof LocalChannel || channel instanceof LocalServerChannel;
     }
 
     /**
-     * Prepares a clientside NetworkManager: establishes a connection to the address and port supplied and configures
+	 * Prepares a clientside NetworkManager: establishes a connection to the
+	 * address and port supplied and configures
      * the channel pipeline. Returns the newly created instance.
      */
     public static NetworkManager provideLanClient(InetAddress p_150726_0_, int p_150726_1_)
     {
         final NetworkManager var2 = new NetworkManager(EnumPacketDirection.CLIENTBOUND);
-        ((Bootstrap)((Bootstrap)((Bootstrap)(new Bootstrap()).group((EventLoopGroup)CLIENT_NIO_EVENTLOOP.getValue())).handler(new ChannelInitializer()
+		new Bootstrap().group((EventLoopGroup)CLIENT_NIO_EVENTLOOP.getValue()).handler(new ChannelInitializer()
         {
-            private static final String __OBFID = "CL_00002312";
+			@Override
             protected void initChannel(Channel p_initChannel_1_)
             {
                 try
                 {
                     p_initChannel_1_.config().setOption(ChannelOption.IP_TOS, Integer.valueOf(24));
                 }
-                catch (ChannelException var4)
+				catch(ChannelException var4)
                 {
                     ;
                 }
@@ -325,61 +321,64 @@ public class NetworkManager extends SimpleChannelInboundHandler
                 {
                     p_initChannel_1_.config().setOption(ChannelOption.TCP_NODELAY, Boolean.valueOf(false));
                 }
-                catch (ChannelException var3)
+				catch(ChannelException var3)
                 {
                     ;
                 }
 
                 p_initChannel_1_.pipeline().addLast("timeout", new ReadTimeoutHandler(20)).addLast("splitter", new MessageDeserializer2()).addLast("decoder", new MessageDeserializer(EnumPacketDirection.CLIENTBOUND)).addLast("prepender", new MessageSerializer2()).addLast("encoder", new MessageSerializer(EnumPacketDirection.SERVERBOUND)).addLast("packet_handler", var2);
             }
-        })).channel(NioSocketChannel.class)).connect(p_150726_0_, p_150726_1_).syncUninterruptibly();
+		}).channel(NioSocketChannel.class).connect(p_150726_0_, p_150726_1_).syncUninterruptibly();
         return var2;
     }
 
     /**
-     * Prepares a clientside NetworkManager: establishes a connection to the socket supplied and configures the channel
+	 * Prepares a clientside NetworkManager: establishes a connection to the
+	 * socket supplied and configures the channel
      * pipeline. Returns the newly created instance.
      */
     public static NetworkManager provideLocalClient(SocketAddress p_150722_0_)
     {
         final NetworkManager var1 = new NetworkManager(EnumPacketDirection.CLIENTBOUND);
-        ((Bootstrap)((Bootstrap)((Bootstrap)(new Bootstrap()).group((EventLoopGroup)CLIENT_LOCAL_EVENTLOOP.getValue())).handler(new ChannelInitializer()
+		new Bootstrap().group((EventLoopGroup)CLIENT_LOCAL_EVENTLOOP.getValue()).handler(new ChannelInitializer()
         {
-            private static final String __OBFID = "CL_00002311";
+			@Override
             protected void initChannel(Channel p_initChannel_1_)
             {
                 p_initChannel_1_.pipeline().addLast("packet_handler", var1);
             }
-        })).channel(LocalChannel.class)).connect(p_150722_0_).syncUninterruptibly();
+		}).channel(LocalChannel.class).connect(p_150722_0_).syncUninterruptibly();
         return var1;
     }
 
     /**
-     * Adds an encoder+decoder to the channel pipeline. The parameter is the secret key used for encrypted communication
+	 * Adds an encoder+decoder to the channel pipeline. The parameter is the
+	 * secret key used for encrypted communication
      */
     public void enableEncryption(SecretKey key)
     {
-        this.isEncrypted = true;
-        this.channel.pipeline().addBefore("splitter", "decrypt", new NettyEncryptingDecoder(CryptManager.func_151229_a(2, key)));
-        this.channel.pipeline().addBefore("prepender", "encrypt", new NettyEncryptingEncoder(CryptManager.func_151229_a(1, key)));
+		isEncrypted = true;
+		channel.pipeline().addBefore("splitter", "decrypt", new NettyEncryptingDecoder(CryptManager.getAESCipher(2, key)));
+		channel.pipeline().addBefore("prepender", "encrypt", new NettyEncryptingEncoder(CryptManager.getAESCipher(1, key)));
     }
 
-    public boolean func_179292_f()
+	public boolean isEncrypted()
     {
-        return this.isEncrypted;
+		return isEncrypted;
     }
 
     /**
-     * Returns true if this NetworkManager has an active channel, false otherwise
+	 * Returns true if this NetworkManager has an active channel, false
+	 * otherwise
      */
     public boolean isChannelOpen()
     {
-        return this.channel != null && this.channel.isOpen();
+		return channel != null && channel.isOpen();
     }
 
     public boolean hasNoChannel()
     {
-        return this.channel == null;
+		return channel == null;
     }
 
     /**
@@ -387,7 +386,7 @@ public class NetworkManager extends SimpleChannelInboundHandler
      */
     public INetHandler getNetHandler()
     {
-        return this.packetListener;
+		return packetListener;
     }
 
     /**
@@ -395,7 +394,7 @@ public class NetworkManager extends SimpleChannelInboundHandler
      */
     public IChatComponent getExitMessage()
     {
-        return this.terminationReason;
+		return terminationReason;
     }
 
     /**
@@ -403,62 +402,47 @@ public class NetworkManager extends SimpleChannelInboundHandler
      */
     public void disableAutoRead()
     {
-        this.channel.config().setAutoRead(false);
+		channel.config().setAutoRead(false);
     }
 
     public void setCompressionTreshold(int treshold)
     {
-        if (treshold >= 0)
-        {
-            if (this.channel.pipeline().get("decompress") instanceof NettyCompressionDecoder)
+		if(treshold >= 0)
             {
-                ((NettyCompressionDecoder)this.channel.pipeline().get("decompress")).setCompressionTreshold(treshold);
-            }
+			if(channel.pipeline().get("decompress") instanceof NettyCompressionDecoder)
+				((NettyCompressionDecoder)channel.pipeline().get("decompress")).setCompressionTreshold(treshold);
             else
-            {
-                this.channel.pipeline().addBefore("decoder", "decompress", new NettyCompressionDecoder(treshold));
-            }
+				channel.pipeline().addBefore("decoder", "decompress", new NettyCompressionDecoder(treshold));
 
-            if (this.channel.pipeline().get("compress") instanceof NettyCompressionEncoder)
-            {
-                ((NettyCompressionEncoder)this.channel.pipeline().get("decompress")).setCompressionTreshold(treshold);
-            }
+			if(channel.pipeline().get("compress") instanceof NettyCompressionEncoder)
+				((NettyCompressionEncoder)channel.pipeline().get("decompress")).setCompressionTreshold(treshold);
             else
-            {
-                this.channel.pipeline().addBefore("encoder", "compress", new NettyCompressionEncoder(treshold));
-            }
+				channel.pipeline().addBefore("encoder", "compress", new NettyCompressionEncoder(treshold));
         }
         else
         {
-            if (this.channel.pipeline().get("decompress") instanceof NettyCompressionDecoder)
-            {
-                this.channel.pipeline().remove("decompress");
-            }
+			if(channel.pipeline().get("decompress") instanceof NettyCompressionDecoder)
+				channel.pipeline().remove("decompress");
 
-            if (this.channel.pipeline().get("compress") instanceof NettyCompressionEncoder)
-            {
-                this.channel.pipeline().remove("compress");
-            }
+			if(channel.pipeline().get("compress") instanceof NettyCompressionEncoder)
+				channel.pipeline().remove("compress");
         }
     }
 
     public void checkDisconnected()
     {
-        if (!this.hasNoChannel() && !this.isChannelOpen() && !this.disconnected)
+		if(!hasNoChannel() && !isChannelOpen() && !disconnected)
         {
-            this.disconnected = true;
+			disconnected = true;
 
-            if (this.getExitMessage() != null)
-            {
-                this.getNetHandler().onDisconnect(this.getExitMessage());
-            }
-            else if (this.getNetHandler() != null)
-            {
-                this.getNetHandler().onDisconnect(new ChatComponentText("Disconnected"));
-            }
+			if(getExitMessage() != null)
+				getNetHandler().onDisconnect(getExitMessage());
+			else if(getNetHandler() != null)
+				getNetHandler().onDisconnect(new ChatComponentText("Disconnected"));
         }
     }
 
+	@Override
     protected void channelRead0(ChannelHandlerContext p_channelRead0_1_, Object p_channelRead0_2_)
     {
         this.channelRead0(p_channelRead0_1_, (Packet)p_channelRead0_2_);
@@ -468,12 +452,11 @@ public class NetworkManager extends SimpleChannelInboundHandler
     {
         private final Packet packet;
         private final GenericFutureListener[] futureListeners;
-        private static final String __OBFID = "CL_00001244";
 
-        public InboundHandlerTuplePacketListener(Packet inPacket, GenericFutureListener ... inFutureListeners)
+		public InboundHandlerTuplePacketListener(Packet inPacket, GenericFutureListener... inFutureListeners)
         {
-            this.packet = inPacket;
-            this.futureListeners = inFutureListeners;
+			packet = inPacket;
+			futureListeners = inFutureListeners;
         }
     }
 }
diff --git a/net/minecraft/network/NetworkSystem.java b/net/minecraft/network/NetworkSystem.java
index 93defcf..3ac4a53 100644
--- a/net/minecraft/network/NetworkSystem.java
+++ b/net/minecraft/network/NetworkSystem.java
@@ -2,6 +2,7 @@ package net.minecraft.network;
 
 import com.google.common.collect.Lists;
 import com.google.common.util.concurrent.ThreadFactoryBuilder;
+
 import io.netty.bootstrap.ServerBootstrap;
 import io.netty.channel.Channel;
 import io.netty.channel.ChannelException;
@@ -17,6 +18,7 @@ import io.netty.channel.socket.nio.NioServerSocketChannel;
 import io.netty.handler.timeout.ReadTimeoutHandler;
 import io.netty.util.concurrent.Future;
 import io.netty.util.concurrent.GenericFutureListener;
+
 import java.io.IOException;
 import java.net.InetAddress;
 import java.net.SocketAddress;
@@ -24,9 +26,11 @@ import java.util.Collections;
 import java.util.Iterator;
 import java.util.List;
 import java.util.concurrent.Callable;
+
 import net.minecraft.client.network.NetHandlerHandshakeMemory;
 import net.minecraft.crash.CrashReport;
 import net.minecraft.crash.CrashReportCategory;
+import net.minecraft.network.NetworkManager;
 import net.minecraft.network.play.server.S40PacketDisconnect;
 import net.minecraft.server.MinecraftServer;
 import net.minecraft.server.network.NetHandlerHandshakeTCP;
@@ -37,6 +41,7 @@ import net.minecraft.util.MessageDeserializer2;
 import net.minecraft.util.MessageSerializer;
 import net.minecraft.util.MessageSerializer2;
 import net.minecraft.util.ReportedException;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 
diff --git a/net/minecraft/network/PacketBuffer.java b/net/minecraft/network/PacketBuffer.java
index c695f6f..8dcd696 100644
--- a/net/minecraft/network/PacketBuffer.java
+++ b/net/minecraft/network/PacketBuffer.java
@@ -1,6 +1,5 @@
 package net.minecraft.network;
 
-import com.google.common.base.Charsets;
 import io.netty.buffer.ByteBuf;
 import io.netty.buffer.ByteBufAllocator;
 import io.netty.buffer.ByteBufInputStream;
@@ -8,7 +7,7 @@ import io.netty.buffer.ByteBufOutputStream;
 import io.netty.buffer.ByteBufProcessor;
 import io.netty.handler.codec.DecoderException;
 import io.netty.handler.codec.EncoderException;
-import io.netty.util.ReferenceCounted;
+
 import java.io.IOException;
 import java.io.InputStream;
 import java.io.OutputStream;
@@ -18,6 +17,7 @@ import java.nio.channels.GatheringByteChannel;
 import java.nio.channels.ScatteringByteChannel;
 import java.nio.charset.Charset;
 import java.util.UUID;
+
 import net.minecraft.item.Item;
 import net.minecraft.item.ItemStack;
 import net.minecraft.nbt.CompressedStreamTools;
@@ -26,6 +26,8 @@ import net.minecraft.nbt.NBTTagCompound;
 import net.minecraft.util.BlockPos;
 import net.minecraft.util.IChatComponent;
 
+import com.google.common.base.Charsets;
+
 public class PacketBuffer extends ByteBuf
 {
     private final ByteBuf buf;
diff --git a/net/minecraft/pathfinding/PathNavigate.java b/net/minecraft/pathfinding/PathNavigate.java
index 501b465..5c4c02f 100644
--- a/net/minecraft/pathfinding/PathNavigate.java
+++ b/net/minecraft/pathfinding/PathNavigate.java
@@ -120,7 +120,7 @@ public abstract class PathNavigate
         {
             float var2 = this.getPathSearchRange();
             this.worldObj.theProfiler.startSection("pathfind");
-            BlockPos var3 = (new BlockPos(this.theEntity)).offsetUp();
+            BlockPos var3 = (new BlockPos(this.theEntity)).up();
             int var4 = (int)(var2 + 16.0F);
             ChunkCache var5 = new ChunkCache(this.worldObj, var3.add(-var4, -var4, -var4), var3.add(var4, var4, var4), 0);
             PathEntity var6 = this.field_179681_j.func_176188_a(var5, this.theEntity, p_75494_1_, var2);
diff --git a/net/minecraft/pathfinding/PathNavigateClimber.java b/net/minecraft/pathfinding/PathNavigateClimber.java
index be16317..1190f08 100644
--- a/net/minecraft/pathfinding/PathNavigateClimber.java
+++ b/net/minecraft/pathfinding/PathNavigateClimber.java
@@ -62,7 +62,7 @@ public class PathNavigateClimber extends PathNavigateGround
             {
                 double var1 = (double)(this.theEntity.width * this.theEntity.width);
 
-                if (this.theEntity.func_174831_c(this.field_179696_f) >= var1 && (this.theEntity.posY <= (double)this.field_179696_f.getY() || this.theEntity.func_174831_c(new BlockPos(this.field_179696_f.getX(), MathHelper.floor_double(this.theEntity.posY), this.field_179696_f.getZ())) >= var1))
+                if (this.theEntity.getDistanceSqToCenter(this.field_179696_f) >= var1 && (this.theEntity.posY <= (double)this.field_179696_f.getY() || this.theEntity.getDistanceSqToCenter(new BlockPos(this.field_179696_f.getX(), MathHelper.floor_double(this.theEntity.posY), this.field_179696_f.getZ())) >= var1))
                 {
                     this.theEntity.getMoveHelper().setMoveTo((double)this.field_179696_f.getX(), (double)this.field_179696_f.getY(), (double)this.field_179696_f.getZ(), this.speed);
                 }
diff --git a/net/minecraft/potion/PotionEffect.java b/net/minecraft/potion/PotionEffect.java
index 9853f33..2868847 100644
--- a/net/minecraft/potion/PotionEffect.java
+++ b/net/minecraft/potion/PotionEffect.java
@@ -1,10 +1,16 @@
 package net.minecraft.potion;
 
+import net.minecraft.client.Minecraft;
+import net.minecraft.client.entity.EntityPlayerSP;
 import net.minecraft.entity.EntityLivingBase;
 import net.minecraft.nbt.NBTTagCompound;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 
+import tk.wurst_client.WurstClient;
+import tk.wurst_client.features.mods.PotionSaverMod;
+
 public class PotionEffect
 {
     private static final Logger LOGGER = LogManager.getLogger();
@@ -141,7 +147,11 @@ public class PotionEffect
 
     private int deincrementDuration()
     {
-        return --this.duration;
+		// TODO: Client
+		EntityPlayerSP player = Minecraft.getMinecraft().player;
+		return player.motionX == 0 && player.motionZ == 0
+			&& WurstClient.INSTANCE.mods.potionSaverMod.isActive() ? duration
+			: --duration;
     }
 
     public void performEffect(EntityLivingBase entityIn)
diff --git a/net/minecraft/realms/RealmsConnect.java b/net/minecraft/realms/RealmsConnect.java
index 1555ba3..2ef52bc 100644
--- a/net/minecraft/realms/RealmsConnect.java
+++ b/net/minecraft/realms/RealmsConnect.java
@@ -2,6 +2,7 @@ package net.minecraft.realms;
 
 import java.net.InetAddress;
 import java.net.UnknownHostException;
+
 import net.minecraft.client.Minecraft;
 import net.minecraft.client.network.NetHandlerLoginClient;
 import net.minecraft.network.EnumConnectionState;
@@ -9,6 +10,7 @@ import net.minecraft.network.NetworkManager;
 import net.minecraft.network.handshake.client.C00Handshake;
 import net.minecraft.network.login.client.C00PacketLoginStart;
 import net.minecraft.util.ChatComponentTranslation;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 
diff --git a/net/minecraft/realms/RealmsScreen.java b/net/minecraft/realms/RealmsScreen.java
index d3ae7ea..3971089 100644
--- a/net/minecraft/realms/RealmsScreen.java
+++ b/net/minecraft/realms/RealmsScreen.java
@@ -112,7 +112,7 @@ public class RealmsScreen
 
         if (var2 == null)
         {
-            var2 = DefaultPlayerSkin.func_177334_a(UUIDTypeAdapter.fromString(p_bindFace_0_));
+            var2 = DefaultPlayerSkin.getLocationFromUUID(UUIDTypeAdapter.fromString(p_bindFace_0_));
         }
 
         AbstractClientPlayer.getDownloadImageSkin(var2, p_bindFace_1_);
diff --git a/net/minecraft/realms/RealmsServerStatusPinger.java b/net/minecraft/realms/RealmsServerStatusPinger.java
index d176957..77e2f08 100644
--- a/net/minecraft/realms/RealmsServerStatusPinger.java
+++ b/net/minecraft/realms/RealmsServerStatusPinger.java
@@ -1,11 +1,13 @@
 package net.minecraft.realms;
 
 import com.google.common.collect.Lists;
+
 import java.net.InetAddress;
 import java.net.UnknownHostException;
 import java.util.Collections;
 import java.util.Iterator;
 import java.util.List;
+
 import net.minecraft.network.EnumConnectionState;
 import net.minecraft.network.NetworkManager;
 import net.minecraft.network.ServerStatusResponse;
@@ -17,6 +19,7 @@ import net.minecraft.network.status.server.S00PacketServerInfo;
 import net.minecraft.network.status.server.S01PacketPong;
 import net.minecraft.util.ChatComponentText;
 import net.minecraft.util.IChatComponent;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 
diff --git a/net/minecraft/realms/Tezzelator.java b/net/minecraft/realms/Tezzelator.java
index 6743440..11cec5a 100644
--- a/net/minecraft/realms/Tezzelator.java
+++ b/net/minecraft/realms/Tezzelator.java
@@ -21,12 +21,12 @@ public class Tezzelator
 
     public void color(float p_color_1_, float p_color_2_, float p_color_3_, float p_color_4_)
     {
-        t.getWorldRenderer().func_178960_a(p_color_1_, p_color_2_, p_color_3_, p_color_4_);
+        t.getWorldRenderer().setColorRGBA_F(p_color_1_, p_color_2_, p_color_3_, p_color_4_);
     }
 
     public void color(int p_color_1_, int p_color_2_, int p_color_3_)
     {
-        t.getWorldRenderer().setPosition(p_color_1_, p_color_2_, p_color_3_);
+        t.getWorldRenderer().setColorOpaque(p_color_1_, p_color_2_, p_color_3_);
     }
 
     public void tex2(int p_tex2_1_)
@@ -46,12 +46,12 @@ public class Tezzelator
 
     public void color(int p_color_1_)
     {
-        t.getWorldRenderer().func_178991_c(p_color_1_);
+        t.getWorldRenderer().setColorOpaque_I(p_color_1_);
     }
 
     public void color(float p_color_1_, float p_color_2_, float p_color_3_)
     {
-        t.getWorldRenderer().func_178986_b(p_color_1_, p_color_2_, p_color_3_);
+        t.getWorldRenderer().setColorOpaque_F(p_color_1_, p_color_2_, p_color_3_);
     }
 
     public WorldRenderer.State sortQuads(float p_sortQuads_1_, float p_sortQuads_2_, float p_sortQuads_3_)
@@ -81,7 +81,7 @@ public class Tezzelator
 
     public void color(int p_color_1_, int p_color_2_)
     {
-        t.getWorldRenderer().func_178974_a(p_color_1_, p_color_2_);
+        t.getWorldRenderer().setColorRGBA_I(p_color_1_, p_color_2_);
     }
 
     public void offset(double p_offset_1_, double p_offset_3_, double p_offset_5_)
@@ -91,7 +91,7 @@ public class Tezzelator
 
     public void color(int p_color_1_, int p_color_2_, int p_color_3_, int p_color_4_)
     {
-        t.getWorldRenderer().func_178961_b(p_color_1_, p_color_2_, p_color_3_, p_color_4_);
+        t.getWorldRenderer().setColorRGBA(p_color_1_, p_color_2_, p_color_3_, p_color_4_);
     }
 
     public void tex(double p_tex_1_, double p_tex_3_)
@@ -101,6 +101,6 @@ public class Tezzelator
 
     public void color(byte p_color_1_, byte p_color_2_, byte p_color_3_)
     {
-        t.getWorldRenderer().func_178982_a(p_color_1_, p_color_2_, p_color_3_);
+        t.getWorldRenderer().setColorOpaque_B(p_color_1_, p_color_2_, p_color_3_);
     }
 }
diff --git a/net/minecraft/scoreboard/Scoreboard.java b/net/minecraft/scoreboard/Scoreboard.java
index 0172d14..e292906 100644
--- a/net/minecraft/scoreboard/Scoreboard.java
+++ b/net/minecraft/scoreboard/Scoreboard.java
@@ -456,7 +456,7 @@ public class Scoreboard
         }
     }
 
-    public static String[] func_178821_h()
+    public synchronized static String[] func_178821_h()
     {
         if (field_178823_g == null)
         {
diff --git a/net/minecraft/server/MinecraftServer.java b/net/minecraft/server/MinecraftServer.java
index 50c5920..c095dad 100644
--- a/net/minecraft/server/MinecraftServer.java
+++ b/net/minecraft/server/MinecraftServer.java
@@ -10,10 +10,12 @@ import com.mojang.authlib.GameProfile;
 import com.mojang.authlib.GameProfileRepository;
 import com.mojang.authlib.minecraft.MinecraftSessionService;
 import com.mojang.authlib.yggdrasil.YggdrasilAuthenticationService;
+
 import io.netty.buffer.ByteBuf;
 import io.netty.buffer.ByteBufOutputStream;
 import io.netty.buffer.Unpooled;
 import io.netty.handler.codec.base64.Base64;
+
 import java.awt.GraphicsEnvironment;
 import java.awt.image.BufferedImage;
 import java.io.File;
@@ -33,7 +35,9 @@ import java.util.UUID;
 import java.util.concurrent.Callable;
 import java.util.concurrent.Executors;
 import java.util.concurrent.FutureTask;
+
 import javax.imageio.ImageIO;
+
 import net.minecraft.command.CommandBase;
 import net.minecraft.command.CommandResultStats;
 import net.minecraft.command.ICommandManager;
@@ -73,6 +77,7 @@ import net.minecraft.world.demo.DemoWorldServer;
 import net.minecraft.world.storage.ISaveFormat;
 import net.minecraft.world.storage.ISaveHandler;
 import net.minecraft.world.storage.WorldInfo;
+
 import org.apache.commons.lang3.Validate;
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
diff --git a/net/minecraft/server/integrated/IntegratedServer.java b/net/minecraft/server/integrated/IntegratedServer.java
index 4dd53d1..0386152 100644
--- a/net/minecraft/server/integrated/IntegratedServer.java
+++ b/net/minecraft/server/integrated/IntegratedServer.java
@@ -2,6 +2,7 @@ package net.minecraft.server.integrated;
 
 import com.google.common.collect.Lists;
 import com.google.common.util.concurrent.Futures;
+
 import java.io.File;
 import java.io.IOException;
 import java.net.InetAddress;
@@ -10,6 +11,7 @@ import java.util.Iterator;
 import java.util.Queue;
 import java.util.concurrent.Callable;
 import java.util.concurrent.FutureTask;
+
 import net.minecraft.client.ClientBrandRetriever;
 import net.minecraft.client.Minecraft;
 import net.minecraft.client.multiplayer.ThreadLanServerPing;
@@ -29,6 +31,7 @@ import net.minecraft.world.WorldType;
 import net.minecraft.world.demo.DemoWorldServer;
 import net.minecraft.world.storage.ISaveHandler;
 import net.minecraft.world.storage.WorldInfo;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 
@@ -195,10 +198,10 @@ public class IntegratedServer extends MinecraftServer
                 this.getConfigurationManager().setViewDistance(this.mc.gameSettings.renderDistanceChunks);
             }
 
-            if (this.mc.theWorld != null)
+            if (this.mc.world != null)
             {
                 WorldInfo var10 = this.worldServers[0].getWorldInfo();
-                WorldInfo var3 = this.mc.theWorld.getWorldInfo();
+                WorldInfo var3 = this.mc.world.getWorldInfo();
 
                 if (!var10.isDifficultyLocked() && var3.getDifficulty() != var10.getDifficulty())
                 {
@@ -240,7 +243,7 @@ public class IntegratedServer extends MinecraftServer
      */
     public EnumDifficulty getDifficulty()
     {
-        return this.mc.theWorld.getWorldInfo().getDifficulty();
+        return this.mc.world.getWorldInfo().getDifficulty();
     }
 
     /**
@@ -308,9 +311,9 @@ public class IntegratedServer extends MinecraftServer
     {
         super.setDifficultyForAllWorlds(difficulty);
 
-        if (this.mc.theWorld != null)
+        if (this.mc.world != null)
         {
-            this.mc.theWorld.getWorldInfo().setDifficulty(difficulty);
+            this.mc.world.getWorldInfo().setDifficulty(difficulty);
         }
     }
 
diff --git a/net/minecraft/server/management/BanEntry.java b/net/minecraft/server/management/BanEntry.java
index ef94be8..1238292 100644
--- a/net/minecraft/server/management/BanEntry.java
+++ b/net/minecraft/server/management/BanEntry.java
@@ -7,7 +7,7 @@ import java.util.Date;
 
 public abstract class BanEntry extends UserListEntry
 {
-    public static final SimpleDateFormat dateFormat = new SimpleDateFormat("yyyy-MM-dd HH:mm:ss Z");
+    private static final SimpleDateFormat dateFormat = new SimpleDateFormat("yyyy-MM-dd HH:mm:ss Z");
     protected final Date banStartDate;
     protected final String bannedBy;
     protected final Date banEndDate;
@@ -30,7 +30,12 @@ public abstract class BanEntry extends UserListEntry
 
         try
         {
-            var3 = p_i1174_2_.has("created") ? dateFormat.parse(p_i1174_2_.get("created").getAsString()) : new Date();
+            synchronized(dateFormat)
+			{
+				var3 =
+					p_i1174_2_.has("created") ? dateFormat.parse(p_i1174_2_
+						.get("created").getAsString()) : new Date();
+			}
         }
         catch (ParseException var7)
         {
@@ -43,7 +48,12 @@ public abstract class BanEntry extends UserListEntry
 
         try
         {
-            var4 = p_i1174_2_.has("expires") ? dateFormat.parse(p_i1174_2_.get("expires").getAsString()) : null;
+            synchronized(dateFormat)
+			{
+				var4 =
+					p_i1174_2_.has("expires") ? dateFormat.parse(p_i1174_2_
+						.get("expires").getAsString()) : null;
+			}
         }
         catch (ParseException var6)
         {
@@ -71,9 +81,16 @@ public abstract class BanEntry extends UserListEntry
 
     protected void onSerialization(JsonObject data)
     {
+        synchronized(dateFormat)
+		{
         data.addProperty("created", dateFormat.format(this.banStartDate));
+		}
         data.addProperty("source", this.bannedBy);
-        data.addProperty("expires", this.banEndDate == null ? "forever" : dateFormat.format(this.banEndDate));
+        synchronized(dateFormat)
+		{
+			data.addProperty("expires", this.banEndDate == null ? "forever"
+				: dateFormat.format(this.banEndDate));
+		}
         data.addProperty("reason", this.reason);
     }
 }
diff --git a/net/minecraft/server/management/ItemInWorldManager.java b/net/minecraft/server/management/ItemInWorldManager.java
index 50c82ce..eb3b4c4 100644
--- a/net/minecraft/server/management/ItemInWorldManager.java
+++ b/net/minecraft/server/management/ItemInWorldManager.java
@@ -341,7 +341,7 @@ public class ItemInWorldManager
             int var5 = p_73085_3_.getMetadata();
             ItemStack var6 = p_73085_3_.useItemRightClick(worldIn, p_73085_1_);
 
-            if (var6 == p_73085_3_ && (var6 == null || var6.stackSize == var4 && var6.getMaxItemUseDuration() <= 0 && var6.getMetadata() == var5))
+            if (var6 == p_73085_3_ && (var6.stackSize == var4 && var6.getMaxItemUseDuration() <= 0 && var6.getMetadata() == var5))
             {
                 return false;
             }
diff --git a/net/minecraft/server/management/LowerStringMap.java b/net/minecraft/server/management/LowerStringMap.java
index ad3e8b6..fb1628e 100644
--- a/net/minecraft/server/management/LowerStringMap.java
+++ b/net/minecraft/server/management/LowerStringMap.java
@@ -1,11 +1,11 @@
 package net.minecraft.server.management;
 
-import com.google.common.collect.Maps;
 import java.util.Collection;
 import java.util.Iterator;
 import java.util.Map;
 import java.util.Set;
-import java.util.Map.Entry;
+
+import com.google.common.collect.Maps;
 
 public class LowerStringMap implements Map
 {
diff --git a/net/minecraft/server/management/PlayerProfileCache.java b/net/minecraft/server/management/PlayerProfileCache.java
index f2e269d..1b805fd 100644
--- a/net/minecraft/server/management/PlayerProfileCache.java
+++ b/net/minecraft/server/management/PlayerProfileCache.java
@@ -40,7 +40,7 @@ import org.apache.commons.io.IOUtils;
 
 public class PlayerProfileCache
 {
-    public static final SimpleDateFormat dateFormat = new SimpleDateFormat("yyyy-MM-dd HH:mm:ss Z");
+    private static final SimpleDateFormat dateFormat = new SimpleDateFormat("yyyy-MM-dd HH:mm:ss Z");
     private final Map field_152661_c = Maps.newHashMap();
     private final Map field_152662_d = Maps.newHashMap();
     private final LinkedList field_152663_e = Lists.newLinkedList();
@@ -257,11 +257,11 @@ public class PlayerProfileCache
         }
         catch (FileNotFoundException var8)
         {
-            return;
+            ;
         }
         catch (IOException var9)
         {
-            ;
+            return;
         }
         finally
         {
diff --git a/net/minecraft/server/management/ServerConfigurationManager.java b/net/minecraft/server/management/ServerConfigurationManager.java
index 156b1aa..201efae 100644
--- a/net/minecraft/server/management/ServerConfigurationManager.java
+++ b/net/minecraft/server/management/ServerConfigurationManager.java
@@ -4,7 +4,9 @@ import com.google.common.collect.Lists;
 import com.google.common.collect.Maps;
 import com.google.common.collect.Sets;
 import com.mojang.authlib.GameProfile;
+
 import io.netty.buffer.Unpooled;
+
 import java.io.File;
 import java.net.SocketAddress;
 import java.text.SimpleDateFormat;
@@ -15,6 +17,7 @@ import java.util.Iterator;
 import java.util.List;
 import java.util.Map;
 import java.util.UUID;
+
 import net.minecraft.entity.Entity;
 import net.minecraft.entity.EntityList;
 import net.minecraft.entity.player.EntityPlayer;
@@ -60,6 +63,7 @@ import net.minecraft.world.border.WorldBorder;
 import net.minecraft.world.demo.DemoWorldManager;
 import net.minecraft.world.storage.IPlayerFileData;
 import net.minecraft.world.storage.WorldInfo;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 
@@ -385,7 +389,12 @@ public abstract class ServerConfigurationManager
 
             if (var5.getBanEndDate() != null)
             {
-                var4 = var4 + "\nYour ban will be removed on " + dateFormat.format(var5.getBanEndDate());
+                synchronized(dateFormat)
+				{
+					var4 =
+						var4 + "\nYour ban will be removed on "
+							+ dateFormat.format(var5.getBanEndDate());
+				}
             }
 
             return var4;
@@ -401,7 +410,12 @@ public abstract class ServerConfigurationManager
 
             if (var3.getBanEndDate() != null)
             {
-                var4 = var4 + "\nYour ban will be removed on " + dateFormat.format(var3.getBanEndDate());
+                synchronized(dateFormat)
+				{
+					var4 =
+						var4 + "\nYour ban will be removed on "
+							+ dateFormat.format(var3.getBanEndDate());
+				}
             }
 
             return var4;
diff --git a/net/minecraft/server/network/NetHandlerLoginServer.java b/net/minecraft/server/network/NetHandlerLoginServer.java
index 409902e..a0998eb 100644
--- a/net/minecraft/server/network/NetHandlerLoginServer.java
+++ b/net/minecraft/server/network/NetHandlerLoginServer.java
@@ -1,19 +1,18 @@
 package net.minecraft.server.network;
 
-import com.google.common.base.Charsets;
-import com.mojang.authlib.GameProfile;
-import com.mojang.authlib.exceptions.AuthenticationUnavailableException;
 import io.netty.channel.ChannelFuture;
 import io.netty.channel.ChannelFutureListener;
-import io.netty.util.concurrent.Future;
 import io.netty.util.concurrent.GenericFutureListener;
+
 import java.math.BigInteger;
 import java.security.PrivateKey;
 import java.util.Arrays;
 import java.util.Random;
 import java.util.UUID;
 import java.util.concurrent.atomic.AtomicInteger;
+
 import javax.crypto.SecretKey;
+
 import net.minecraft.network.NetworkManager;
 import net.minecraft.network.login.INetHandlerLoginServer;
 import net.minecraft.network.login.client.C00PacketLoginStart;
@@ -27,10 +26,15 @@ import net.minecraft.server.gui.IUpdatePlayerListBox;
 import net.minecraft.util.ChatComponentText;
 import net.minecraft.util.CryptManager;
 import net.minecraft.util.IChatComponent;
+
 import org.apache.commons.lang3.Validate;
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 
+import com.google.common.base.Charsets;
+import com.mojang.authlib.GameProfile;
+import com.mojang.authlib.exceptions.AuthenticationUnavailableException;
+
 public class NetHandlerLoginServer implements INetHandlerLoginServer, IUpdatePlayerListBox
 {
     private static final AtomicInteger AUTHENTICATOR_THREAD_ID = new AtomicInteger(0);
diff --git a/net/minecraft/tileentity/TileEntityChest.java b/net/minecraft/tileentity/TileEntityChest.java
index 1ad9b03..1b3d95e 100644
--- a/net/minecraft/tileentity/TileEntityChest.java
+++ b/net/minecraft/tileentity/TileEntityChest.java
@@ -184,7 +184,7 @@ public class TileEntityChest extends TileEntityLockable implements IUpdatePlayer
             NBTTagCompound var4 = var2.getCompoundTagAt(var3);
             int var5 = var4.getByte("Slot") & 255;
 
-            if (var5 >= 0 && var5 < this.chestContents.length)
+            if (var5 < this.chestContents.length)
             {
                 this.chestContents[var5] = ItemStack.loadItemStackFromNBT(var4);
             }
@@ -445,7 +445,7 @@ public class TileEntityChest extends TileEntityLockable implements IUpdatePlayer
 
     public void openInventory(EntityPlayer playerIn)
     {
-        if (!playerIn.func_175149_v())
+        if (!playerIn.isSpectator())
         {
             if (this.numPlayersUsing < 0)
             {
@@ -455,18 +455,18 @@ public class TileEntityChest extends TileEntityLockable implements IUpdatePlayer
             ++this.numPlayersUsing;
             this.worldObj.addBlockEvent(this.pos, this.getBlockType(), 1, this.numPlayersUsing);
             this.worldObj.notifyNeighborsOfStateChange(this.pos, this.getBlockType());
-            this.worldObj.notifyNeighborsOfStateChange(this.pos.offsetDown(), this.getBlockType());
+            this.worldObj.notifyNeighborsOfStateChange(this.pos.down(), this.getBlockType());
         }
     }
 
     public void closeInventory(EntityPlayer playerIn)
     {
-        if (!playerIn.func_175149_v() && this.getBlockType() instanceof BlockChest)
+        if (!playerIn.isSpectator() && this.getBlockType() instanceof BlockChest)
         {
             --this.numPlayersUsing;
             this.worldObj.addBlockEvent(this.pos, this.getBlockType(), 1, this.numPlayersUsing);
             this.worldObj.notifyNeighborsOfStateChange(this.pos, this.getBlockType());
-            this.worldObj.notifyNeighborsOfStateChange(this.pos.offsetDown(), this.getBlockType());
+            this.worldObj.notifyNeighborsOfStateChange(this.pos.down(), this.getBlockType());
         }
     }
 
diff --git a/net/minecraft/tileentity/TileEntityDispenser.java b/net/minecraft/tileentity/TileEntityDispenser.java
index c368080..fffbd29 100644
--- a/net/minecraft/tileentity/TileEntityDispenser.java
+++ b/net/minecraft/tileentity/TileEntityDispenser.java
@@ -164,7 +164,7 @@ public class TileEntityDispenser extends TileEntityLockable implements IInventor
             NBTTagCompound var4 = var2.getCompoundTagAt(var3);
             int var5 = var4.getByte("Slot") & 255;
 
-            if (var5 >= 0 && var5 < this.field_146022_i.length)
+            if (var5 < this.field_146022_i.length)
             {
                 this.field_146022_i[var5] = ItemStack.loadItemStackFromNBT(var4);
             }
diff --git a/net/minecraft/tileentity/TileEntityNote.java b/net/minecraft/tileentity/TileEntityNote.java
index 70be779..f04932b 100644
--- a/net/minecraft/tileentity/TileEntityNote.java
+++ b/net/minecraft/tileentity/TileEntityNote.java
@@ -40,9 +40,9 @@ public class TileEntityNote extends TileEntity
 
     public void func_175108_a(World worldIn, BlockPos p_175108_2_)
     {
-        if (worldIn.getBlockState(p_175108_2_.offsetUp()).getBlock().getMaterial() == Material.air)
+        if (worldIn.getBlockState(p_175108_2_.up()).getBlock().getMaterial() == Material.air)
         {
-            Material var3 = worldIn.getBlockState(p_175108_2_.offsetDown()).getBlock().getMaterial();
+            Material var3 = worldIn.getBlockState(p_175108_2_.down()).getBlock().getMaterial();
             byte var4 = 0;
 
             if (var3 == Material.rock)
diff --git a/net/minecraft/tileentity/TileEntitySign.java b/net/minecraft/tileentity/TileEntitySign.java
index 3d886a9..8098aae 100644
--- a/net/minecraft/tileentity/TileEntitySign.java
+++ b/net/minecraft/tileentity/TileEntitySign.java
@@ -21,7 +21,8 @@ import net.minecraft.world.World;
 
 public class TileEntitySign extends TileEntity
 {
-    public final IChatComponent[] signText = new IChatComponent[] {new ChatComponentText(""), new ChatComponentText(""), new ChatComponentText(""), new ChatComponentText("")};
+	//TODO: Client
+    public IChatComponent[] signText = new IChatComponent[] {new ChatComponentText(""), new ChatComponentText(""), new ChatComponentText(""), new ChatComponentText("")};
 
     /**
      * The index of the line currently being edited. Only used on client side, but defined on both. Note this is only
diff --git a/net/minecraft/util/BlockPos.java b/net/minecraft/util/BlockPos.java
index 08917bc..ced4737 100644
--- a/net/minecraft/util/BlockPos.java
+++ b/net/minecraft/util/BlockPos.java
@@ -43,6 +43,14 @@ public class BlockPos extends Vec3i
         this(p_i46034_1_.getX(), p_i46034_1_.getY(), p_i46034_1_.getZ());
     }
 
+    // TODO: Client
+    public void setPos(int x, int y, int z)
+	{
+	    this.x = x;
+	    this.y = y;
+	    this.z = z;
+	}
+
     /**
      * Add the given coordinates to the coordinates of this BlockPos
      *  
@@ -94,15 +102,15 @@ public class BlockPos extends Vec3i
     /**
      * Offset this BlockPos 1 block up
      */
-    public BlockPos offsetUp()
+    public BlockPos up()
     {
-        return this.offsetUp(1);
+        return this.up(1);
     }
 
     /**
      * Offset this BlockPos n blocks up
      */
-    public BlockPos offsetUp(int n)
+    public BlockPos up(int n)
     {
         return this.offset(EnumFacing.UP, n);
     }
@@ -110,15 +118,15 @@ public class BlockPos extends Vec3i
     /**
      * Offset this BlockPos 1 block down
      */
-    public BlockPos offsetDown()
+    public BlockPos down()
     {
-        return this.offsetDown(1);
+        return this.down(1);
     }
 
     /**
      * Offset this BlockPos n blocks down
      */
-    public BlockPos offsetDown(int n)
+    public BlockPos down(int n)
     {
         return this.offset(EnumFacing.DOWN, n);
     }
@@ -126,15 +134,15 @@ public class BlockPos extends Vec3i
     /**
      * Offset this BlockPos 1 block in northern direction
      */
-    public BlockPos offsetNorth()
+    public BlockPos north()
     {
-        return this.offsetNorth(1);
+        return this.north(1);
     }
 
     /**
      * Offset this BlockPos n blocks in northern direction
      */
-    public BlockPos offsetNorth(int n)
+    public BlockPos north(int n)
     {
         return this.offset(EnumFacing.NORTH, n);
     }
@@ -142,15 +150,15 @@ public class BlockPos extends Vec3i
     /**
      * Offset this BlockPos 1 block in southern direction
      */
-    public BlockPos offsetSouth()
+    public BlockPos south()
     {
-        return this.offsetSouth(1);
+        return this.south(1);
     }
 
     /**
      * Offset this BlockPos n blocks in southern direction
      */
-    public BlockPos offsetSouth(int n)
+    public BlockPos south(int n)
     {
         return this.offset(EnumFacing.SOUTH, n);
     }
@@ -158,15 +166,15 @@ public class BlockPos extends Vec3i
     /**
      * Offset this BlockPos 1 block in western direction
      */
-    public BlockPos offsetWest()
+    public BlockPos west()
     {
-        return this.offsetWest(1);
+        return this.west(1);
     }
 
     /**
      * Offset this BlockPos n blocks in western direction
      */
-    public BlockPos offsetWest(int n)
+    public BlockPos west(int n)
     {
         return this.offset(EnumFacing.WEST, n);
     }
@@ -174,15 +182,15 @@ public class BlockPos extends Vec3i
     /**
      * Offset this BlockPos 1 block in eastern direction
      */
-    public BlockPos offsetEast()
+    public BlockPos east()
     {
-        return this.offsetEast(1);
+        return this.east(1);
     }
 
     /**
      * Offset this BlockPos n blocks in eastern direction
      */
-    public BlockPos offsetEast(int n)
+    public BlockPos east(int n)
     {
         return this.offset(EnumFacing.EAST, n);
     }
diff --git a/net/minecraft/util/ChatComponentStyle.java b/net/minecraft/util/ChatComponentStyle.java
index 6ae2b24..5eb0b26 100644
--- a/net/minecraft/util/ChatComponentStyle.java
+++ b/net/minecraft/util/ChatComponentStyle.java
@@ -3,6 +3,8 @@ package net.minecraft.util;
 import com.google.common.base.Function;
 import com.google.common.collect.Iterators;
 import com.google.common.collect.Lists;
+
+import java.util.ConcurrentModificationException;
 import java.util.Iterator;
 import java.util.List;
 
@@ -104,6 +106,8 @@ public abstract class ChatComponentStyle implements IChatComponent
         StringBuilder var1 = new StringBuilder();
         Iterator var2 = this.iterator();
 
+        try
+		{
         while (var2.hasNext())
         {
             IChatComponent var3 = (IChatComponent)var2.next();
@@ -111,6 +115,10 @@ public abstract class ChatComponentStyle implements IChatComponent
             var1.append(var3.getUnformattedTextForChat());
             var1.append(EnumChatFormatting.RESET);
         }
+		}catch(ConcurrentModificationException e)
+		{
+			e.printStackTrace();
+		}
 
         return var1.toString();
     }
diff --git a/net/minecraft/util/CryptManager.java b/net/minecraft/util/CryptManager.java
index 341db02..682ea08 100644
--- a/net/minecraft/util/CryptManager.java
+++ b/net/minecraft/util/CryptManager.java
@@ -68,11 +68,11 @@ public class CryptManager
     /**
      * Compute a serverId hash for use by sendSessionRequest()
      */
-    public static byte[] getServerIdHash(String p_75895_0_, PublicKey p_75895_1_, SecretKey p_75895_2_)
+    public static byte[] getServerIdHash(String input, PublicKey publicKey, SecretKey secretKey)
     {
         try
         {
-            return digestOperation("SHA-1", new byte[][] {p_75895_0_.getBytes("ISO_8859_1"), p_75895_2_.getEncoded(), p_75895_1_.getEncoded()});
+            return digestOperation("SHA-1", new byte[][] {input.getBytes("ISO_8859_1"), secretKey.getEncoded(), publicKey.getEncoded()});
         }
         catch (UnsupportedEncodingException var4)
         {
@@ -84,11 +84,11 @@ public class CryptManager
     /**
      * Compute a message digest on arbitrary byte[] data
      */
-    private static byte[] digestOperation(String p_75893_0_, byte[] ... p_75893_1_)
+    private static byte[] digestOperation(String algorithm, byte[] ... p_75893_1_)
     {
         try
         {
-            MessageDigest var2 = MessageDigest.getInstance(p_75893_0_);
+            MessageDigest var2 = MessageDigest.getInstance(algorithm);
             byte[][] var3 = p_75893_1_;
             int var4 = p_75893_1_.length;
 
@@ -134,9 +134,9 @@ public class CryptManager
     /**
      * Decrypt shared secret AES key using RSA private key
      */
-    public static SecretKey decryptSharedKey(PrivateKey p_75887_0_, byte[] p_75887_1_)
+    public static SecretKey decryptSharedKey(PrivateKey privateKey, byte[] input)
     {
-        return new SecretKeySpec(decryptData(p_75887_0_, p_75887_1_), "AES");
+        return new SecretKeySpec(decryptData(privateKey, input), "AES");
     }
 
     /**
@@ -150,19 +150,19 @@ public class CryptManager
     /**
      * Decrypt byte[] data with RSA private key
      */
-    public static byte[] decryptData(Key p_75889_0_, byte[] p_75889_1_)
+    public static byte[] decryptData(Key privateKey, byte[] input)
     {
-        return cipherOperation(2, p_75889_0_, p_75889_1_);
+        return cipherOperation(2, privateKey, input);
     }
 
     /**
      * Encrypt or decrypt byte[] data using the specified key
      */
-    private static byte[] cipherOperation(int p_75885_0_, Key p_75885_1_, byte[] p_75885_2_)
+    private static byte[] cipherOperation(int opmode, Key key, byte[] input)
     {
         try
         {
-            return createTheCipherInstance(p_75885_0_, p_75885_1_.getAlgorithm(), p_75885_1_).doFinal(p_75885_2_);
+            return createTheCipherInstance(opmode, key.getAlgorithm(), key).doFinal(input);
         }
         catch (IllegalBlockSizeException var4)
         {
@@ -180,12 +180,12 @@ public class CryptManager
     /**
      * Creates the Cipher Instance.
      */
-    private static Cipher createTheCipherInstance(int p_75886_0_, String p_75886_1_, Key p_75886_2_)
+    private static Cipher createTheCipherInstance(int opmode, String transformation, Key key)
     {
         try
         {
-            Cipher var3 = Cipher.getInstance(p_75886_1_);
-            var3.init(p_75886_0_, p_75886_2_);
+            Cipher var3 = Cipher.getInstance(transformation);
+            var3.init(opmode, key);
             return var3;
         }
         catch (InvalidKeyException var4)
@@ -205,12 +205,12 @@ public class CryptManager
         return null;
     }
 
-    public static Cipher func_151229_a(int p_151229_0_, Key p_151229_1_)
+    public static Cipher getAESCipher(int opmode, Key sharedKey)
     {
         try
         {
             Cipher var2 = Cipher.getInstance("AES/CFB8/NoPadding");
-            var2.init(p_151229_0_, p_151229_1_, new IvParameterSpec(p_151229_1_.getEncoded()));
+            var2.init(opmode, sharedKey, new IvParameterSpec(sharedKey.getEncoded()));
             return var2;
         }
         catch (GeneralSecurityException var3)
diff --git a/net/minecraft/util/JsonSerializableSet.java b/net/minecraft/util/JsonSerializableSet.java
index 30d032b..ff92966 100644
--- a/net/minecraft/util/JsonSerializableSet.java
+++ b/net/minecraft/util/JsonSerializableSet.java
@@ -1,13 +1,13 @@
 package net.minecraft.util;
 
+import java.util.Iterator;
+import java.util.Set;
+
 import com.google.common.collect.ForwardingSet;
 import com.google.common.collect.Sets;
 import com.google.gson.JsonArray;
 import com.google.gson.JsonElement;
 import com.google.gson.JsonPrimitive;
-import java.util.Collection;
-import java.util.Iterator;
-import java.util.Set;
 
 public class JsonSerializableSet extends ForwardingSet implements IJsonSerializable
 {
diff --git a/net/minecraft/util/MessageDeserializer.java b/net/minecraft/util/MessageDeserializer.java
index d3e10b2..3572e3a 100644
--- a/net/minecraft/util/MessageDeserializer.java
+++ b/net/minecraft/util/MessageDeserializer.java
@@ -3,13 +3,16 @@ package net.minecraft.util;
 import io.netty.buffer.ByteBuf;
 import io.netty.channel.ChannelHandlerContext;
 import io.netty.handler.codec.ByteToMessageDecoder;
+
 import java.io.IOException;
 import java.util.List;
+
 import net.minecraft.network.EnumConnectionState;
 import net.minecraft.network.EnumPacketDirection;
 import net.minecraft.network.NetworkManager;
 import net.minecraft.network.Packet;
 import net.minecraft.network.PacketBuffer;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 import org.apache.logging.log4j.Marker;
diff --git a/net/minecraft/util/MessageDeserializer2.java b/net/minecraft/util/MessageDeserializer2.java
index 9dd4aff..50661c6 100644
--- a/net/minecraft/util/MessageDeserializer2.java
+++ b/net/minecraft/util/MessageDeserializer2.java
@@ -35,13 +35,13 @@ public class MessageDeserializer2 extends ByteToMessageDecoder
                 {
                     int var7 = var6.readVarIntFromBuffer();
 
-                    if (p_decode_2_.readableBytes() < var7)
+                    if (p_decode_2_.readableBytes() >= var7)
                     {
-                        p_decode_2_.resetReaderIndex();
+                        p_decode_3_.add(p_decode_2_.readBytes(var7));
                         return;
                     }
 
-                    p_decode_3_.add(p_decode_2_.readBytes(var7));
+                    p_decode_2_.resetReaderIndex();
                 }
                 finally
                 {
diff --git a/net/minecraft/util/MessageSerializer.java b/net/minecraft/util/MessageSerializer.java
index 97a71eb..119b922 100644
--- a/net/minecraft/util/MessageSerializer.java
+++ b/net/minecraft/util/MessageSerializer.java
@@ -3,13 +3,16 @@ package net.minecraft.util;
 import io.netty.buffer.ByteBuf;
 import io.netty.channel.ChannelHandlerContext;
 import io.netty.handler.codec.MessageToByteEncoder;
+
 import java.io.IOException;
+
 import net.minecraft.network.EnumConnectionState;
 import net.minecraft.network.EnumPacketDirection;
 import net.minecraft.network.NetworkManager;
 import net.minecraft.network.Packet;
 import net.minecraft.network.PacketBuffer;
 import net.minecraft.network.play.server.S0CPacketSpawnPlayer;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 import org.apache.logging.log4j.Marker;
@@ -49,7 +52,8 @@ public class MessageSerializer extends MessageToByteEncoder
             {
                 if (p_encode_2_ instanceof S0CPacketSpawnPlayer)
                 {
-                    p_encode_2_ = p_encode_2_;
+                	//TODO: Client
+                    //p_encode_2_ = p_encode_2_;
                 }
 
                 p_encode_2_.writePacketData(var5);
diff --git a/net/minecraft/util/MovingObjectPosition.java b/net/minecraft/util/MovingObjectPosition.java
index fd7a472..e0bf505 100644
--- a/net/minecraft/util/MovingObjectPosition.java
+++ b/net/minecraft/util/MovingObjectPosition.java
@@ -4,11 +4,11 @@ import net.minecraft.entity.Entity;
 
 public class MovingObjectPosition
 {
-    private BlockPos field_178783_e;
+    private BlockPos blockPos;
 
     /** What type of ray trace hit was this? 0 = block, 1 = entity */
     public MovingObjectPosition.MovingObjectType typeOfHit;
-    public EnumFacing field_178784_b;
+    public EnumFacing sideHit;
 
     /** The vector position of the hit */
     public Vec3 hitVec;
@@ -35,8 +35,8 @@ public class MovingObjectPosition
     public MovingObjectPosition(MovingObjectPosition.MovingObjectType p_i45553_1_, Vec3 p_i45553_2_, EnumFacing p_i45553_3_, BlockPos p_i45553_4_)
     {
         this.typeOfHit = p_i45553_1_;
-        this.field_178783_e = p_i45553_4_;
-        this.field_178784_b = p_i45553_3_;
+        this.blockPos = p_i45553_4_;
+        this.sideHit = p_i45553_3_;
         this.hitVec = new Vec3(p_i45553_2_.xCoord, p_i45553_2_.yCoord, p_i45553_2_.zCoord);
     }
 
@@ -47,14 +47,20 @@ public class MovingObjectPosition
         this.hitVec = p_i45482_2_;
     }
 
-    public BlockPos func_178782_a()
+    public BlockPos getBlockPos()
     {
-        return this.field_178783_e;
+        return this.blockPos;
+    }
+    
+    //TODO: Client
+    public void setBlockPos(BlockPos blockPos)
+    {
+    	this.blockPos = blockPos;
     }
 
     public String toString()
     {
-        return "HitResult{type=" + this.typeOfHit + ", blockpos=" + this.field_178783_e + ", f=" + this.field_178784_b + ", pos=" + this.hitVec + ", entity=" + this.entityHit + '}';
+        return "HitResult{type=" + this.typeOfHit + ", blockpos=" + this.blockPos + ", f=" + this.sideHit + ", pos=" + this.hitVec + ", entity=" + this.entityHit + '}';
     }
 
     public static enum MovingObjectType
diff --git a/net/minecraft/util/ScreenShotHelper.java b/net/minecraft/util/ScreenShotHelper.java
index 8169170..beba6b8 100644
--- a/net/minecraft/util/ScreenShotHelper.java
+++ b/net/minecraft/util/ScreenShotHelper.java
@@ -135,7 +135,11 @@ public class ScreenShotHelper
      */
     private static File getTimestampedPNGFileForDirectory(File p_74290_0_)
     {
-        String var2 = dateFormat.format(new Date()).toString();
+        String var2;
+		synchronized(dateFormat)
+		{
+			var2 = dateFormat.format(new Date()).toString();
+		}
         int var3 = 1;
 
         while (true)
diff --git a/net/minecraft/util/Timer.java b/net/minecraft/util/Timer.java
index 7ec66f4..0791805 100644
--- a/net/minecraft/util/Timer.java
+++ b/net/minecraft/util/Timer.java
@@ -1,6 +1,8 @@
 package net.minecraft.util;
 
 import net.minecraft.client.Minecraft;
+import tk.wurst_client.WurstClient;
+import tk.wurst_client.features.mods.TimerMod;
 
 public class Timer
 {
@@ -63,6 +65,10 @@ public class Timer
      */
     public void updateTimer()
     {
+		// TODO: Client
+		TimerMod timerMod = WurstClient.INSTANCE.mods.timerMod;
+		timerSpeed = timerMod.isActive() ? timerMod.speed : 1F;
+    	
         long var1 = Minecraft.getSystemTime();
         long var3 = var1 - this.lastSyncSysClock;
         long var5 = System.nanoTime() / 1000000L;
diff --git a/net/minecraft/util/Vec3i.java b/net/minecraft/util/Vec3i.java
index 2035ffa..6138e61 100644
--- a/net/minecraft/util/Vec3i.java
+++ b/net/minecraft/util/Vec3i.java
@@ -8,13 +8,13 @@ public class Vec3i implements Comparable
     public static final Vec3i NULL_VECTOR = new Vec3i(0, 0, 0);
 
     /** X coordinate */
-    private final int x;
+    protected int x;
 
     /** Y coordinate */
-    private final int y;
+    protected int y;
 
     /** Z coordinate */
-    private final int z;
+    protected int z;
     private static final String __OBFID = "CL_00002315";
 
     public Vec3i(int p_i46007_1_, int p_i46007_2_, int p_i46007_3_)
diff --git a/net/minecraft/village/Village.java b/net/minecraft/village/Village.java
index 27be89c..48d3048 100644
--- a/net/minecraft/village/Village.java
+++ b/net/minecraft/village/Village.java
@@ -122,7 +122,7 @@ public class Village
 
     private boolean func_179861_a(BlockPos p_179861_1_, BlockPos p_179861_2_)
     {
-        if (!World.doesBlockHaveSolidTopSurface(this.worldObj, p_179861_2_.offsetDown()))
+        if (!World.doesBlockHaveSolidTopSurface(this.worldObj, p_179861_2_.down()))
         {
             return false;
         }
diff --git a/net/minecraft/village/VillageSiege.java b/net/minecraft/village/VillageSiege.java
index f1a01ba..fba9f60 100644
--- a/net/minecraft/village/VillageSiege.java
+++ b/net/minecraft/village/VillageSiege.java
@@ -104,7 +104,7 @@ public class VillageSiege
         {
             EntityPlayer var3 = (EntityPlayer)var2.next();
 
-            if (!var3.func_175149_v())
+            if (!var3.isSpectator())
             {
                 this.theVillage = this.worldObj.getVillageCollection().func_176056_a(new BlockPos(var3), 1);
 
diff --git a/net/minecraft/world/Explosion.java b/net/minecraft/world/Explosion.java
index 6acc431..479b96b 100644
--- a/net/minecraft/world/Explosion.java
+++ b/net/minecraft/world/Explosion.java
@@ -244,7 +244,7 @@ public class Explosion
             {
                 var3 = (BlockPos)var2.next();
 
-                if (this.worldObj.getBlockState(var3).getBlock().getMaterial() == Material.air && this.worldObj.getBlockState(var3.offsetDown()).getBlock().isFullBlock() && this.explosionRNG.nextInt(3) == 0)
+                if (this.worldObj.getBlockState(var3).getBlock().getMaterial() == Material.air && this.worldObj.getBlockState(var3.down()).getBlock().isFullBlock() && this.explosionRNG.nextInt(3) == 0)
                 {
                     this.worldObj.setBlockState(var3, Blocks.fire.getDefaultState());
                 }
diff --git a/net/minecraft/world/SpawnerAnimals.java b/net/minecraft/world/SpawnerAnimals.java
index f5d6fdc..e331310 100644
--- a/net/minecraft/world/SpawnerAnimals.java
+++ b/net/minecraft/world/SpawnerAnimals.java
@@ -1,10 +1,12 @@
 package net.minecraft.world;
 
 import com.google.common.collect.Sets;
+
 import java.util.Iterator;
 import java.util.List;
 import java.util.Random;
 import java.util.Set;
+
 import net.minecraft.block.Block;
 import net.minecraft.entity.EntityLiving;
 import net.minecraft.entity.EntitySpawnPlacementRegistry;
@@ -48,7 +50,7 @@ public final class SpawnerAnimals
             {
                 EntityPlayer var7 = (EntityPlayer)var6.next();
 
-                if (!var7.func_175149_v())
+                if (!var7.isSpectator())
                 {
                     int var8 = MathHelper.floor_double(var7.posX / 16.0D);
                     var9 = MathHelper.floor_double(var7.posZ / 16.0D);
@@ -220,12 +222,15 @@ public final class SpawnerAnimals
 
             if (p_180267_0_ == EntityLiving.SpawnPlacementType.IN_WATER)
             {
-                return var3.getMaterial().isLiquid() && worldIn.getBlockState(p_180267_2_.offsetDown()).getBlock().getMaterial().isLiquid() && !worldIn.getBlockState(p_180267_2_.offsetUp()).getBlock().isNormalCube();
+                return var3.getMaterial().isLiquid() && worldIn.getBlockState(p_180267_2_.down()).getBlock().getMaterial().isLiquid() && !worldIn.getBlockState(p_180267_2_.up()).getBlock().isNormalCube();
             }
             else
             {
-                BlockPos var4 = p_180267_2_.offsetDown();
+                BlockPos var4 = p_180267_2_.down();
 
+                //TODO: Client
+                try
+				{
                 if (!World.doesBlockHaveSolidTopSurface(worldIn, var4))
                 {
                     return false;
@@ -234,7 +239,11 @@ public final class SpawnerAnimals
                 {
                     Block var5 = worldIn.getBlockState(var4).getBlock();
                     boolean var6 = var5 != Blocks.bedrock && var5 != Blocks.barrier;
-                    return var6 && !var3.isNormalCube() && !var3.getMaterial().isLiquid() && !worldIn.getBlockState(p_180267_2_.offsetUp()).getBlock().isNormalCube();
+                    return var6 && !var3.isNormalCube() && !var3.getMaterial().isLiquid() && !worldIn.getBlockState(p_180267_2_.up()).getBlock().isNormalCube();
+                }
+				}catch(IllegalArgumentException e)
+				{
+					return false;
 				}
             }
         }
diff --git a/net/minecraft/world/Teleporter.java b/net/minecraft/world/Teleporter.java
index fc9a24e..1401834 100644
--- a/net/minecraft/world/Teleporter.java
+++ b/net/minecraft/world/Teleporter.java
@@ -104,11 +104,11 @@ public class Teleporter
                 {
                     for (BlockPos var15 = var34.add(var13, this.worldServerInstance.getActualHeight() - 1 - var34.getY(), var14); var15.getY() >= 0; var15 = var16)
                     {
-                        var16 = var15.offsetDown();
+                        var16 = var15.down();
 
                         if (this.worldServerInstance.getBlockState(var15).getBlock() == Blocks.portal)
                         {
-                            while (this.worldServerInstance.getBlockState(var16 = var15.offsetDown()).getBlock() == Blocks.portal)
+                            while (this.worldServerInstance.getBlockState(var16 = var15.down()).getBlock() == Blocks.portal)
                             {
                                 var15 = var16;
                             }
@@ -139,22 +139,22 @@ public class Teleporter
             double var37 = (double)((BlockPos)var9).getZ() + 0.5D;
             EnumFacing var18 = null;
 
-            if (this.worldServerInstance.getBlockState(((BlockPos)var9).offsetWest()).getBlock() == Blocks.portal)
+            if (this.worldServerInstance.getBlockState(((BlockPos)var9).west()).getBlock() == Blocks.portal)
             {
                 var18 = EnumFacing.NORTH;
             }
 
-            if (this.worldServerInstance.getBlockState(((BlockPos)var9).offsetEast()).getBlock() == Blocks.portal)
+            if (this.worldServerInstance.getBlockState(((BlockPos)var9).east()).getBlock() == Blocks.portal)
             {
                 var18 = EnumFacing.SOUTH;
             }
 
-            if (this.worldServerInstance.getBlockState(((BlockPos)var9).offsetNorth()).getBlock() == Blocks.portal)
+            if (this.worldServerInstance.getBlockState(((BlockPos)var9).north()).getBlock() == Blocks.portal)
             {
                 var18 = EnumFacing.EAST;
             }
 
-            if (this.worldServerInstance.getBlockState(((BlockPos)var9).offsetSouth()).getBlock() == Blocks.portal)
+            if (this.worldServerInstance.getBlockState(((BlockPos)var9).south()).getBlock() == Blocks.portal)
             {
                 var18 = EnumFacing.WEST;
             }
@@ -247,7 +247,7 @@ public class Teleporter
 
     private boolean func_180265_a(BlockPos p_180265_1_)
     {
-        return !this.worldServerInstance.isAirBlock(p_180265_1_) || !this.worldServerInstance.isAirBlock(p_180265_1_.offsetUp());
+        return !this.worldServerInstance.isAirBlock(p_180265_1_) || !this.worldServerInstance.isAirBlock(p_180265_1_.up());
     }
 
     public boolean makePortal(Entity p_85188_1_)
diff --git a/net/minecraft/world/World.java b/net/minecraft/world/World.java
index 18e9ecf..d1e4f35 100644
--- a/net/minecraft/world/World.java
+++ b/net/minecraft/world/World.java
@@ -3,6 +3,7 @@ package net.minecraft.world;
 import com.google.common.base.Predicate;
 import com.google.common.collect.Lists;
 import com.google.common.collect.Sets;
+
 import java.util.ArrayList;
 import java.util.Calendar;
 import java.util.Collection;
@@ -12,6 +13,7 @@ import java.util.Random;
 import java.util.Set;
 import java.util.UUID;
 import java.util.concurrent.Callable;
+
 import net.minecraft.block.Block;
 import net.minecraft.block.BlockHopper;
 import net.minecraft.block.BlockLiquid;
@@ -82,12 +84,15 @@ public abstract class World implements IBlockAccess
     /** How much light is subtracted from full daylight */
     private int skylightSubtracted;
 
+    /** RNG for World. */
+    public final Random rand = new Random();
+
     /**
      * Contains the current Linear Congruential Generator seed for block updates. Used with an A value of 3 and a C
      * value of 0x3c6ef35f, producing a highly planar series of values ill-suited for choosing random blocks in a
      * 16x128x16 field.
      */
-    protected int updateLCG = (new Random()).nextInt();
+    protected int updateLCG = rand.nextInt();
 
     /**
      * magic number used to generate fast random numbers for 3d distribution within a chunk
@@ -104,9 +109,6 @@ public abstract class World implements IBlockAccess
      */
     private int lastLightningBolt;
 
-    /** RNG for World. */
-    public final Random rand = new Random();
-
     /** The WorldProvider instance that World uses. */
     public final WorldProvider provider;
     protected List worldAccesses = Lists.newArrayList();
@@ -234,7 +236,7 @@ public abstract class World implements IBlockAccess
     {
         BlockPos var2;
 
-        for (var2 = new BlockPos(pos.getX(), 63, pos.getZ()); !this.isAirBlock(var2.offsetUp()); var2 = var2.offsetUp())
+        for (var2 = new BlockPos(pos.getX(), 63, pos.getZ()); !this.isAirBlock(var2.up()); var2 = var2.up())
         {
             ;
         }
@@ -486,44 +488,44 @@ public abstract class World implements IBlockAccess
 
     public void notifyNeighborsOfStateChange(BlockPos pos, Block blockType)
     {
-        this.notifyBlockOfStateChange(pos.offsetWest(), blockType);
-        this.notifyBlockOfStateChange(pos.offsetEast(), blockType);
-        this.notifyBlockOfStateChange(pos.offsetDown(), blockType);
-        this.notifyBlockOfStateChange(pos.offsetUp(), blockType);
-        this.notifyBlockOfStateChange(pos.offsetNorth(), blockType);
-        this.notifyBlockOfStateChange(pos.offsetSouth(), blockType);
+        this.notifyBlockOfStateChange(pos.west(), blockType);
+        this.notifyBlockOfStateChange(pos.east(), blockType);
+        this.notifyBlockOfStateChange(pos.down(), blockType);
+        this.notifyBlockOfStateChange(pos.up(), blockType);
+        this.notifyBlockOfStateChange(pos.north(), blockType);
+        this.notifyBlockOfStateChange(pos.south(), blockType);
     }
 
     public void notifyNeighborsOfStateExcept(BlockPos pos, Block blockType, EnumFacing skipSide)
     {
         if (skipSide != EnumFacing.WEST)
         {
-            this.notifyBlockOfStateChange(pos.offsetWest(), blockType);
+            this.notifyBlockOfStateChange(pos.west(), blockType);
         }
 
         if (skipSide != EnumFacing.EAST)
         {
-            this.notifyBlockOfStateChange(pos.offsetEast(), blockType);
+            this.notifyBlockOfStateChange(pos.east(), blockType);
         }
 
         if (skipSide != EnumFacing.DOWN)
         {
-            this.notifyBlockOfStateChange(pos.offsetDown(), blockType);
+            this.notifyBlockOfStateChange(pos.down(), blockType);
         }
 
         if (skipSide != EnumFacing.UP)
         {
-            this.notifyBlockOfStateChange(pos.offsetUp(), blockType);
+            this.notifyBlockOfStateChange(pos.up(), blockType);
         }
 
         if (skipSide != EnumFacing.NORTH)
         {
-            this.notifyBlockOfStateChange(pos.offsetNorth(), blockType);
+            this.notifyBlockOfStateChange(pos.north(), blockType);
         }
 
         if (skipSide != EnumFacing.SOUTH)
         {
-            this.notifyBlockOfStateChange(pos.offsetSouth(), blockType);
+            this.notifyBlockOfStateChange(pos.south(), blockType);
         }
     }
 
@@ -588,7 +590,7 @@ public abstract class World implements IBlockAccess
             }
             else
             {
-                for (var2 = var2.offsetDown(); var2.getY() > pos.getY(); var2 = var2.offsetDown())
+                for (var2 = var2.down(); var2.getY() > pos.getY(); var2 = var2.down())
                 {
                     Block var3 = this.getBlockState(var2).getBlock();
 
@@ -631,11 +633,11 @@ public abstract class World implements IBlockAccess
         {
             if (checkNeighbors && this.getBlockState(pos).getBlock().getUseNeighborBrightness())
             {
-                int var8 = this.getLight(pos.offsetUp(), false);
-                int var4 = this.getLight(pos.offsetEast(), false);
-                int var5 = this.getLight(pos.offsetWest(), false);
-                int var6 = this.getLight(pos.offsetSouth(), false);
-                int var7 = this.getLight(pos.offsetNorth(), false);
+                int var8 = this.getLight(pos.up(), false);
+                int var4 = this.getLight(pos.east(), false);
+                int var5 = this.getLight(pos.west(), false);
+                int var6 = this.getLight(pos.south(), false);
+                int var7 = this.getLight(pos.north(), false);
 
                 if (var4 > var8)
                 {
@@ -749,11 +751,11 @@ public abstract class World implements IBlockAccess
             }
             else if (this.getBlockState(p_175705_2_).getBlock().getUseNeighborBrightness())
             {
-                int var8 = this.getLightFor(type, p_175705_2_.offsetUp());
-                int var4 = this.getLightFor(type, p_175705_2_.offsetEast());
-                int var5 = this.getLightFor(type, p_175705_2_.offsetWest());
-                int var6 = this.getLightFor(type, p_175705_2_.offsetSouth());
-                int var7 = this.getLightFor(type, p_175705_2_.offsetNorth());
+                int var8 = this.getLightFor(type, p_175705_2_.up());
+                int var4 = this.getLightFor(type, p_175705_2_.east());
+                int var5 = this.getLightFor(type, p_175705_2_.west());
+                int var6 = this.getLightFor(type, p_175705_2_.south());
+                int var7 = this.getLightFor(type, p_175705_2_.north());
 
                 if (var4 > var8)
                 {
@@ -1314,8 +1316,6 @@ public abstract class World implements IBlockAccess
 
         for (int var19 = 0; var19 < var18.size(); ++var19)
         {
-            if (p_72945_1_.riddenByEntity != var18 && p_72945_1_.ridingEntity != var18)
-            {
                 AxisAlignedBB var20 = ((Entity)var18.get(var19)).getBoundingBox();
 
                 if (var20 != null && var20.intersectsWith(p_72945_2_))
@@ -1330,7 +1330,6 @@ public abstract class World implements IBlockAccess
                     var3.add(var20);
                 }
             }
-        }
 
         return var3;
     }
@@ -1581,7 +1580,7 @@ public abstract class World implements IBlockAccess
 
         for (var3 = new BlockPos(p_175672_1_.getX(), var2.getTopFilledSegment() + 16, p_175672_1_.getZ()); var3.getY() >= 0; var3 = var4)
         {
-            var4 = var3.offsetDown();
+            var4 = var3.down();
             Material var5 = var2.getBlock(var4).getMaterial();
 
             if (var5.blocksMovement() && var5 != Material.leaves)
@@ -2710,7 +2709,7 @@ public abstract class World implements IBlockAccess
                         return true;
                     }
 
-                    boolean var7 = this.func_175696_F(p_175670_1_.offsetWest()) && this.func_175696_F(p_175670_1_.offsetEast()) && this.func_175696_F(p_175670_1_.offsetNorth()) && this.func_175696_F(p_175670_1_.offsetSouth());
+                    boolean var7 = this.func_175696_F(p_175670_1_.west()) && this.func_175696_F(p_175670_1_.east()) && this.func_175696_F(p_175670_1_.north()) && this.func_175696_F(p_175670_1_.south());
 
                     if (!var7)
                     {
@@ -2934,32 +2933,32 @@ public abstract class World implements IBlockAccess
 
                         if (var17 + var18 + var19 < 17 && var31)
                         {
-                            if (this.getLightFor(p_180500_1_, var29.offsetWest()) < var16)
+                            if (this.getLightFor(p_180500_1_, var29.west()) < var16)
                             {
                                 this.lightUpdateBlockList[var4++] = var11 - 1 - var7 + 32 + (var12 - var8 + 32 << 6) + (var13 - var9 + 32 << 12);
                             }
 
-                            if (this.getLightFor(p_180500_1_, var29.offsetEast()) < var16)
+                            if (this.getLightFor(p_180500_1_, var29.east()) < var16)
                             {
                                 this.lightUpdateBlockList[var4++] = var11 + 1 - var7 + 32 + (var12 - var8 + 32 << 6) + (var13 - var9 + 32 << 12);
                             }
 
-                            if (this.getLightFor(p_180500_1_, var29.offsetDown()) < var16)
+                            if (this.getLightFor(p_180500_1_, var29.down()) < var16)
                             {
                                 this.lightUpdateBlockList[var4++] = var11 - var7 + 32 + (var12 - 1 - var8 + 32 << 6) + (var13 - var9 + 32 << 12);
                             }
 
-                            if (this.getLightFor(p_180500_1_, var29.offsetUp()) < var16)
+                            if (this.getLightFor(p_180500_1_, var29.up()) < var16)
                             {
                                 this.lightUpdateBlockList[var4++] = var11 - var7 + 32 + (var12 + 1 - var8 + 32 << 6) + (var13 - var9 + 32 << 12);
                             }
 
-                            if (this.getLightFor(p_180500_1_, var29.offsetNorth()) < var16)
+                            if (this.getLightFor(p_180500_1_, var29.north()) < var16)
                             {
                                 this.lightUpdateBlockList[var4++] = var11 - var7 + 32 + (var12 - var8 + 32 << 6) + (var13 - 1 - var9 + 32 << 12);
                             }
 
-                            if (this.getLightFor(p_180500_1_, var29.offsetSouth()) < var16)
+                            if (this.getLightFor(p_180500_1_, var29.south()) < var16)
                             {
                                 this.lightUpdateBlockList[var4++] = var11 - var7 + 32 + (var12 - var8 + 32 << 6) + (var13 + 1 - var9 + 32 << 12);
                             }
@@ -3195,7 +3194,7 @@ public abstract class World implements IBlockAccess
     public int getStrongPower(BlockPos pos)
     {
         byte var2 = 0;
-        int var3 = Math.max(var2, this.getStrongPower(pos.offsetDown(), EnumFacing.DOWN));
+        int var3 = Math.max(var2, this.getStrongPower(pos.down(), EnumFacing.DOWN));
 
         if (var3 >= 15)
         {
@@ -3203,7 +3202,7 @@ public abstract class World implements IBlockAccess
         }
         else
         {
-            var3 = Math.max(var3, this.getStrongPower(pos.offsetUp(), EnumFacing.UP));
+            var3 = Math.max(var3, this.getStrongPower(pos.up(), EnumFacing.UP));
 
             if (var3 >= 15)
             {
@@ -3211,7 +3210,7 @@ public abstract class World implements IBlockAccess
             }
             else
             {
-                var3 = Math.max(var3, this.getStrongPower(pos.offsetNorth(), EnumFacing.NORTH));
+                var3 = Math.max(var3, this.getStrongPower(pos.north(), EnumFacing.NORTH));
 
                 if (var3 >= 15)
                 {
@@ -3219,7 +3218,7 @@ public abstract class World implements IBlockAccess
                 }
                 else
                 {
-                    var3 = Math.max(var3, this.getStrongPower(pos.offsetSouth(), EnumFacing.SOUTH));
+                    var3 = Math.max(var3, this.getStrongPower(pos.south(), EnumFacing.SOUTH));
 
                     if (var3 >= 15)
                     {
@@ -3227,7 +3226,7 @@ public abstract class World implements IBlockAccess
                     }
                     else
                     {
-                        var3 = Math.max(var3, this.getStrongPower(pos.offsetWest(), EnumFacing.WEST));
+                        var3 = Math.max(var3, this.getStrongPower(pos.west(), EnumFacing.WEST));
 
                         if (var3 >= 15)
                         {
@@ -3235,7 +3234,7 @@ public abstract class World implements IBlockAccess
                         }
                         else
                         {
-                            var3 = Math.max(var3, this.getStrongPower(pos.offsetEast(), EnumFacing.EAST));
+                            var3 = Math.max(var3, this.getStrongPower(pos.east(), EnumFacing.EAST));
                             return var3 >= 15 ? var3 : var3;
                         }
                     }
@@ -3258,7 +3257,7 @@ public abstract class World implements IBlockAccess
 
     public boolean isBlockPowered(BlockPos pos)
     {
-        return this.getRedstonePower(pos.offsetDown(), EnumFacing.DOWN) > 0 ? true : (this.getRedstonePower(pos.offsetUp(), EnumFacing.UP) > 0 ? true : (this.getRedstonePower(pos.offsetNorth(), EnumFacing.NORTH) > 0 ? true : (this.getRedstonePower(pos.offsetSouth(), EnumFacing.SOUTH) > 0 ? true : (this.getRedstonePower(pos.offsetWest(), EnumFacing.WEST) > 0 ? true : this.getRedstonePower(pos.offsetEast(), EnumFacing.EAST) > 0))));
+        return this.getRedstonePower(pos.down(), EnumFacing.DOWN) > 0 ? true : (this.getRedstonePower(pos.up(), EnumFacing.UP) > 0 ? true : (this.getRedstonePower(pos.north(), EnumFacing.NORTH) > 0 ? true : (this.getRedstonePower(pos.south(), EnumFacing.SOUTH) > 0 ? true : (this.getRedstonePower(pos.west(), EnumFacing.WEST) > 0 ? true : this.getRedstonePower(pos.east(), EnumFacing.EAST) > 0))));
     }
 
     public int func_175687_A(BlockPos p_175687_1_)
@@ -3727,6 +3726,10 @@ public abstract class World implements IBlockAccess
         {
             this.worldInfo.addToCrashReport(var2);
         }
+        catch (NullPointerException var4)
+        {
+            var2.addCrashSectionThrowable("Level Data Unobtainable", var4);
+        }
         catch (Throwable var4)
         {
             var2.addCrashSectionThrowable("Level Data Unobtainable", var4);
diff --git a/net/minecraft/world/WorldServer.java b/net/minecraft/world/WorldServer.java
index f02a23c..74fd862 100644
--- a/net/minecraft/world/WorldServer.java
+++ b/net/minecraft/world/WorldServer.java
@@ -5,6 +5,7 @@ import com.google.common.collect.Lists;
 import com.google.common.collect.Maps;
 import com.google.common.collect.Sets;
 import com.google.common.util.concurrent.ListenableFuture;
+
 import java.util.ArrayList;
 import java.util.Iterator;
 import java.util.List;
@@ -13,6 +14,7 @@ import java.util.Random;
 import java.util.Set;
 import java.util.TreeSet;
 import java.util.UUID;
+
 import net.minecraft.block.Block;
 import net.minecraft.block.BlockEventData;
 import net.minecraft.block.material.Material;
@@ -67,6 +69,7 @@ import net.minecraft.world.gen.structure.StructureBoundingBox;
 import net.minecraft.world.storage.ISaveHandler;
 import net.minecraft.world.storage.MapStorage;
 import net.minecraft.world.storage.WorldInfo;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 
@@ -254,7 +257,7 @@ public class WorldServer extends World implements IThreadListener
             {
                 EntityPlayer var4 = (EntityPlayer)var3.next();
 
-                if (var4.func_175149_v())
+                if (var4.isSpectator())
                 {
                     ++var1;
                 }
@@ -310,7 +313,7 @@ public class WorldServer extends World implements IThreadListener
 
                 var2 = (EntityPlayer)var1.next();
             }
-            while (!var2.func_175149_v() && var2.isPlayerFullyAsleep());
+            while (!var2.isSpectator() && var2.isPlayerFullyAsleep());
 
             return false;
         }
@@ -402,7 +405,7 @@ public class WorldServer extends World implements IThreadListener
                     this.updateLCG = this.updateLCG * 3 + 1013904223;
                     var8 = this.updateLCG >> 2;
                     var9 = this.func_175725_q(new BlockPos(var5 + (var8 & 15), 0, var6 + (var8 >> 8 & 15)));
-                    BlockPos var10 = var9.offsetDown();
+                    BlockPos var10 = var9.down();
 
                     if (this.func_175662_w(var10))
                     {
@@ -837,11 +840,11 @@ public class WorldServer extends World implements IThreadListener
     {
         if (!this.provider.canRespawnHere())
         {
-            this.worldInfo.setSpawn(BlockPos.ORIGIN.offsetUp(this.provider.getAverageGroundLevel()));
+            this.worldInfo.setSpawn(BlockPos.ORIGIN.up(this.provider.getAverageGroundLevel()));
         }
         else if (this.worldInfo.getTerrainType() == WorldType.DEBUG_WORLD)
         {
-            this.worldInfo.setSpawn(BlockPos.ORIGIN.offsetUp());
+            this.worldInfo.setSpawn(BlockPos.ORIGIN.up());
         }
         else
         {
@@ -899,7 +902,7 @@ public class WorldServer extends World implements IThreadListener
         {
             int var3 = this.worldInfo.getSpawnX() + this.rand.nextInt(6) - this.rand.nextInt(6);
             int var4 = this.worldInfo.getSpawnZ() + this.rand.nextInt(6) - this.rand.nextInt(6);
-            BlockPos var5 = this.func_175672_r(new BlockPos(var3, 0, var4)).offsetUp();
+            BlockPos var5 = this.func_175672_r(new BlockPos(var3, 0, var4)).up();
 
             if (var1.generate(this, this.rand, var5))
             {
diff --git a/net/minecraft/world/biome/BiomeDecorator.java b/net/minecraft/world/biome/BiomeDecorator.java
index edacc67..00aade3 100644
--- a/net/minecraft/world/biome/BiomeDecorator.java
+++ b/net/minecraft/world/biome/BiomeDecorator.java
@@ -303,7 +303,7 @@ public class BiomeDecorator
             {
                 if (var7.getY() > 0)
                 {
-                    BlockPos var13 = var7.offsetDown();
+                    BlockPos var13 = var7.down();
 
                     if (this.currentWorld.isAirBlock(var13))
                     {
diff --git a/net/minecraft/world/biome/BiomeGenDesert.java b/net/minecraft/world/biome/BiomeGenDesert.java
index 3e1cf3c..3be76cb 100644
--- a/net/minecraft/world/biome/BiomeGenDesert.java
+++ b/net/minecraft/world/biome/BiomeGenDesert.java
@@ -31,7 +31,7 @@ public class BiomeGenDesert extends BiomeGenBase
         {
             int var4 = p_180624_2_.nextInt(16) + 8;
             int var5 = p_180624_2_.nextInt(16) + 8;
-            BlockPos var6 = worldIn.getHorizon(p_180624_3_.add(var4, 0, var5)).offsetUp();
+            BlockPos var6 = worldIn.getHorizon(p_180624_3_.add(var4, 0, var5)).up();
             (new WorldGenDesertWells()).generate(worldIn, p_180624_2_, var6);
         }
     }
diff --git a/net/minecraft/world/biome/WorldChunkManager.java b/net/minecraft/world/biome/WorldChunkManager.java
index 366413e..0e962a9 100644
--- a/net/minecraft/world/biome/WorldChunkManager.java
+++ b/net/minecraft/world/biome/WorldChunkManager.java
@@ -1,8 +1,10 @@
 package net.minecraft.world.biome;
 
 import com.google.common.collect.Lists;
+
 import java.util.List;
 import java.util.Random;
+
 import net.minecraft.crash.CrashReport;
 import net.minecraft.crash.CrashReportCategory;
 import net.minecraft.util.BlockPos;
diff --git a/net/minecraft/world/chunk/Chunk.java b/net/minecraft/world/chunk/Chunk.java
index 4b4d8b9..c73dd67 100644
--- a/net/minecraft/world/chunk/Chunk.java
+++ b/net/minecraft/world/chunk/Chunk.java
@@ -3,6 +3,7 @@ package net.minecraft.world.chunk;
 import com.google.common.base.Predicate;
 import com.google.common.collect.Maps;
 import com.google.common.collect.Queues;
+
 import java.util.Arrays;
 import java.util.Iterator;
 import java.util.List;
@@ -10,6 +11,7 @@ import java.util.Map;
 import java.util.Random;
 import java.util.concurrent.Callable;
 import java.util.concurrent.ConcurrentLinkedQueue;
+
 import net.minecraft.block.Block;
 import net.minecraft.block.ITileEntityProvider;
 import net.minecraft.block.material.Material;
@@ -33,6 +35,7 @@ import net.minecraft.world.biome.BiomeGenBase;
 import net.minecraft.world.biome.WorldChunkManager;
 import net.minecraft.world.chunk.storage.ExtendedBlockStorage;
 import net.minecraft.world.gen.ChunkProviderDebug;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 
@@ -1256,7 +1259,7 @@ public class Chunk
 
                 if (!var9.blocksMovement() && !var9.isLiquid())
                 {
-                    var5 = var5.offsetDown();
+                    var5 = var5.down();
                 }
                 else
                 {
diff --git a/net/minecraft/world/chunk/storage/AnvilChunkLoader.java b/net/minecraft/world/chunk/storage/AnvilChunkLoader.java
index 6c89eb3..f5c3af7 100644
--- a/net/minecraft/world/chunk/storage/AnvilChunkLoader.java
+++ b/net/minecraft/world/chunk/storage/AnvilChunkLoader.java
@@ -176,8 +176,6 @@ public class AnvilChunkLoader implements IChunkLoader, IThreadedFileIO
             this.pendingAnvilChunksCoordinates.remove(var1.chunkCoordinate);
         }
 
-        if (var1 != null)
-        {
             try
             {
                 this.writeChunkNBTTags(var1);
@@ -186,7 +184,6 @@ public class AnvilChunkLoader implements IChunkLoader, IThreadedFileIO
             {
                 var4.printStackTrace();
             }
-        }
 
         return true;
     }
diff --git a/net/minecraft/world/chunk/storage/RegionFile.java b/net/minecraft/world/chunk/storage/RegionFile.java
index e4e41df..9efafc4 100644
--- a/net/minecraft/world/chunk/storage/RegionFile.java
+++ b/net/minecraft/world/chunk/storage/RegionFile.java
@@ -1,6 +1,7 @@
 package net.minecraft.world.chunk.storage;
 
 import com.google.common.collect.Lists;
+
 import java.io.BufferedInputStream;
 import java.io.ByteArrayInputStream;
 import java.io.ByteArrayOutputStream;
@@ -13,6 +14,7 @@ import java.util.List;
 import java.util.zip.DeflaterOutputStream;
 import java.util.zip.GZIPInputStream;
 import java.util.zip.InflaterInputStream;
+
 import net.minecraft.server.MinecraftServer;
 
 public class RegionFile
@@ -183,6 +185,8 @@ public class RegionFile
     /**
      * args: x, z - get an output stream used to write chunk data, data is on disk when the returned stream is closed
      */
+    //TODO: Client
+    @SuppressWarnings("resource")
     public DataOutputStream getChunkDataOutputStream(int p_76710_1_, int p_76710_2_)
     {
         return this.outOfBounds(p_76710_1_, p_76710_2_) ? null : new DataOutputStream(new DeflaterOutputStream(new RegionFile.ChunkBuffer(p_76710_1_, p_76710_2_)));
diff --git a/net/minecraft/world/gen/ChunkProviderEnd.java b/net/minecraft/world/gen/ChunkProviderEnd.java
index f82ecc3..2401400 100644
--- a/net/minecraft/world/gen/ChunkProviderEnd.java
+++ b/net/minecraft/world/gen/ChunkProviderEnd.java
@@ -146,15 +146,8 @@ public class ChunkProviderEnd implements IChunkProvider
 
                             var5 = var4;
 
-                            if (var8 >= 0)
-                            {
                                 p_180519_1_.setBlockState(var2, var8, var3, var6);
                             }
-                            else
-                            {
-                                p_180519_1_.setBlockState(var2, var8, var3, var7);
-                            }
-                        }
                         else if (var5 > 0)
                         {
                             --var5;
diff --git a/net/minecraft/world/gen/ChunkProviderGenerate.java b/net/minecraft/world/gen/ChunkProviderGenerate.java
index a325c8a..9dfe536 100644
--- a/net/minecraft/world/gen/ChunkProviderGenerate.java
+++ b/net/minecraft/world/gen/ChunkProviderGenerate.java
@@ -473,7 +473,7 @@ public class ChunkProviderGenerate implements IChunkProvider
             for (var15 = 0; var15 < 16; ++var15)
             {
                 BlockPos var18 = this.worldObj.func_175725_q(var6.add(var14, 0, var15));
-                BlockPos var19 = var18.offsetDown();
+                BlockPos var19 = var18.down();
 
                 if (this.worldObj.func_175675_v(var19))
                 {
diff --git a/net/minecraft/world/gen/ChunkProviderHell.java b/net/minecraft/world/gen/ChunkProviderHell.java
index 64504da..c995de3 100644
--- a/net/minecraft/world/gen/ChunkProviderHell.java
+++ b/net/minecraft/world/gen/ChunkProviderHell.java
@@ -497,7 +497,7 @@ public class ChunkProviderHell implements IChunkProvider
                 return this.genNetherBridge.getSpawnList();
             }
 
-            if (this.genNetherBridge.func_175796_a(this.worldObj, p_177458_2_) && this.worldObj.getBlockState(p_177458_2_.offsetDown()).getBlock() == Blocks.nether_brick)
+            if (this.genNetherBridge.func_175796_a(this.worldObj, p_177458_2_) && this.worldObj.getBlockState(p_177458_2_.down()).getBlock() == Blocks.nether_brick)
             {
                 return this.genNetherBridge.getSpawnList();
             }
diff --git a/net/minecraft/world/gen/ChunkProviderServer.java b/net/minecraft/world/gen/ChunkProviderServer.java
index 5b0fa03..be3ace3 100644
--- a/net/minecraft/world/gen/ChunkProviderServer.java
+++ b/net/minecraft/world/gen/ChunkProviderServer.java
@@ -1,12 +1,14 @@
 package net.minecraft.world.gen;
 
 import com.google.common.collect.Lists;
+
 import java.io.IOException;
 import java.util.Collections;
 import java.util.Iterator;
 import java.util.List;
 import java.util.Set;
 import java.util.concurrent.ConcurrentHashMap;
+
 import net.minecraft.crash.CrashReport;
 import net.minecraft.crash.CrashReportCategory;
 import net.minecraft.entity.EnumCreatureType;
@@ -22,6 +24,7 @@ import net.minecraft.world.chunk.Chunk;
 import net.minecraft.world.chunk.EmptyChunk;
 import net.minecraft.world.chunk.IChunkProvider;
 import net.minecraft.world.chunk.storage.IChunkLoader;
+
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 
diff --git a/net/minecraft/world/gen/feature/WorldGenBigMushroom.java b/net/minecraft/world/gen/feature/WorldGenBigMushroom.java
index 7c3be97..808ff45 100644
--- a/net/minecraft/world/gen/feature/WorldGenBigMushroom.java
+++ b/net/minecraft/world/gen/feature/WorldGenBigMushroom.java
@@ -77,7 +77,7 @@ public class WorldGenBigMushroom extends WorldGenerator
             }
             else
             {
-                Block var15 = worldIn.getBlockState(p_180709_3_.offsetDown()).getBlock();
+                Block var15 = worldIn.getBlockState(p_180709_3_.down()).getBlock();
 
                 if (var15 != Blocks.dirt && var15 != Blocks.grass && var15 != Blocks.mycelium)
                 {
@@ -200,11 +200,11 @@ public class WorldGenBigMushroom extends WorldGenerator
 
                     for (var9 = 0; var9 < var5; ++var9)
                     {
-                        Block var17 = worldIn.getBlockState(p_180709_3_.offsetUp(var9)).getBlock();
+                        Block var17 = worldIn.getBlockState(p_180709_3_.up(var9)).getBlock();
 
                         if (!var17.isFullBlock())
                         {
-                            this.func_175905_a(worldIn, p_180709_3_.offsetUp(var9), Block.getBlockById(Block.getIdFromBlock(Blocks.brown_mushroom_block) + var4), 10);
+                            this.func_175905_a(worldIn, p_180709_3_.up(var9), Block.getBlockById(Block.getIdFromBlock(Blocks.brown_mushroom_block) + var4), 10);
                         }
                     }
 
diff --git a/net/minecraft/world/gen/feature/WorldGenBigTree.java b/net/minecraft/world/gen/feature/WorldGenBigTree.java
index 714f061..6b96585 100644
--- a/net/minecraft/world/gen/feature/WorldGenBigTree.java
+++ b/net/minecraft/world/gen/feature/WorldGenBigTree.java
@@ -68,7 +68,7 @@ public class WorldGenBigTree extends WorldGenAbstractTree
         int var2 = this.field_175947_m.getY() + this.height;
         int var3 = this.heightLimit - this.leafDistanceLimit;
         this.field_175948_j = Lists.newArrayList();
-        this.field_175948_j.add(new WorldGenBigTree.FoliageCoordinates(this.field_175947_m.offsetUp(var3), var2));
+        this.field_175948_j.add(new WorldGenBigTree.FoliageCoordinates(this.field_175947_m.up(var3), var2));
 
         for (; var3 >= 0; --var3)
         {
@@ -83,7 +83,7 @@ public class WorldGenBigTree extends WorldGenAbstractTree
                     double var10 = var6 * Math.sin(var8) + 0.5D;
                     double var12 = var6 * Math.cos(var8) + 0.5D;
                     BlockPos var14 = this.field_175947_m.add(var10, (double)(var3 - 1), var12);
-                    BlockPos var15 = var14.offsetUp(this.leafDistanceLimit);
+                    BlockPos var15 = var14.up(this.leafDistanceLimit);
 
                     if (this.func_175936_a(var14, var15) == -1)
                     {
@@ -162,7 +162,7 @@ public class WorldGenBigTree extends WorldGenAbstractTree
     {
         for (int var2 = 0; var2 < this.leafDistanceLimit; ++var2)
         {
-            this.func_180712_a(p_175940_1_.offsetUp(var2), this.leafSize(var2), Blocks.leaves);
+            this.func_180712_a(p_175940_1_.up(var2), this.leafSize(var2), Blocks.leaves);
         }
     }
 
@@ -234,15 +234,15 @@ public class WorldGenBigTree extends WorldGenAbstractTree
     void func_175942_c()
     {
         BlockPos var1 = this.field_175947_m;
-        BlockPos var2 = this.field_175947_m.offsetUp(this.height);
+        BlockPos var2 = this.field_175947_m.up(this.height);
         Block var3 = Blocks.log;
         this.func_175937_a(var1, var2, var3);
 
         if (this.field_175943_g == 2)
         {
-            this.func_175937_a(var1.offsetEast(), var2.offsetEast(), var3);
-            this.func_175937_a(var1.offsetEast().offsetSouth(), var2.offsetEast().offsetSouth(), var3);
-            this.func_175937_a(var1.offsetSouth(), var2.offsetSouth(), var3);
+            this.func_175937_a(var1.east(), var2.east(), var3);
+            this.func_175937_a(var1.east().south(), var2.east().south(), var3);
+            this.func_175937_a(var1.south(), var2.south(), var3);
         }
     }
 
@@ -327,7 +327,7 @@ public class WorldGenBigTree extends WorldGenAbstractTree
      */
     private boolean validTreeLocation()
     {
-        Block var1 = this.field_175946_l.getBlockState(this.field_175947_m.offsetDown()).getBlock();
+        Block var1 = this.field_175946_l.getBlockState(this.field_175947_m.down()).getBlock();
 
         if (var1 != Blocks.dirt && var1 != Blocks.grass && var1 != Blocks.farmland)
         {
@@ -335,7 +335,7 @@ public class WorldGenBigTree extends WorldGenAbstractTree
         }
         else
         {
-            int var2 = this.func_175936_a(this.field_175947_m, this.field_175947_m.offsetUp(this.heightLimit - 1));
+            int var2 = this.func_175936_a(this.field_175947_m, this.field_175947_m.up(this.heightLimit - 1));
 
             if (var2 == -1)
             {
diff --git a/net/minecraft/world/gen/feature/WorldGenBlockBlob.java b/net/minecraft/world/gen/feature/WorldGenBlockBlob.java
index bf11dfd..c0e4198 100644
--- a/net/minecraft/world/gen/feature/WorldGenBlockBlob.java
+++ b/net/minecraft/world/gen/feature/WorldGenBlockBlob.java
@@ -28,9 +28,9 @@ public class WorldGenBlockBlob extends WorldGenerator
             {
                 label47:
                 {
-                    if (!worldIn.isAirBlock(p_180709_3_.offsetDown()))
+                    if (!worldIn.isAirBlock(p_180709_3_.down()))
                     {
-                        Block var4 = worldIn.getBlockState(p_180709_3_.offsetDown()).getBlock();
+                        Block var4 = worldIn.getBlockState(p_180709_3_.down()).getBlock();
 
                         if (var4 == Blocks.grass || var4 == Blocks.dirt || var4 == Blocks.stone)
                         {
@@ -38,7 +38,7 @@ public class WorldGenBlockBlob extends WorldGenerator
                         }
                     }
 
-                    p_180709_3_ = p_180709_3_.offsetDown();
+                    p_180709_3_ = p_180709_3_.down();
                     continue;
                 }
             }
diff --git a/net/minecraft/world/gen/feature/WorldGenCactus.java b/net/minecraft/world/gen/feature/WorldGenCactus.java
index 75dc375..dfaffbd 100644
--- a/net/minecraft/world/gen/feature/WorldGenCactus.java
+++ b/net/minecraft/world/gen/feature/WorldGenCactus.java
@@ -23,7 +23,7 @@ public class WorldGenCactus extends WorldGenerator
                 {
                     if (Blocks.cactus.canBlockStay(worldIn, var5))
                     {
-                        worldIn.setBlockState(var5.offsetUp(var7), Blocks.cactus.getDefaultState(), 2);
+                        worldIn.setBlockState(var5.up(var7), Blocks.cactus.getDefaultState(), 2);
                     }
                 }
             }
diff --git a/net/minecraft/world/gen/feature/WorldGenCanopyTree.java b/net/minecraft/world/gen/feature/WorldGenCanopyTree.java
index 91a4e12..6509b13 100644
--- a/net/minecraft/world/gen/feature/WorldGenCanopyTree.java
+++ b/net/minecraft/world/gen/feature/WorldGenCanopyTree.java
@@ -67,11 +67,11 @@ public class WorldGenCanopyTree extends WorldGenAbstractTree
             }
             else
             {
-                Block var18 = worldIn.getBlockState(p_180709_3_.offsetDown()).getBlock();
+                Block var18 = worldIn.getBlockState(p_180709_3_.down()).getBlock();
 
                 if ((var18 == Blocks.grass || var18 == Blocks.dirt) && p_180709_3_.getY() < 256 - var4 - 1)
                 {
-                    this.func_175921_a(worldIn, p_180709_3_.offsetDown());
+                    this.func_175921_a(worldIn, p_180709_3_.down());
                     this.func_175921_a(worldIn, p_180709_3_.add(1, -1, 0));
                     this.func_175921_a(worldIn, p_180709_3_.add(1, -1, 1));
                     this.func_175921_a(worldIn, p_180709_3_.add(0, -1, 1));
@@ -101,9 +101,9 @@ public class WorldGenCanopyTree extends WorldGenAbstractTree
                         if (var16 == Material.air || var16 == Material.leaves)
                         {
                             this.func_175905_a(worldIn, var15, Blocks.log2, BlockPlanks.EnumType.DARK_OAK.func_176839_a() - 4);
-                            this.func_175905_a(worldIn, var15.offsetEast(), Blocks.log2, BlockPlanks.EnumType.DARK_OAK.func_176839_a() - 4);
-                            this.func_175905_a(worldIn, var15.offsetSouth(), Blocks.log2, BlockPlanks.EnumType.DARK_OAK.func_176839_a() - 4);
-                            this.func_175905_a(worldIn, var15.offsetEast().offsetSouth(), Blocks.log2, BlockPlanks.EnumType.DARK_OAK.func_176839_a() - 4);
+                            this.func_175905_a(worldIn, var15.east(), Blocks.log2, BlockPlanks.EnumType.DARK_OAK.func_176839_a() - 4);
+                            this.func_175905_a(worldIn, var15.south(), Blocks.log2, BlockPlanks.EnumType.DARK_OAK.func_176839_a() - 4);
+                            this.func_175905_a(worldIn, var15.east().south(), Blocks.log2, BlockPlanks.EnumType.DARK_OAK.func_176839_a() - 4);
                             var12 = var14;
                         }
                     }
diff --git a/net/minecraft/world/gen/feature/WorldGenDeadBush.java b/net/minecraft/world/gen/feature/WorldGenDeadBush.java
index 3614d49..21b9988 100644
--- a/net/minecraft/world/gen/feature/WorldGenDeadBush.java
+++ b/net/minecraft/world/gen/feature/WorldGenDeadBush.java
@@ -17,7 +17,7 @@ public class WorldGenDeadBush extends WorldGenerator
 
         while (((var4 = worldIn.getBlockState(p_180709_3_).getBlock()).getMaterial() == Material.air || var4.getMaterial() == Material.leaves) && p_180709_3_.getY() > 0)
         {
-            p_180709_3_ = p_180709_3_.offsetDown();
+            p_180709_3_ = p_180709_3_.down();
         }
 
         for (int var5 = 0; var5 < 4; ++var5)
diff --git a/net/minecraft/world/gen/feature/WorldGenDesertWells.java b/net/minecraft/world/gen/feature/WorldGenDesertWells.java
index f408ede..54b0923 100644
--- a/net/minecraft/world/gen/feature/WorldGenDesertWells.java
+++ b/net/minecraft/world/gen/feature/WorldGenDesertWells.java
@@ -32,7 +32,7 @@ public class WorldGenDesertWells extends WorldGenerator
     {
         while (worldIn.isAirBlock(p_180709_3_) && p_180709_3_.getY() > 2)
         {
-            p_180709_3_ = p_180709_3_.offsetDown();
+            p_180709_3_ = p_180709_3_.down();
         }
 
         if (!field_175913_a.func_177639_a(worldIn.getBlockState(p_180709_3_)))
diff --git a/net/minecraft/world/gen/feature/WorldGenDungeons.java b/net/minecraft/world/gen/feature/WorldGenDungeons.java
index 7faf98e..40fd65f 100644
--- a/net/minecraft/world/gen/feature/WorldGenDungeons.java
+++ b/net/minecraft/world/gen/feature/WorldGenDungeons.java
@@ -61,7 +61,7 @@ public class WorldGenDungeons extends WorldGenerator
                         return false;
                     }
 
-                    if ((var14 == var6 || var14 == var7 || var16 == var11 || var16 == var12) && var15 == 0 && worldIn.isAirBlock(var17) && worldIn.isAirBlock(var17.offsetUp()))
+                    if ((var14 == var6 || var14 == var7 || var16 == var11 || var16 == var12) && var15 == 0 && worldIn.isAirBlock(var17) && worldIn.isAirBlock(var17.up()))
                     {
                         ++var13;
                     }
@@ -86,7 +86,7 @@ public class WorldGenDungeons extends WorldGenerator
                                 worldIn.setBlockToAir(var17);
                             }
                         }
-                        else if (var17.getY() >= 0 && !worldIn.getBlockState(var17.offsetDown()).getBlock().getMaterial().isSolid())
+                        else if (var17.getY() >= 0 && !worldIn.getBlockState(var17.down()).getBlock().getMaterial().isSolid())
                         {
                             worldIn.setBlockToAir(var17);
                         }
diff --git a/net/minecraft/world/gen/feature/WorldGenFire.java b/net/minecraft/world/gen/feature/WorldGenFire.java
index 59fb8f4..1338329 100644
--- a/net/minecraft/world/gen/feature/WorldGenFire.java
+++ b/net/minecraft/world/gen/feature/WorldGenFire.java
@@ -15,7 +15,7 @@ public class WorldGenFire extends WorldGenerator
         {
             BlockPos var5 = p_180709_3_.add(p_180709_2_.nextInt(8) - p_180709_2_.nextInt(8), p_180709_2_.nextInt(4) - p_180709_2_.nextInt(4), p_180709_2_.nextInt(8) - p_180709_2_.nextInt(8));
 
-            if (worldIn.isAirBlock(var5) && worldIn.getBlockState(var5.offsetDown()).getBlock() == Blocks.netherrack)
+            if (worldIn.isAirBlock(var5) && worldIn.getBlockState(var5.down()).getBlock() == Blocks.netherrack)
             {
                 worldIn.setBlockState(var5, Blocks.fire.getDefaultState(), 2);
             }
diff --git a/net/minecraft/world/gen/feature/WorldGenForest.java b/net/minecraft/world/gen/feature/WorldGenForest.java
index d3f81e9..4a4d8fb 100644
--- a/net/minecraft/world/gen/feature/WorldGenForest.java
+++ b/net/minecraft/world/gen/feature/WorldGenForest.java
@@ -74,11 +74,11 @@ public class WorldGenForest extends WorldGenAbstractTree
             }
             else
             {
-                Block var16 = worldIn.getBlockState(p_180709_3_.offsetDown()).getBlock();
+                Block var16 = worldIn.getBlockState(p_180709_3_.down()).getBlock();
 
                 if ((var16 == Blocks.grass || var16 == Blocks.dirt || var16 == Blocks.farmland) && p_180709_3_.getY() < 256 - var4 - 1)
                 {
-                    this.func_175921_a(worldIn, p_180709_3_.offsetDown());
+                    this.func_175921_a(worldIn, p_180709_3_.down());
                     int var17;
 
                     for (var17 = p_180709_3_.getY() - 3 + var4; var17 <= p_180709_3_.getY() + var4; ++var17)
@@ -110,11 +110,11 @@ public class WorldGenForest extends WorldGenAbstractTree
 
                     for (var17 = 0; var17 < var4; ++var17)
                     {
-                        Block var18 = worldIn.getBlockState(p_180709_3_.offsetUp(var17)).getBlock();
+                        Block var18 = worldIn.getBlockState(p_180709_3_.up(var17)).getBlock();
 
                         if (var18.getMaterial() == Material.air || var18.getMaterial() == Material.leaves)
                         {
-                            this.func_175905_a(worldIn, p_180709_3_.offsetUp(var17), Blocks.log, BlockPlanks.EnumType.BIRCH.func_176839_a());
+                            this.func_175905_a(worldIn, p_180709_3_.up(var17), Blocks.log, BlockPlanks.EnumType.BIRCH.func_176839_a());
                         }
                     }
 
diff --git a/net/minecraft/world/gen/feature/WorldGenGlowStone1.java b/net/minecraft/world/gen/feature/WorldGenGlowStone1.java
index c4a8abb..19d3a9d 100644
--- a/net/minecraft/world/gen/feature/WorldGenGlowStone1.java
+++ b/net/minecraft/world/gen/feature/WorldGenGlowStone1.java
@@ -17,7 +17,7 @@ public class WorldGenGlowStone1 extends WorldGenerator
         {
             return false;
         }
-        else if (worldIn.getBlockState(p_180709_3_.offsetUp()).getBlock() != Blocks.netherrack)
+        else if (worldIn.getBlockState(p_180709_3_.up()).getBlock() != Blocks.netherrack)
         {
             return false;
         }
diff --git a/net/minecraft/world/gen/feature/WorldGenGlowStone2.java b/net/minecraft/world/gen/feature/WorldGenGlowStone2.java
index 2dfcb69..6f54e16 100644
--- a/net/minecraft/world/gen/feature/WorldGenGlowStone2.java
+++ b/net/minecraft/world/gen/feature/WorldGenGlowStone2.java
@@ -17,7 +17,7 @@ public class WorldGenGlowStone2 extends WorldGenerator
         {
             return false;
         }
-        else if (worldIn.getBlockState(p_180709_3_.offsetUp()).getBlock() != Blocks.netherrack)
+        else if (worldIn.getBlockState(p_180709_3_.up()).getBlock() != Blocks.netherrack)
         {
             return false;
         }
diff --git a/net/minecraft/world/gen/feature/WorldGenHellLava.java b/net/minecraft/world/gen/feature/WorldGenHellLava.java
index 7e67888..45e4add 100644
--- a/net/minecraft/world/gen/feature/WorldGenHellLava.java
+++ b/net/minecraft/world/gen/feature/WorldGenHellLava.java
@@ -21,7 +21,7 @@ public class WorldGenHellLava extends WorldGenerator
 
     public boolean generate(World worldIn, Random p_180709_2_, BlockPos p_180709_3_)
     {
-        if (worldIn.getBlockState(p_180709_3_.offsetUp()).getBlock() != Blocks.netherrack)
+        if (worldIn.getBlockState(p_180709_3_.up()).getBlock() != Blocks.netherrack)
         {
             return false;
         }
@@ -33,54 +33,54 @@ public class WorldGenHellLava extends WorldGenerator
         {
             int var4 = 0;
 
-            if (worldIn.getBlockState(p_180709_3_.offsetWest()).getBlock() == Blocks.netherrack)
+            if (worldIn.getBlockState(p_180709_3_.west()).getBlock() == Blocks.netherrack)
             {
                 ++var4;
             }
 
-            if (worldIn.getBlockState(p_180709_3_.offsetEast()).getBlock() == Blocks.netherrack)
+            if (worldIn.getBlockState(p_180709_3_.east()).getBlock() == Blocks.netherrack)
             {
                 ++var4;
             }
 
-            if (worldIn.getBlockState(p_180709_3_.offsetNorth()).getBlock() == Blocks.netherrack)
+            if (worldIn.getBlockState(p_180709_3_.north()).getBlock() == Blocks.netherrack)
             {
                 ++var4;
             }
 
-            if (worldIn.getBlockState(p_180709_3_.offsetSouth()).getBlock() == Blocks.netherrack)
+            if (worldIn.getBlockState(p_180709_3_.south()).getBlock() == Blocks.netherrack)
             {
                 ++var4;
             }
 
-            if (worldIn.getBlockState(p_180709_3_.offsetDown()).getBlock() == Blocks.netherrack)
+            if (worldIn.getBlockState(p_180709_3_.down()).getBlock() == Blocks.netherrack)
             {
                 ++var4;
             }
 
             int var5 = 0;
 
-            if (worldIn.isAirBlock(p_180709_3_.offsetWest()))
+            if (worldIn.isAirBlock(p_180709_3_.west()))
             {
                 ++var5;
             }
 
-            if (worldIn.isAirBlock(p_180709_3_.offsetEast()))
+            if (worldIn.isAirBlock(p_180709_3_.east()))
             {
                 ++var5;
             }
 
-            if (worldIn.isAirBlock(p_180709_3_.offsetNorth()))
+            if (worldIn.isAirBlock(p_180709_3_.north()))
             {
                 ++var5;
             }
 
-            if (worldIn.isAirBlock(p_180709_3_.offsetSouth()))
+            if (worldIn.isAirBlock(p_180709_3_.south()))
             {
                 ++var5;
             }
 
-            if (worldIn.isAirBlock(p_180709_3_.offsetDown()))
+            if (worldIn.isAirBlock(p_180709_3_.down()))
             {
                 ++var5;
             }
diff --git a/net/minecraft/world/gen/feature/WorldGenHugeTrees.java b/net/minecraft/world/gen/feature/WorldGenHugeTrees.java
index 0648204..d050657 100644
--- a/net/minecraft/world/gen/feature/WorldGenHugeTrees.java
+++ b/net/minecraft/world/gen/feature/WorldGenHugeTrees.java
@@ -82,15 +82,15 @@ public abstract class WorldGenHugeTrees extends WorldGenAbstractTree
 
     private boolean func_175927_a(BlockPos p_175927_1_, World worldIn)
     {
-        BlockPos var3 = p_175927_1_.offsetDown();
+        BlockPos var3 = p_175927_1_.down();
         Block var4 = worldIn.getBlockState(var3).getBlock();
 
         if ((var4 == Blocks.grass || var4 == Blocks.dirt) && p_175927_1_.getY() >= 2)
         {
             this.func_175921_a(worldIn, var3);
-            this.func_175921_a(worldIn, var3.offsetEast());
-            this.func_175921_a(worldIn, var3.offsetSouth());
-            this.func_175921_a(worldIn, var3.offsetSouth().offsetEast());
+            this.func_175921_a(worldIn, var3.east());
+            this.func_175921_a(worldIn, var3.south());
+            this.func_175921_a(worldIn, var3.south().east());
             return true;
         }
         else
diff --git a/net/minecraft/world/gen/feature/WorldGenIcePath.java b/net/minecraft/world/gen/feature/WorldGenIcePath.java
index 0ac67d2..da6cedc 100644
--- a/net/minecraft/world/gen/feature/WorldGenIcePath.java
+++ b/net/minecraft/world/gen/feature/WorldGenIcePath.java
@@ -22,7 +22,7 @@ public class WorldGenIcePath extends WorldGenerator
     {
         while (worldIn.isAirBlock(p_180709_3_) && p_180709_3_.getY() > 2)
         {
-            p_180709_3_ = p_180709_3_.offsetDown();
+            p_180709_3_ = p_180709_3_.down();
         }
 
         if (worldIn.getBlockState(p_180709_3_).getBlock() != Blocks.snow)
diff --git a/net/minecraft/world/gen/feature/WorldGenIceSpike.java b/net/minecraft/world/gen/feature/WorldGenIceSpike.java
index 6e637fc..dbdcbf8 100644
--- a/net/minecraft/world/gen/feature/WorldGenIceSpike.java
+++ b/net/minecraft/world/gen/feature/WorldGenIceSpike.java
@@ -16,7 +16,7 @@ public class WorldGenIceSpike extends WorldGenerator
     {
         while (worldIn.isAirBlock(p_180709_3_) && p_180709_3_.getY() > 2)
         {
-            p_180709_3_ = p_180709_3_.offsetDown();
+            p_180709_3_ = p_180709_3_.down();
         }
 
         if (worldIn.getBlockState(p_180709_3_).getBlock() != Blocks.snow)
@@ -25,13 +25,13 @@ public class WorldGenIceSpike extends WorldGenerator
         }
         else
         {
-            p_180709_3_ = p_180709_3_.offsetUp(p_180709_2_.nextInt(4));
+            p_180709_3_ = p_180709_3_.up(p_180709_2_.nextInt(4));
             int var4 = p_180709_2_.nextInt(4) + 7;
             int var5 = var4 / 4 + p_180709_2_.nextInt(2);
 
             if (var5 > 1 && p_180709_2_.nextInt(60) == 0)
             {
-                p_180709_3_ = p_180709_3_.offsetUp(10 + p_180709_2_.nextInt(30));
+                p_180709_3_ = p_180709_3_.up(10 + p_180709_2_.nextInt(30));
             }
 
             int var6;
@@ -107,12 +107,12 @@ public class WorldGenIceSpike extends WorldGenerator
                             if (var17.getMaterial() == Material.air || var17 == Blocks.dirt || var17 == Blocks.snow || var17 == Blocks.ice || var17 == Blocks.packed_ice)
                             {
                                 this.func_175906_a(worldIn, var15, Blocks.packed_ice);
-                                var15 = var15.offsetDown();
+                                var15 = var15.down();
                                 --var16;
 
                                 if (var16 <= 0)
                                 {
-                                    var15 = var15.offsetDown(p_180709_2_.nextInt(5) + 1);
+                                    var15 = var15.down(p_180709_2_.nextInt(5) + 1);
                                     var16 = p_180709_2_.nextInt(5);
                                 }
 
diff --git a/net/minecraft/world/gen/feature/WorldGenLakes.java b/net/minecraft/world/gen/feature/WorldGenLakes.java
index 30ef2e0..137af1e 100644
--- a/net/minecraft/world/gen/feature/WorldGenLakes.java
+++ b/net/minecraft/world/gen/feature/WorldGenLakes.java
@@ -21,7 +21,7 @@ public class WorldGenLakes extends WorldGenerator
 
     public boolean generate(World worldIn, Random p_180709_2_, BlockPos p_180709_3_)
     {
-        for (p_180709_3_ = p_180709_3_.add(-8, 0, -8); p_180709_3_.getY() > 5 && worldIn.isAirBlock(p_180709_3_); p_180709_3_ = p_180709_3_.offsetDown())
+        for (p_180709_3_ = p_180709_3_.add(-8, 0, -8); p_180709_3_.getY() > 5 && worldIn.isAirBlock(p_180709_3_); p_180709_3_ = p_180709_3_.down())
         {
             ;
         }
@@ -32,7 +32,7 @@ public class WorldGenLakes extends WorldGenerator
         }
         else
         {
-            p_180709_3_ = p_180709_3_.offsetDown(4);
+            p_180709_3_ = p_180709_3_.down(4);
             boolean[] var4 = new boolean[2048];
             int var5 = p_180709_2_.nextInt(4) + 4;
             int var6;
diff --git a/net/minecraft/world/gen/feature/WorldGenLiquids.java b/net/minecraft/world/gen/feature/WorldGenLiquids.java
index ddd61ad..a303380 100644
--- a/net/minecraft/world/gen/feature/WorldGenLiquids.java
+++ b/net/minecraft/world/gen/feature/WorldGenLiquids.java
@@ -19,11 +19,11 @@ public class WorldGenLiquids extends WorldGenerator
 
     public boolean generate(World worldIn, Random p_180709_2_, BlockPos p_180709_3_)
     {
-        if (worldIn.getBlockState(p_180709_3_.offsetUp()).getBlock() != Blocks.stone)
+        if (worldIn.getBlockState(p_180709_3_.up()).getBlock() != Blocks.stone)
         {
             return false;
         }
-        else if (worldIn.getBlockState(p_180709_3_.offsetDown()).getBlock() != Blocks.stone)
+        else if (worldIn.getBlockState(p_180709_3_.down()).getBlock() != Blocks.stone)
         {
             return false;
         }
@@ -35,44 +35,44 @@ public class WorldGenLiquids extends WorldGenerator
         {
             int var4 = 0;
 
-            if (worldIn.getBlockState(p_180709_3_.offsetWest()).getBlock() == Blocks.stone)
+            if (worldIn.getBlockState(p_180709_3_.west()).getBlock() == Blocks.stone)
             {
                 ++var4;
             }
 
-            if (worldIn.getBlockState(p_180709_3_.offsetEast()).getBlock() == Blocks.stone)
+            if (worldIn.getBlockState(p_180709_3_.east()).getBlock() == Blocks.stone)
             {
                 ++var4;
             }
 
-            if (worldIn.getBlockState(p_180709_3_.offsetNorth()).getBlock() == Blocks.stone)
+            if (worldIn.getBlockState(p_180709_3_.north()).getBlock() == Blocks.stone)
             {
                 ++var4;
             }
 
-            if (worldIn.getBlockState(p_180709_3_.offsetSouth()).getBlock() == Blocks.stone)
+            if (worldIn.getBlockState(p_180709_3_.south()).getBlock() == Blocks.stone)
             {
                 ++var4;
             }
 
             int var5 = 0;
 
-            if (worldIn.isAirBlock(p_180709_3_.offsetWest()))
+            if (worldIn.isAirBlock(p_180709_3_.west()))
             {
                 ++var5;
             }
 
-            if (worldIn.isAirBlock(p_180709_3_.offsetEast()))
+            if (worldIn.isAirBlock(p_180709_3_.east()))
             {
                 ++var5;
             }
 
-            if (worldIn.isAirBlock(p_180709_3_.offsetNorth()))
+            if (worldIn.isAirBlock(p_180709_3_.north()))
             {
                 ++var5;
             }
 
-            if (worldIn.isAirBlock(p_180709_3_.offsetSouth()))
+            if (worldIn.isAirBlock(p_180709_3_.south()))
             {
                 ++var5;
             }
diff --git a/net/minecraft/world/gen/feature/WorldGenMegaJungle.java b/net/minecraft/world/gen/feature/WorldGenMegaJungle.java
index cf42ec4..cb9523f 100644
--- a/net/minecraft/world/gen/feature/WorldGenMegaJungle.java
+++ b/net/minecraft/world/gen/feature/WorldGenMegaJungle.java
@@ -27,7 +27,7 @@ public class WorldGenMegaJungle extends WorldGenHugeTrees
         }
         else
         {
-            this.func_175930_c(worldIn, p_180709_3_.offsetUp(var4), 2);
+            this.func_175930_c(worldIn, p_180709_3_.up(var4), 2);
 
             for (int var5 = p_180709_3_.getY() + var4 - 2 - p_180709_2_.nextInt(4); var5 > p_180709_3_.getY() + var4 / 2; var5 -= 2 + p_180709_2_.nextInt(4))
             {
@@ -55,7 +55,7 @@ public class WorldGenMegaJungle extends WorldGenHugeTrees
 
             for (int var13 = 0; var13 < var4; ++var13)
             {
-                BlockPos var14 = p_180709_3_.offsetUp(var13);
+                BlockPos var14 = p_180709_3_.up(var13);
 
                 if (this.func_175931_a(worldIn.getBlockState(var14).getBlock().getMaterial()))
                 {
@@ -63,14 +63,14 @@ public class WorldGenMegaJungle extends WorldGenHugeTrees
 
                     if (var13 > 0)
                     {
-                        this.func_175932_b(worldIn, p_180709_2_, var14.offsetWest(), BlockVine.field_176275_S);
-                        this.func_175932_b(worldIn, p_180709_2_, var14.offsetNorth(), BlockVine.field_176272_Q);
+                        this.func_175932_b(worldIn, p_180709_2_, var14.west(), BlockVine.field_176275_S);
+                        this.func_175932_b(worldIn, p_180709_2_, var14.north(), BlockVine.field_176272_Q);
                     }
                 }
 
                 if (var13 < var4 - 1)
                 {
-                    BlockPos var15 = var14.offsetEast();
+                    BlockPos var15 = var14.east();
 
                     if (this.func_175931_a(worldIn.getBlockState(var15).getBlock().getMaterial()))
                     {
@@ -78,12 +78,12 @@ public class WorldGenMegaJungle extends WorldGenHugeTrees
 
                         if (var13 > 0)
                         {
-                            this.func_175932_b(worldIn, p_180709_2_, var15.offsetEast(), BlockVine.field_176271_T);
-                            this.func_175932_b(worldIn, p_180709_2_, var15.offsetNorth(), BlockVine.field_176272_Q);
+                            this.func_175932_b(worldIn, p_180709_2_, var15.east(), BlockVine.field_176271_T);
+                            this.func_175932_b(worldIn, p_180709_2_, var15.north(), BlockVine.field_176272_Q);
                         }
                     }
 
-                    BlockPos var16 = var14.offsetSouth().offsetEast();
+                    BlockPos var16 = var14.south().east();
 
                     if (this.func_175931_a(worldIn.getBlockState(var16).getBlock().getMaterial()))
                     {
@@ -91,12 +91,12 @@ public class WorldGenMegaJungle extends WorldGenHugeTrees
 
                         if (var13 > 0)
                         {
-                            this.func_175932_b(worldIn, p_180709_2_, var16.offsetEast(), BlockVine.field_176271_T);
-                            this.func_175932_b(worldIn, p_180709_2_, var16.offsetSouth(), BlockVine.field_176276_R);
+                            this.func_175932_b(worldIn, p_180709_2_, var16.east(), BlockVine.field_176271_T);
+                            this.func_175932_b(worldIn, p_180709_2_, var16.south(), BlockVine.field_176276_R);
                         }
                     }
 
-                    BlockPos var17 = var14.offsetSouth();
+                    BlockPos var17 = var14.south();
 
                     if (this.func_175931_a(worldIn.getBlockState(var17).getBlock().getMaterial()))
                     {
@@ -104,8 +104,8 @@ public class WorldGenMegaJungle extends WorldGenHugeTrees
 
                         if (var13 > 0)
                         {
-                            this.func_175932_b(worldIn, p_180709_2_, var17.offsetWest(), BlockVine.field_176275_S);
-                            this.func_175932_b(worldIn, p_180709_2_, var17.offsetSouth(), BlockVine.field_176276_R);
+                            this.func_175932_b(worldIn, p_180709_2_, var17.west(), BlockVine.field_176275_S);
+                            this.func_175932_b(worldIn, p_180709_2_, var17.south(), BlockVine.field_176276_R);
                         }
                     }
                 }
@@ -134,7 +134,7 @@ public class WorldGenMegaJungle extends WorldGenHugeTrees
 
         for (int var5 = -var4; var5 <= 0; ++var5)
         {
-            this.func_175925_a(worldIn, p_175930_2_.offsetUp(var5), p_175930_3_ + 1 - var5);
+            this.func_175925_a(worldIn, p_175930_2_.up(var5), p_175930_3_ + 1 - var5);
         }
     }
 }
diff --git a/net/minecraft/world/gen/feature/WorldGenMegaPineTree.java b/net/minecraft/world/gen/feature/WorldGenMegaPineTree.java
index 73050ac..dc94aaa 100644
--- a/net/minecraft/world/gen/feature/WorldGenMegaPineTree.java
+++ b/net/minecraft/world/gen/feature/WorldGenMegaPineTree.java
@@ -35,11 +35,11 @@ public class WorldGenMegaPineTree extends WorldGenHugeTrees
 
             for (int var5 = 0; var5 < var4; ++var5)
             {
-                Block var6 = worldIn.getBlockState(p_180709_3_.offsetUp(var5)).getBlock();
+                Block var6 = worldIn.getBlockState(p_180709_3_.up(var5)).getBlock();
 
                 if (var6.getMaterial() == Material.air || var6.getMaterial() == Material.leaves)
                 {
-                    this.func_175905_a(worldIn, p_180709_3_.offsetUp(var5), Blocks.log, this.woodMetadata);
+                    this.func_175905_a(worldIn, p_180709_3_.up(var5), Blocks.log, this.woodMetadata);
                 }
 
                 if (var5 < var4 - 1)
@@ -87,10 +87,10 @@ public class WorldGenMegaPineTree extends WorldGenHugeTrees
 
     public void func_180711_a(World worldIn, Random p_180711_2_, BlockPos p_180711_3_)
     {
-        this.func_175933_b(worldIn, p_180711_3_.offsetWest().offsetNorth());
-        this.func_175933_b(worldIn, p_180711_3_.offsetEast(2).offsetNorth());
-        this.func_175933_b(worldIn, p_180711_3_.offsetWest().offsetSouth(2));
-        this.func_175933_b(worldIn, p_180711_3_.offsetEast(2).offsetSouth(2));
+        this.func_175933_b(worldIn, p_180711_3_.west().north());
+        this.func_175933_b(worldIn, p_180711_3_.east(2).north());
+        this.func_175933_b(worldIn, p_180711_3_.west().south(2));
+        this.func_175933_b(worldIn, p_180711_3_.east(2).south(2));
 
         for (int var4 = 0; var4 < 5; ++var4)
         {
@@ -123,7 +123,7 @@ public class WorldGenMegaPineTree extends WorldGenHugeTrees
     {
         for (int var3 = 2; var3 >= -3; --var3)
         {
-            BlockPos var4 = p_175934_2_.offsetUp(var3);
+            BlockPos var4 = p_175934_2_.up(var3);
             Block var5 = worldIn.getBlockState(var4).getBlock();
 
             if (var5 == Blocks.grass || var5 == Blocks.dirt)
diff --git a/net/minecraft/world/gen/feature/WorldGenMelon.java b/net/minecraft/world/gen/feature/WorldGenMelon.java
index 8d31f09..81db0a7 100644
--- a/net/minecraft/world/gen/feature/WorldGenMelon.java
+++ b/net/minecraft/world/gen/feature/WorldGenMelon.java
@@ -15,7 +15,7 @@ public class WorldGenMelon extends WorldGenerator
         {
             BlockPos var5 = p_180709_3_.add(p_180709_2_.nextInt(8) - p_180709_2_.nextInt(8), p_180709_2_.nextInt(4) - p_180709_2_.nextInt(4), p_180709_2_.nextInt(8) - p_180709_2_.nextInt(8));
 
-            if (Blocks.melon_block.canPlaceBlockAt(worldIn, var5) && worldIn.getBlockState(var5.offsetDown()).getBlock() == Blocks.grass)
+            if (Blocks.melon_block.canPlaceBlockAt(worldIn, var5) && worldIn.getBlockState(var5.down()).getBlock() == Blocks.grass)
             {
                 worldIn.setBlockState(var5, Blocks.melon_block.getDefaultState(), 2);
             }
diff --git a/net/minecraft/world/gen/feature/WorldGenPumpkin.java b/net/minecraft/world/gen/feature/WorldGenPumpkin.java
index a2394aa..ff4e212 100644
--- a/net/minecraft/world/gen/feature/WorldGenPumpkin.java
+++ b/net/minecraft/world/gen/feature/WorldGenPumpkin.java
@@ -17,7 +17,7 @@ public class WorldGenPumpkin extends WorldGenerator
         {
             BlockPos var5 = p_180709_3_.add(p_180709_2_.nextInt(8) - p_180709_2_.nextInt(8), p_180709_2_.nextInt(4) - p_180709_2_.nextInt(4), p_180709_2_.nextInt(8) - p_180709_2_.nextInt(8));
 
-            if (worldIn.isAirBlock(var5) && worldIn.getBlockState(var5.offsetDown()).getBlock() == Blocks.grass && Blocks.pumpkin.canPlaceBlockAt(worldIn, var5))
+            if (worldIn.isAirBlock(var5) && worldIn.getBlockState(var5.down()).getBlock() == Blocks.grass && Blocks.pumpkin.canPlaceBlockAt(worldIn, var5))
             {
                 worldIn.setBlockState(var5, Blocks.pumpkin.getDefaultState().withProperty(BlockPumpkin.AGE, EnumFacing.Plane.HORIZONTAL.random(p_180709_2_)), 2);
             }
diff --git a/net/minecraft/world/gen/feature/WorldGenReed.java b/net/minecraft/world/gen/feature/WorldGenReed.java
index c8cab27..202c651 100644
--- a/net/minecraft/world/gen/feature/WorldGenReed.java
+++ b/net/minecraft/world/gen/feature/WorldGenReed.java
@@ -18,9 +18,9 @@ public class WorldGenReed extends WorldGenerator
 
             if (worldIn.isAirBlock(var5))
             {
-                BlockPos var6 = var5.offsetDown();
+                BlockPos var6 = var5.down();
 
-                if (worldIn.getBlockState(var6.offsetWest()).getBlock().getMaterial() == Material.water || worldIn.getBlockState(var6.offsetEast()).getBlock().getMaterial() == Material.water || worldIn.getBlockState(var6.offsetNorth()).getBlock().getMaterial() == Material.water || worldIn.getBlockState(var6.offsetSouth()).getBlock().getMaterial() == Material.water)
+                if (worldIn.getBlockState(var6.west()).getBlock().getMaterial() == Material.water || worldIn.getBlockState(var6.east()).getBlock().getMaterial() == Material.water || worldIn.getBlockState(var6.north()).getBlock().getMaterial() == Material.water || worldIn.getBlockState(var6.south()).getBlock().getMaterial() == Material.water)
                 {
                     int var7 = 2 + p_180709_2_.nextInt(p_180709_2_.nextInt(3) + 1);
 
@@ -28,7 +28,7 @@ public class WorldGenReed extends WorldGenerator
                     {
                         if (Blocks.reeds.func_176354_d(worldIn, var5))
                         {
-                            worldIn.setBlockState(var5.offsetUp(var8), Blocks.reeds.getDefaultState(), 2);
+                            worldIn.setBlockState(var5.up(var8), Blocks.reeds.getDefaultState(), 2);
                         }
                     }
                 }
diff --git a/net/minecraft/world/gen/feature/WorldGenSavannaTree.java b/net/minecraft/world/gen/feature/WorldGenSavannaTree.java
index f69565e..b8bfa38 100644
--- a/net/minecraft/world/gen/feature/WorldGenSavannaTree.java
+++ b/net/minecraft/world/gen/feature/WorldGenSavannaTree.java
@@ -67,11 +67,11 @@ public class WorldGenSavannaTree extends WorldGenAbstractTree
             }
             else
             {
-                Block var20 = worldIn.getBlockState(p_180709_3_.offsetDown()).getBlock();
+                Block var20 = worldIn.getBlockState(p_180709_3_.down()).getBlock();
 
                 if ((var20 == Blocks.grass || var20 == Blocks.dirt) && p_180709_3_.getY() < 256 - var4 - 1)
                 {
-                    this.func_175921_a(worldIn, p_180709_3_.offsetDown());
+                    this.func_175921_a(worldIn, p_180709_3_.down());
                     EnumFacing var21 = EnumFacing.Plane.HORIZONTAL.random(p_180709_2_);
                     var8 = var4 - p_180709_2_.nextInt(4) - 1;
                     var9 = 3 - p_180709_2_.nextInt(3);
@@ -115,7 +115,7 @@ public class WorldGenSavannaTree extends WorldGenAbstractTree
                         }
                     }
 
-                    var22 = var22.offsetUp();
+                    var22 = var22.up();
 
                     for (var14 = -1; var14 <= 1; ++var14)
                     {
@@ -125,10 +125,10 @@ public class WorldGenSavannaTree extends WorldGenAbstractTree
                         }
                     }
 
-                    this.func_175924_b(worldIn, var22.offsetEast(2));
-                    this.func_175924_b(worldIn, var22.offsetWest(2));
-                    this.func_175924_b(worldIn, var22.offsetSouth(2));
-                    this.func_175924_b(worldIn, var22.offsetNorth(2));
+                    this.func_175924_b(worldIn, var22.east(2));
+                    this.func_175924_b(worldIn, var22.west(2));
+                    this.func_175924_b(worldIn, var22.south(2));
+                    this.func_175924_b(worldIn, var22.north(2));
                     var10 = p_180709_3_.getX();
                     var11 = p_180709_3_.getZ();
                     EnumFacing var23 = EnumFacing.Plane.HORIZONTAL.random(p_180709_2_);
@@ -176,7 +176,7 @@ public class WorldGenSavannaTree extends WorldGenAbstractTree
                                 }
                             }
 
-                            var26 = var26.offsetUp();
+                            var26 = var26.up();
 
                             for (var17 = -1; var17 <= 1; ++var17)
                             {
diff --git a/net/minecraft/world/gen/feature/WorldGenShrub.java b/net/minecraft/world/gen/feature/WorldGenShrub.java
index 6dfd2ea..da0ca1f 100644
--- a/net/minecraft/world/gen/feature/WorldGenShrub.java
+++ b/net/minecraft/world/gen/feature/WorldGenShrub.java
@@ -26,14 +26,14 @@ public class WorldGenShrub extends WorldGenTrees
 
         while (((var4 = worldIn.getBlockState(p_180709_3_).getBlock()).getMaterial() == Material.air || var4.getMaterial() == Material.leaves) && p_180709_3_.getY() > 0)
         {
-            p_180709_3_ = p_180709_3_.offsetDown();
+            p_180709_3_ = p_180709_3_.down();
         }
 
         Block var5 = worldIn.getBlockState(p_180709_3_).getBlock();
 
         if (var5 == Blocks.dirt || var5 == Blocks.grass)
         {
-            p_180709_3_ = p_180709_3_.offsetUp();
+            p_180709_3_ = p_180709_3_.up();
             this.func_175905_a(worldIn, p_180709_3_, Blocks.log, this.field_150527_b);
 
             for (int var6 = p_180709_3_.getY(); var6 <= p_180709_3_.getY() + 2; ++var6)
diff --git a/net/minecraft/world/gen/feature/WorldGenSpikes.java b/net/minecraft/world/gen/feature/WorldGenSpikes.java
index d7f232a..fa4410c 100644
--- a/net/minecraft/world/gen/feature/WorldGenSpikes.java
+++ b/net/minecraft/world/gen/feature/WorldGenSpikes.java
@@ -19,7 +19,7 @@ public class WorldGenSpikes extends WorldGenerator
 
     public boolean generate(World worldIn, Random p_180709_2_, BlockPos p_180709_3_)
     {
-        if (worldIn.isAirBlock(p_180709_3_) && worldIn.getBlockState(p_180709_3_.offsetDown()).getBlock() == this.field_150520_a)
+        if (worldIn.isAirBlock(p_180709_3_) && worldIn.getBlockState(p_180709_3_.down()).getBlock() == this.field_150520_a)
         {
             int var4 = p_180709_2_.nextInt(32) + 6;
             int var5 = p_180709_2_.nextInt(4) + 1;
@@ -62,7 +62,7 @@ public class WorldGenSpikes extends WorldGenerator
             EntityEnderCrystal var11 = new EntityEnderCrystal(worldIn);
             var11.setLocationAndAngles((double)((float)p_180709_3_.getX() + 0.5F), (double)(p_180709_3_.getY() + var4), (double)((float)p_180709_3_.getZ() + 0.5F), p_180709_2_.nextFloat() * 360.0F, 0.0F);
             worldIn.spawnEntityInWorld(var11);
-            worldIn.setBlockState(p_180709_3_.offsetUp(var4), Blocks.bedrock.getDefaultState(), 2);
+            worldIn.setBlockState(p_180709_3_.up(var4), Blocks.bedrock.getDefaultState(), 2);
             return true;
         }
         else
diff --git a/net/minecraft/world/gen/feature/WorldGenSwamp.java b/net/minecraft/world/gen/feature/WorldGenSwamp.java
index 97454d2..4785df6 100644
--- a/net/minecraft/world/gen/feature/WorldGenSwamp.java
+++ b/net/minecraft/world/gen/feature/WorldGenSwamp.java
@@ -21,7 +21,7 @@ public class WorldGenSwamp extends WorldGenAbstractTree
     {
         int var4;
 
-        for (var4 = p_180709_2_.nextInt(4) + 5; worldIn.getBlockState(p_180709_3_.offsetDown()).getBlock().getMaterial() == Material.water; p_180709_3_ = p_180709_3_.offsetDown())
+        for (var4 = p_180709_2_.nextInt(4) + 5; worldIn.getBlockState(p_180709_3_.down()).getBlock().getMaterial() == Material.water; p_180709_3_ = p_180709_3_.down())
         {
             ;
         }
@@ -81,11 +81,11 @@ public class WorldGenSwamp extends WorldGenAbstractTree
             }
             else
             {
-                Block var17 = worldIn.getBlockState(p_180709_3_.offsetDown()).getBlock();
+                Block var17 = worldIn.getBlockState(p_180709_3_.down()).getBlock();
 
                 if ((var17 == Blocks.grass || var17 == Blocks.dirt) && p_180709_3_.getY() < 256 - var4 - 1)
                 {
-                    this.func_175921_a(worldIn, p_180709_3_.offsetDown());
+                    this.func_175921_a(worldIn, p_180709_3_.down());
                     int var11;
                     BlockPos var14;
                     int var18;
@@ -119,11 +119,11 @@ public class WorldGenSwamp extends WorldGenAbstractTree
 
                     for (var18 = 0; var18 < var4; ++var18)
                     {
-                        Block var19 = worldIn.getBlockState(p_180709_3_.offsetUp(var18)).getBlock();
+                        Block var19 = worldIn.getBlockState(p_180709_3_.up(var18)).getBlock();
 
                         if (var19.getMaterial() == Material.air || var19.getMaterial() == Material.leaves || var19 == Blocks.flowing_water || var19 == Blocks.water)
                         {
-                            this.func_175906_a(worldIn, p_180709_3_.offsetUp(var18), Blocks.log);
+                            this.func_175906_a(worldIn, p_180709_3_.up(var18), Blocks.log);
                         }
                     }
 
@@ -140,10 +140,10 @@ public class WorldGenSwamp extends WorldGenAbstractTree
 
                                 if (worldIn.getBlockState(var21).getBlock().getMaterial() == Material.leaves)
                                 {
-                                    BlockPos var22 = var21.offsetWest();
-                                    var14 = var21.offsetEast();
-                                    BlockPos var15 = var21.offsetNorth();
-                                    BlockPos var16 = var21.offsetSouth();
+                                    BlockPos var22 = var21.west();
+                                    var14 = var21.east();
+                                    BlockPos var15 = var21.north();
+                                    BlockPos var16 = var21.south();
 
                                     if (p_180709_2_.nextInt(4) == 0 && worldIn.getBlockState(var22).getBlock().getMaterial() == Material.air)
                                     {
@@ -188,10 +188,10 @@ public class WorldGenSwamp extends WorldGenAbstractTree
         this.func_175905_a(worldIn, p_175922_2_, Blocks.vine, p_175922_3_);
         int var4 = 4;
 
-        for (p_175922_2_ = p_175922_2_.offsetDown(); worldIn.getBlockState(p_175922_2_).getBlock().getMaterial() == Material.air && var4 > 0; --var4)
+        for (p_175922_2_ = p_175922_2_.down(); worldIn.getBlockState(p_175922_2_).getBlock().getMaterial() == Material.air && var4 > 0; --var4)
         {
             this.func_175905_a(worldIn, p_175922_2_, Blocks.vine, p_175922_3_);
-            p_175922_2_ = p_175922_2_.offsetDown();
+            p_175922_2_ = p_175922_2_.down();
         }
     }
 }
diff --git a/net/minecraft/world/gen/feature/WorldGenTaiga1.java b/net/minecraft/world/gen/feature/WorldGenTaiga1.java
index 3de87be..cc80fcb 100644
--- a/net/minecraft/world/gen/feature/WorldGenTaiga1.java
+++ b/net/minecraft/world/gen/feature/WorldGenTaiga1.java
@@ -69,11 +69,11 @@ public class WorldGenTaiga1 extends WorldGenAbstractTree
             }
             else
             {
-                Block var17 = worldIn.getBlockState(p_180709_3_.offsetDown()).getBlock();
+                Block var17 = worldIn.getBlockState(p_180709_3_.down()).getBlock();
 
                 if ((var17 == Blocks.grass || var17 == Blocks.dirt) && p_180709_3_.getY() < 256 - var4 - 1)
                 {
-                    this.func_175921_a(worldIn, p_180709_3_.offsetDown());
+                    this.func_175921_a(worldIn, p_180709_3_.down());
                     var18 = 0;
 
                     for (var11 = p_180709_3_.getY() + var4; var11 >= p_180709_3_.getY() + var5; --var11)
@@ -110,11 +110,11 @@ public class WorldGenTaiga1 extends WorldGenAbstractTree
 
                     for (var11 = 0; var11 < var4 - 1; ++var11)
                     {
-                        Block var19 = worldIn.getBlockState(p_180709_3_.offsetUp(var11)).getBlock();
+                        Block var19 = worldIn.getBlockState(p_180709_3_.up(var11)).getBlock();
 
                         if (var19.getMaterial() == Material.air || var19.getMaterial() == Material.leaves)
                         {
-                            this.func_175905_a(worldIn, p_180709_3_.offsetUp(var11), Blocks.log, BlockPlanks.EnumType.SPRUCE.func_176839_a());
+                            this.func_175905_a(worldIn, p_180709_3_.up(var11), Blocks.log, BlockPlanks.EnumType.SPRUCE.func_176839_a());
                         }
                     }
 
diff --git a/net/minecraft/world/gen/feature/WorldGenTaiga2.java b/net/minecraft/world/gen/feature/WorldGenTaiga2.java
index 66c8d75..3b28d0b 100644
--- a/net/minecraft/world/gen/feature/WorldGenTaiga2.java
+++ b/net/minecraft/world/gen/feature/WorldGenTaiga2.java
@@ -70,11 +70,11 @@ public class WorldGenTaiga2 extends WorldGenAbstractTree
             }
             else
             {
-                Block var20 = worldIn.getBlockState(p_180709_3_.offsetDown()).getBlock();
+                Block var20 = worldIn.getBlockState(p_180709_3_.down()).getBlock();
 
                 if ((var20 == Blocks.grass || var20 == Blocks.dirt || var20 == Blocks.farmland) && p_180709_3_.getY() < 256 - var4 - 1)
                 {
-                    this.func_175921_a(worldIn, p_180709_3_.offsetDown());
+                    this.func_175921_a(worldIn, p_180709_3_.down());
                     var21 = p_180709_2_.nextInt(2);
                     var11 = 1;
                     byte var22 = 0;
@@ -126,11 +126,11 @@ public class WorldGenTaiga2 extends WorldGenAbstractTree
 
                     for (var14 = 0; var14 < var4 - var23; ++var14)
                     {
-                        Block var24 = worldIn.getBlockState(p_180709_3_.offsetUp(var14)).getBlock();
+                        Block var24 = worldIn.getBlockState(p_180709_3_.up(var14)).getBlock();
 
                         if (var24.getMaterial() == Material.air || var24.getMaterial() == Material.leaves)
                         {
-                            this.func_175905_a(worldIn, p_180709_3_.offsetUp(var14), Blocks.log, BlockPlanks.EnumType.SPRUCE.func_176839_a());
+                            this.func_175905_a(worldIn, p_180709_3_.up(var14), Blocks.log, BlockPlanks.EnumType.SPRUCE.func_176839_a());
                         }
                     }
 
diff --git a/net/minecraft/world/gen/feature/WorldGenTallGrass.java b/net/minecraft/world/gen/feature/WorldGenTallGrass.java
index 200dad9..cba89f8 100644
--- a/net/minecraft/world/gen/feature/WorldGenTallGrass.java
+++ b/net/minecraft/world/gen/feature/WorldGenTallGrass.java
@@ -25,7 +25,7 @@ public class WorldGenTallGrass extends WorldGenerator
 
         while (((var4 = worldIn.getBlockState(p_180709_3_).getBlock()).getMaterial() == Material.air || var4.getMaterial() == Material.leaves) && p_180709_3_.getY() > 0)
         {
-            p_180709_3_ = p_180709_3_.offsetDown();
+            p_180709_3_ = p_180709_3_.down();
         }
 
         for (int var5 = 0; var5 < 128; ++var5)
diff --git a/net/minecraft/world/gen/feature/WorldGenTrees.java b/net/minecraft/world/gen/feature/WorldGenTrees.java
index e75137f..55c5ec3 100644
--- a/net/minecraft/world/gen/feature/WorldGenTrees.java
+++ b/net/minecraft/world/gen/feature/WorldGenTrees.java
@@ -87,11 +87,11 @@ public class WorldGenTrees extends WorldGenAbstractTree
             }
             else
             {
-                Block var19 = worldIn.getBlockState(p_180709_3_.offsetDown()).getBlock();
+                Block var19 = worldIn.getBlockState(p_180709_3_.down()).getBlock();
 
                 if ((var19 == Blocks.grass || var19 == Blocks.dirt || var19 == Blocks.farmland) && p_180709_3_.getY() < 256 - var4 - 1)
                 {
-                    this.func_175921_a(worldIn, p_180709_3_.offsetDown());
+                    this.func_175921_a(worldIn, p_180709_3_.down());
                     var7 = 3;
                     byte var20 = 0;
                     int var10;
@@ -129,11 +129,11 @@ public class WorldGenTrees extends WorldGenAbstractTree
 
                     for (var9 = 0; var9 < var4; ++var9)
                     {
-                        Block var21 = worldIn.getBlockState(p_180709_3_.offsetUp(var9)).getBlock();
+                        Block var21 = worldIn.getBlockState(p_180709_3_.up(var9)).getBlock();
 
                         if (var21.getMaterial() == Material.air || var21.getMaterial() == Material.leaves || var21.getMaterial() == Material.vine)
                         {
-                            this.func_175905_a(worldIn, p_180709_3_.offsetUp(var9), Blocks.log, this.metaWood);
+                            this.func_175905_a(worldIn, p_180709_3_.up(var9), Blocks.log, this.metaWood);
 
                             if (this.vinesGrow && var9 > 0)
                             {
@@ -175,10 +175,10 @@ public class WorldGenTrees extends WorldGenAbstractTree
 
                                     if (worldIn.getBlockState(var23).getBlock().getMaterial() == Material.leaves)
                                     {
-                                        BlockPos var24 = var23.offsetWest();
-                                        var16 = var23.offsetEast();
-                                        BlockPos var25 = var23.offsetNorth();
-                                        BlockPos var18 = var23.offsetSouth();
+                                        BlockPos var24 = var23.west();
+                                        var16 = var23.east();
+                                        BlockPos var25 = var23.north();
+                                        BlockPos var18 = var23.south();
 
                                         if (p_180709_2_.nextInt(4) == 0 && worldIn.getBlockState(var24).getBlock().getMaterial() == Material.air)
                                         {
@@ -240,10 +240,10 @@ public class WorldGenTrees extends WorldGenAbstractTree
         this.func_175905_a(worldIn, p_175923_2_, Blocks.vine, p_175923_3_);
         int var4 = 4;
 
-        for (p_175923_2_ = p_175923_2_.offsetDown(); worldIn.getBlockState(p_175923_2_).getBlock().getMaterial() == Material.air && var4 > 0; --var4)
+        for (p_175923_2_ = p_175923_2_.down(); worldIn.getBlockState(p_175923_2_).getBlock().getMaterial() == Material.air && var4 > 0; --var4)
         {
             this.func_175905_a(worldIn, p_175923_2_, Blocks.vine, p_175923_3_);
-            p_175923_2_ = p_175923_2_.offsetDown();
+            p_175923_2_ = p_175923_2_.down();
         }
     }
 }
diff --git a/net/minecraft/world/gen/feature/WorldGenVines.java b/net/minecraft/world/gen/feature/WorldGenVines.java
index 2fcbaeb..63a03dc 100644
--- a/net/minecraft/world/gen/feature/WorldGenVines.java
+++ b/net/minecraft/world/gen/feature/WorldGenVines.java
@@ -14,7 +14,7 @@ public class WorldGenVines extends WorldGenerator
 
     public boolean generate(World worldIn, Random p_180709_2_, BlockPos p_180709_3_)
     {
-        for (; p_180709_3_.getY() < 128; p_180709_3_ = p_180709_3_.offsetUp())
+        for (; p_180709_3_.getY() < 128; p_180709_3_ = p_180709_3_.up())
         {
             if (worldIn.isAirBlock(p_180709_3_))
             {
diff --git a/net/minecraft/world/gen/feature/WorldGeneratorBonusChest.java b/net/minecraft/world/gen/feature/WorldGeneratorBonusChest.java
index 9f60ff0..a5b85bd 100644
--- a/net/minecraft/world/gen/feature/WorldGeneratorBonusChest.java
+++ b/net/minecraft/world/gen/feature/WorldGeneratorBonusChest.java
@@ -33,7 +33,7 @@ public class WorldGeneratorBonusChest extends WorldGenerator
 
         while (((var4 = worldIn.getBlockState(p_180709_3_).getBlock()).getMaterial() == Material.air || var4.getMaterial() == Material.leaves) && p_180709_3_.getY() > 1)
         {
-            p_180709_3_ = p_180709_3_.offsetDown();
+            p_180709_3_ = p_180709_3_.down();
         }
 
         if (p_180709_3_.getY() < 1)
@@ -42,13 +42,13 @@ public class WorldGeneratorBonusChest extends WorldGenerator
         }
         else
         {
-            p_180709_3_ = p_180709_3_.offsetUp();
+            p_180709_3_ = p_180709_3_.up();
 
             for (int var5 = 0; var5 < 4; ++var5)
             {
                 BlockPos var6 = p_180709_3_.add(p_180709_2_.nextInt(4) - p_180709_2_.nextInt(4), p_180709_2_.nextInt(3) - p_180709_2_.nextInt(3), p_180709_2_.nextInt(4) - p_180709_2_.nextInt(4));
 
-                if (worldIn.isAirBlock(var6) && World.doesBlockHaveSolidTopSurface(worldIn, var6.offsetDown()))
+                if (worldIn.isAirBlock(var6) && World.doesBlockHaveSolidTopSurface(worldIn, var6.down()))
                 {
                     worldIn.setBlockState(var6, Blocks.chest.getDefaultState(), 2);
                     TileEntity var7 = worldIn.getTileEntity(var6);
@@ -58,27 +58,27 @@ public class WorldGeneratorBonusChest extends WorldGenerator
                         WeightedRandomChestContent.generateChestContents(p_180709_2_, this.field_175909_a, (TileEntityChest)var7, this.itemsToGenerateInBonusChest);
                     }
 
-                    BlockPos var8 = var6.offsetEast();
-                    BlockPos var9 = var6.offsetWest();
-                    BlockPos var10 = var6.offsetNorth();
-                    BlockPos var11 = var6.offsetSouth();
+                    BlockPos var8 = var6.east();
+                    BlockPos var9 = var6.west();
+                    BlockPos var10 = var6.north();
+                    BlockPos var11 = var6.south();
 
-                    if (worldIn.isAirBlock(var9) && World.doesBlockHaveSolidTopSurface(worldIn, var9.offsetDown()))
+                    if (worldIn.isAirBlock(var9) && World.doesBlockHaveSolidTopSurface(worldIn, var9.down()))
                     {
                         worldIn.setBlockState(var9, Blocks.torch.getDefaultState(), 2);
                     }
 
-                    if (worldIn.isAirBlock(var8) && World.doesBlockHaveSolidTopSurface(worldIn, var8.offsetDown()))
+                    if (worldIn.isAirBlock(var8) && World.doesBlockHaveSolidTopSurface(worldIn, var8.down()))
                     {
                         worldIn.setBlockState(var8, Blocks.torch.getDefaultState(), 2);
                     }
 
-                    if (worldIn.isAirBlock(var10) && World.doesBlockHaveSolidTopSurface(worldIn, var10.offsetDown()))
+                    if (worldIn.isAirBlock(var10) && World.doesBlockHaveSolidTopSurface(worldIn, var10.down()))
                     {
                         worldIn.setBlockState(var10, Blocks.torch.getDefaultState(), 2);
                     }
 
-                    if (worldIn.isAirBlock(var11) && World.doesBlockHaveSolidTopSurface(worldIn, var11.offsetDown()))
+                    if (worldIn.isAirBlock(var11) && World.doesBlockHaveSolidTopSurface(worldIn, var11.down()))
                     {
                         worldIn.setBlockState(var11, Blocks.torch.getDefaultState(), 2);
                     }
diff --git a/net/minecraft/world/gen/layer/GenLayer.java b/net/minecraft/world/gen/layer/GenLayer.java
index 1d31674..186c3bd 100644
--- a/net/minecraft/world/gen/layer/GenLayer.java
+++ b/net/minecraft/world/gen/layer/GenLayer.java
@@ -1,6 +1,7 @@
 package net.minecraft.world.gen.layer;
 
 import java.util.concurrent.Callable;
+
 import net.minecraft.crash.CrashReport;
 import net.minecraft.crash.CrashReportCategory;
 import net.minecraft.util.ReportedException;
diff --git a/net/minecraft/world/gen/structure/MapGenStructure.java b/net/minecraft/world/gen/structure/MapGenStructure.java
index e39a8f2..9f3a45e 100644
--- a/net/minecraft/world/gen/structure/MapGenStructure.java
+++ b/net/minecraft/world/gen/structure/MapGenStructure.java
@@ -1,11 +1,13 @@
 package net.minecraft.world.gen.structure;
 
 import com.google.common.collect.Maps;
+
 import java.util.Iterator;
 import java.util.List;
 import java.util.Map;
 import java.util.Random;
 import java.util.concurrent.Callable;
+
 import net.minecraft.crash.CrashReport;
 import net.minecraft.crash.CrashReportCategory;
 import net.minecraft.nbt.NBTBase;
diff --git a/net/minecraft/world/gen/structure/StructureComponent.java b/net/minecraft/world/gen/structure/StructureComponent.java
index 3792db0..ab8aed1 100644
--- a/net/minecraft/world/gen/structure/StructureComponent.java
+++ b/net/minecraft/world/gen/structure/StructureComponent.java
@@ -742,7 +742,7 @@ public abstract class StructureComponent
             while (!worldIn.isAirBlock(var6) && var6.getY() < 255)
             {
                 worldIn.setBlockState(var6, Blocks.air.getDefaultState(), 2);
-                var6 = var6.offsetUp();
+                var6 = var6.up();
             }
         }
     }
diff --git a/net/minecraft/world/gen/structure/StructureVillagePieces.java b/net/minecraft/world/gen/structure/StructureVillagePieces.java
index 8592d62..0ae960f 100644
--- a/net/minecraft/world/gen/structure/StructureVillagePieces.java
+++ b/net/minecraft/world/gen/structure/StructureVillagePieces.java
@@ -1373,9 +1373,9 @@ public class StructureVillagePieces
 
                     if (p_74875_3_.func_175898_b(var8))
                     {
-                        var8 = worldIn.func_175672_r(var8).offsetDown();
+                        var8 = worldIn.func_175672_r(var8).down();
                         worldIn.setBlockState(var8, var4, 2);
-                        worldIn.setBlockState(var8.offsetDown(), var5, 2);
+                        worldIn.setBlockState(var8.down(), var5, 2);
                     }
                 }
             }
diff --git a/net/minecraft/world/pathfinder/WalkNodeProcessor.java b/net/minecraft/world/pathfinder/WalkNodeProcessor.java
index abb7761..f0b3fc2 100644
--- a/net/minecraft/world/pathfinder/WalkNodeProcessor.java
+++ b/net/minecraft/world/pathfinder/WalkNodeProcessor.java
@@ -212,7 +212,7 @@ public class WalkNodeProcessor extends NodeProcessor
 
                         if (p_176170_1_.worldObj.getBlockState(var16).getBlock() instanceof BlockRailBase)
                         {
-                            if (!(p_176170_1_.worldObj.getBlockState(var12).getBlock() instanceof BlockRailBase) && !(p_176170_1_.worldObj.getBlockState(var12.offsetDown()).getBlock() instanceof BlockRailBase))
+                            if (!(p_176170_1_.worldObj.getBlockState(var12).getBlock() instanceof BlockRailBase) && !(p_176170_1_.worldObj.getBlockState(var12.down()).getBlock() instanceof BlockRailBase))
                             {
                                 return -3;
                             }
-- 
2.0.0

